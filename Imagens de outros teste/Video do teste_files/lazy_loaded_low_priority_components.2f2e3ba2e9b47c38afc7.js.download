/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{bacbeacgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=i(a("bdjjabfecc")),g=a("bbjjjbicfb"),b=n(a("bijffg")),v=i(a("eaeceibcgf")),j=i(a("ecdebjcgfa")),E=i(a("dgdcjccfdi")),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(){a.props.onUpdateColor({id:a.props.labelId,color:a.props.colorInt},b.LABEL_PROPERTIES.COLOR),a.props.onBack()},a.disableHover=function(){a.state.hover&&a.setState({hover:!1})},a.enableHover=function(){a.state.hover||a.setState({hover:!0})},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.isSelected?u.createElement(E.default,{name:"checkmark-medium"}):null,t=(0,s.default)(v.default.wallpaperColorCanvas,{[v.default.canvasHover]:this.state.hover,[v.default.canvasActive]:this.props.isSelected});return u.createElement("span",{className:t,style:{backgroundColor:(0,g.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),t}(u.Component),S=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.currentColor,n=t.colors.map((function(t){return u.createElement(C,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:a===t,key:t})})),i=0;i<2;i++)n.push(u.createElement("div",{key:"emptyEl"+i,className:v.default.wallpaperColorEmpty}));return n}}]),t}(u.Component),y=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,d.default)(t).call(this))).getColorPromise=null,e.state={colors:b.default.labelColorPalette&&b.default.labelColorPalette.colors},e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=u.createElement(j.default,{stroke:6,size:24});return this.state.colors?t=u.createElement(S,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=b.default.getLabelColorPalette(),this.getColorPromise.cancellable().then((function(t){e.setState({colors:t})}))),u.createElement(f.default,null,u.createElement(p.default,{theme:this.state.colors?void 0:"center-content",title:m.default.t(648),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE}),u.createElement(h.default,null,u.createElement("div",{className:v.default.container},t)))}}]),t}(u.Component);t.default=y},badjagjaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),h=i(a("ccbgfecegc")),p=i(a("ebcfjdcbhh")),m=i(a("dhigahgdjb")),g=i(a("dgebcfedgb")),b=a("djaiggcdb"),v=a("igiffibee"),j=i(a("gjbhafcjg")),E=i(a("dcaaidgcgg")),C=i(a("dgdcjccfdi")),S=i(a("cgjdibiahi")),y=i(a("dfciadajdf")),_=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).mouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onDirection=function(){var e=a.props,t=e.lat,n=e.lng;(0,b.openExternalLink)((0,v.getDirectionUrl)(t,n))},a.onMessage=function(){var e=a.props.id;f.default.find(e).then((function(e){e.active&&h.default.existsDrawerRight((function(e){e&&2===p.default.column&&h.default.closeDrawerRight()})),h.default.openChatFromUnread(e).then((function(t){t&&h.default.focusChatTextInput(e)}))}))},a.onContextOpen=function(e){var t=e&&e.target;a.setState({contextMenu:{menu:a.getContextMenu(),anchor:t}})},a.onContextClose=function(){a.setState({contextMenu:!1})},a.state={hover:!1,contextMenu:!1},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"getContextMenu",value:function(){var e=[];return e.push(u.createElement(g.default,{key:"direction",a8n:"get-directions",action:this.onDirection},l10n.t(508))),e.push(u.createElement(g.default,{key:"message",a8n:"send-message",action:this.onMessage},l10n.t(738))),e}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.accuracy,n=e.isMe,i=e.markerSize,o=m.default.assertGet(t),r={transform:"translateX(calc(-50% + ".concat(i/2,"px))")},l=u.createElement("div",{className:E.default.name},u.createElement(j.default,{ellipsify:!0,you:!0,contact:o})),d=null!=a?u.createElement("div",{className:E.default.status},l10n.t(661,{accuracy:a,_plural:a})):null,c=n?null:u.createElement("div",{onClick:this.onContextOpen,className:E.default.menuButton},u.createElement(C.default,{name:"down"})),f=u.createElement("div",{className:E.default.triangle}),h=!n&&this.state.contextMenu?u.createElement(S.default,{displayName:"LiveLocationPopupContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},u.createElement(y.default,{contextMenu:this.state.contextMenu})):null;return u.createElement("div",{className:(0,s.default)(E.default.container,{[E.default.twoLines]:!!d}),style:r},u.createElement("div",{className:E.default.popup,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseLeave,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},l,d,c),f,h)}}]),t}(u.Component);t.default=_},bafcchidfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ecgbjdgfdd")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),m=i(a("bdjjabfecc")),g=a("bbjjjbicfb"),b=n(a("bijffg")),v=a("dcfieddiah"),j=a("eeebhdeed"),E=i(a("bdcchebfge")),C=i(a("ecdebjcgfa")),S=i(a("dbihaeaggd")),y=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).labelModel=null,a.onOk=function(){var e=a.state,t=e.labelName,n=e.labelColor;if(!e.labelNameError){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,a.props.onAddLabel?E.default.LABEL_TARGETS.ADD_LABEL_DIALOG:E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var i=t&&t.trim(),o=a.validateLabelName(i||"");o.passed?(a.props.labelId&&a.props.onUpdateLabel?a.props.onUpdateLabel({id:a.props.labelId,color:n,name:t},b.LABEL_PROPERTIES.NAME):a.props.onAddLabel&&a.props.onAddLabel(t||"",n),a.props.onCancel?a.props.onCancel():f.default.closeModal()):a.setState({labelNameError:o.error})}},a.onCancel=function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,a.props.onAddLabel?E.default.LABEL_TARGETS.ADD_LABEL_DIALOG:E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),a.props.onCancel?a.props.onCancel():f.default.closeModal()},a.onLabelNameChange=function(e){var t=a.validateLabelName(e);a.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},a.validateLabelName=function(e){var t=!0,n=null;return e&&""!==e.trim()||(t=!1),a.labelModel&&a.labelModel.name===e||0===b.default.where({name:e}).length||(t=!1,n=m.default.t(192)),{passed:t,error:n}},a._handleKeyEnter=function(e){e.stopPropagation(),a.onOk()},a.props.labelId&&(a.labelModel=b.default.assertGet(a.props.labelId)),a.state={labelColor:a.labelModel&&a.labelModel.color||void 0,labelName:a.labelModel&&a.labelModel.name||"",labelNameError:void 0},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(b.default.getNewLabelColor().then((function(t){e.setState({labelColor:t||p.default.DEFAULT_SMB__NEW_LABEL_COLOR})})),(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,1,E.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,1,E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e=!this.validateLabelName(this.state.labelName.trim()).passed;return s.createElement(h.default,{title:this.props.onUpdateLabel?m.default.t(435):m.default.t(196),okText:m.default.t(1397),onOK:this.onOk,okDisabled:e,onCancel:this.onCancel},s.createElement("div",{className:u.default.inputContainer},s.createElement("div",{className:u.default.label},this.state.labelColor?(0,j.renderLabelSvg)((0,g.intColorToHex)(this.state.labelColor)):s.createElement(C.default,{stroke:5,size:20})),s.createElement("div",{className:u.default.input},s.createElement(S.default,{a8n:"add-new-label-name-input",focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:p.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,onEnter:this._handleKeyEnter,placeholder:m.default.t(195)}))))}}]),t}(s.Component);t.default=y},bahcdceje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("hgigjbgie")),f=i(a("dcdbbhicce")),h=i(a("bihbbbcghi")),p=a("dieaaaeidb"),m=i(a("bfcdaddgji")),g=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.statusV3,o=n.contact,r=i.lastStatus;return e=r&&r.type===u.default.MSG_TYPE.CHAT?s.createElement(b,{msg:r}):s.createElement(v,{renderedThumbnail:i.renderedThumbnail}),o.statusMute||(t=s.createElement(h.default,{statusV3:i})),s.createElement("div",{className:m.default.container,role:this.props.role||"",onClickCapture:function(e){a.props.onClick&&a.props.onClick(),e.stopPropagation(),e.preventDefault()}},t,e)}}]),t}(s.PureComponent);g.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]};var b=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.statusV3TextBg;return s.createElement("div",{className:m.default.statusImage,style:{backgroundColor:t}},s.createElement("div",{className:m.default.textThumb},s.createElement(p.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}(s.PureComponent),v=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentDidUpdate",value:function(e){var t=e.renderedThumbnail,a=this.props.renderedThumbnail;t!==a&&(t&&t.autorelease(),a&&a.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url(".concat(e.url(),")")};return s.createElement("div",{className:m.default.statusImage,style:t})}}]),t}(s.PureComponent),j=(0,f.default)(g,g.CONCERNS);t.default=j},bahjbgaefa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bhdcfacaaf")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("jagjbhcgf")),v=i(a("dgebcfedgb")),j=i(a("bijffg")),E=a("dcfieddiah"),C=i(a("eeebhdeed")),S=i(a("ebddggeaib")),y=a("cadfgefaja"),_=i(a("bdcchebfge")),k=i(a("bhgjeaceh")),M=i(a("cbcbdjdah")),I=i(a("dceicchccd")),T=i(a("dgdcjccfdi")),L=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,d.default)(t).call(this))).openColorPicker=function(){var t=e.props.labelId,a=j.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,a.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.renderMenu=function(){return s.createElement(y.MenuBarItem,{a8nText:"starred-menu",icon:s.createElement(T.default,{name:"menu"}),title:l10n.t(737)},s.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},s.createElement(v.default,{a8n:"menu-item",action:e.openColorPicker},l10n.t(648)),s.createElement(v.default,{a8n:"menu-item",action:e.openEditLabel},l10n.t(435))))},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),a=e.props,n=a.onRemoveLabel,i=a.labelId;if(n){var o=j.default.assertGet(i);(0,E.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW,t.length,_.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.openModal(s.createElement(h.default,{title:l10n.t(976,{count:t.length,labelName:o.name,_plural:t.length}),okText:l10n.t(1397),cancelText:l10n.t(1245),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,i,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,E.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,_.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.closeModal()},e.onRemoveLabelConfirmed=function(t,a){f.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,a),(0,E.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.length,_.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new I.default([],(function(e){return e.id.toString()})),e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",(function(){return e.forceUpdate()})),(0,E.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW,void 0,_.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t,a,n=0;n<e.length;n++){if(e[n]instanceof M.default?a=!0:t=!0,t&&a)return!0}return!1}},{key:"render",value:function(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),a=this.multiSelection.getSelected().length>0?s.createElement(k.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):s.createElement(g.default,{onBack:this.props.onClose,menu:this.renderMenu(),type:g.DRAWER_HEADER_TYPE.LABELS},s.createElement(C.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return s.createElement(p.default,{theme:"settings"},a,s.createElement(m.default,null,s.createElement(u.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}(s.PureComponent),P=(0,S.default)(L);t.default=P},bajbjjihjg:function(e,t){e.exports={container:"_1eAKg",media:"_1VvSM",document:"XuPrz",text:"_11um1",icon:"_3YuK3"}},bajieejahc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=a("dfdebdgdei"),h=i(a("ccbgfecegc")),p=i(a("bdeebiagii")),m=n(a("chbeahhfcj")),g=a("dbbhhgjjbg"),b=i(a("bfgbdiffgd")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onForwardConfirmed=function(e){var t=a.props.msgText;if(1===e.length){var n=e[0];(n.isUser&&n.contact.isBlocked()?(0,f.unblockContact)(n.contact):Promise.resolve(!0)).then((function(){if(t){if(n.urlText=a.props.urlText,n.active)return void h.default.pasteChatTextInput(n,t);n.setComposeContents({text:t})}return h.default.openChatFromUnread(n).then((function(e){e&&h.default.focusChatTextInput(n)}))}))}else Promise.map(e,(function(e){(e.isUser&&e.contact.isBlocked()?(0,f.unblockContact)(e.contact):Promise.resolve(!0)).then((function(){e.urlText=a.props.urlText,(0,g.sendTextMsgToChat)(e,t)}))})),h.default.openChatFromUnread(e[0]);a.end()},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.push(u.createElement(m.default,{onConfirm:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:l10n.t(789),listType:m.ListType.CHAT_SELECT_MODAL}))}}]),t}(p.default);t.default=function(e){return u.createElement(v,(0,o.default)({},e,{serverProps:b.default}))}},bbabiidfcj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ejiicdbii")),f=i(a("bhehhaehi")),h=i(a("dhigahgdjb")),p=i(a("bdeebiagii")),m=a("ecceajhjba"),g=i(a("bhfadhddje")),b=i(a("ecbiejfbbg")),v=i(a("ddajejfdfc")),j=i(a("bbecefbeaa")),E=a("dcbdjheea"),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).scrollOffset=0,a.setScrollOffset=function(e){a.scrollOffset=e},a.pushProductDetails=function(e,t){var n=a.props,i=n.chat,o=n.refreshCarousel,r=s.createElement(g.default,{chat:i,product:e,onEnd:a._end,onBack:a._popAndUpdate,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,onProductLinkClick:a._onProductLinkClick,refreshCarousel:o,sessionId:t});a.push(r)},a.pushProductDetailsWithDeepLink=function(e,t){var n=s.createElement(b.default,{chat:a.props.chat,productInfo:e,onEnd:a._end,onBack:a._pop,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,sessionId:t,onProductLinkClick:a._onProductLinkClick});a.push(n)},a.onProductDetail=function(e,t){a.pushProductDetails(e,t)},a.onProductCatalogHeaderClick=function(e,t){(0,m.logCarouselViewMoreClick)(e.toString(),t),a.pushProductCatalog(e,t)},a._onProductLinkClick=function(e,t){a.push(s.createElement(v.default,{product:e,onBack:a._pop,sessionId:t}))},a._onCatalogLinkClick=function(e,t,n){a.push(s.createElement(f.default,{catalog:e,contact:t,sessionId:n,onBack:a._pop}))},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a._popAndUpdate=function(){a.popAndUpdate({scrollOffset:a.scrollOffset})},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogOwnerJid,a=e.product,n=e.productInfo,i=e.sessionId;if(t)this.pushProductCatalog((0,E.createWid)(t),i);else if(a)this.pushProductDetails(a,i);else{if(!n)throw new Error("ProductDetailsFlow:no-product");this.pushProductDetailsWithDeepLink(n,i)}}},{key:"pushProductCatalog",value:function(e,t){var a=this,n=h.default.gadd(e);u.default.find(e).then((function(i){var o=s.createElement(j.default,{contact:n,onProductDetail:a.onProductDetail,catalogId:e,onBack:a._pop,sessionId:t,businessProfile:i,setScrollOffset:a.setScrollOffset,onCatalogLinkClick:a._onCatalogLinkClick});a.push(o)}))}}]),t}(p.default);t.default=C},bbbdhbgafg:function(e,t){e.exports={playerWrapper:"_2ujUw",mediaViewer:"_3V9DM",mediaStateControls:"_3iFz1",playerBackground:"_2uIPZ",media:"Q6WB7",captionBackdrop:"-X4-D",mediaCaption:"_23ULx",progressBackdrop:"BV48u",progressBarBackdropNarrow:"_2Jbsi",profile:"_2Bot5",nonClickProfile:"_3gls6",profileNarrow:"_24cYz",playerAvatar:"_2zlbz",measuringProfile:"BlMmR",profileMac:"_196i-",msgInfo:"_2yhFa",msgInfoName:"_3Z-tq",timestamp:"_1P2IU",playerContent:"_3FmOE",statusPanelPlayerContent:"_7sFoS",statusThumbnailPlayerContent:"_1FSTV",loading:"_1WjEc",v3Image:"_1B6oZ",v3Video:"_1Aq44",text:"_2V1gP",textLarge:"km5CG",textMedium:"_3dSL7",textSmall:"jV5FO",font_1:"_9j2D5",font1:"_9j2D5",font_2:"_2opCM",font2:"_2opCM",font_3:"_3aukJ",font3:"_3aukJ",font_5:"_3teTU",font5:"_3teTU",unknown:"_1tJVZ",textThumbnailPlayerContent:"_2ZDu_"}},bbfcdhjiba:function(e,t){e.exports={linkContainer:"_3IEXN",descContainer:"_3apaC",icon:"_1wLOU"}},bbjcfdhfhb:function(e,t){e.exports={screenshots:"Iuovr",action:"_1BSOk",disabled:"-Hzmj",screenshotPreview:"_3fj4M",screenshotsImg:"_1zxTv",btnDelete:"_3Q_6m"}},bbjddegdbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),m=i(a("bjigbaghc")),g=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=i(a("ddeefhbafc")),C=n(a("cajijabhgb")),S=a("dgjddffcfg"),y=i(a("jheedhagg")),_=i(a("hajhefagc")),k=i(a("cfcfdeifjb")),M=i(a("ebhaddigcf")),I=a("bbbdgehigj"),T=i(a("dhccahhefj")),L=a("bggdhciede"),P=i(a("dcdbbhicce")),w=a("bijjheifie"),A=i(a("dhhjhedjij")),N=i(a("dbihaeaggd"));function O(){var e=(0,o.default)(["ProfileDrawer: failed to set/delete profile image"]);return O=function(){return e},e}var R=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).onBack=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.validateStatus=function(e){return!!(e||"").trim()},a.onStatusBegin=function(){a.isEditingStatus=!0},a.onSetStatusError=function(){h.default.openModal(u.createElement(p.default,{onOK:function(){return h.default.closeModal()},okText:l10n.t(1397)},l10n.t(173)))},a.onSetStatus=function(){if(null!=a.state.status){a.isEditingStatus=!1;var e=a.props.status.status,t=(0,S.emojify)(a.state.status);if(t===e)return a.setState({status:t});a.setState({pendingStatus:!0}),(0,w.setMyStatus)((0,S.emojify)(a.state.status)).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingStatus:!1})})).catch(C.Unmount,(function(){}))}else a.onCancelStatus()},a.onStatusChange=function(e){a.setState({status:e})},a.onCancelStatus=function(){a.isEditingStatus=!1,a.setState({status:a.props.status.status})},a.onPushnameBegin=function(){a.isEditingPushname=!0},a.validatePushname=function(){var e,t=a.state.pushname;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=l10n.t(168)):e=l10n.t(165),!e||(a.onSetPushnameError(e),!1)},a.onSetPushname=function(){if(a.isEditingPushname=!1,m.default.canSetMyPushname()){var e=a.state.pushname;if((e=(0,S.emojify)((e||"").trim()))===a.props.conn.pushname)return a.setState({pushname:e});a.setState({pendingPushname:!0}),(0,L.setPushname)(e).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingPushname:!1})})).catch(C.Unmount,(function(){}))}},a.onSetPushnameError=function(e){h.default.openModal(u.createElement(p.default,{onOK:function(){return h.default.closeModal()},okText:l10n.t(1397)},e))},a.onPushnameChange=function(e){a.setState({pushname:e})},a.onCancelPushname=function(){a.isEditingPushname=!1,a.setState({pushname:a.props.conn.pushname})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,I.setProfilePic)(n,e,t):(0,I.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catch(C.Unmount,(function(){})).catch(C.ActionError,(function(){LOG(3)(O())})).finally((function(){a.setState({pendingPhoto:!1})}))},a.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.conn,a=e.status,n=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:a.status,o=u.createElement(E.default,{a8nText:"col-main-profile",title:l10n.t(1474),theme:"padding"},u.createElement(N.default,{a8n:"col-main-profile-input",value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:g.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),r=l10n.t(730),l=!n.canSet()&&!n.canDelete(),d=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,c=m.default.isSMB?l10n.t(250):l10n.t(969);return u.createElement(b.default,null,u.createElement(j.default,{a8n:"drawer-title-profile",title:r,onBack:this.onBack,type:j.DRAWER_HEADER_TYPE.LARGE}),u.createElement(v.default,null,u.createElement("div",{className:M.default.photoPickerWrapper},u.createElement(_.default,{type:k.default.PROFILE,id:n.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:n.imgFull,readOnly:l,onImageSet:this.onImageSet})),u.createElement(E.default,{a8nText:"col-main-profile",title:l10n.t(968),theme:"padding"},u.createElement(N.default,{a8n:"col-main-profile-input",value:d,editable:m.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:g.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),u.createElement("div",{"data-a8n":f.default.key("pushname-description"),className:M.default.nameWrapper},u.createElement(A.default,{theme:"muted"},c)),o))}}]),t}(u.Component);R.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var D=(0,y.default)((0,T.default)((0,P.default)(R,R.CONCERNS)));t.default=D},bdddighcdb:function(e,t){e.exports={container:"_35GjP",preview:"_1Ox6A",img:"_2GAs0"}},bdeggjiff:function(e,t){e.exports={inputEmoji:"_12nPN",wrapper:"_2ySBn",textInput:"_3W-fv",labelText:"_1JGAF",clearInput:"_3p_k1",float:"xvoW3",textActive:"_3-AJi",suggestionsPositioner:"_2ixfz",suggestionsContainer:"_1VeWU",charCounter:"_1uhQ1",inputControls:"_1Rpm4",charCounterWithClearBtn:"EUANy",spacer:"zkNWi",noPlaceholder:"_2O2Nu",buttonContainer:"_3gbKQ",active:"QRMJR"}},bdehjcecig:function(e,t){e.exports={addLabelBtContainer:"_26iID"}},bdijbhadid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("eabehhacha")),f=i(a("cfadcbbiie")),h=i(a("hhcjfgifh")),p=i(a("gfebgebbi")),m=i(a("cffjbgdgeg")),g=i(a("dcdbbhicce")),b=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.msgInfoParticipant,i=s.createElement(h.default,{id:a.id}),o=f.default.relativeDateAndTimeStr(n.t),r=s.createElement("span",{title:o},o);return!a.name&&a.notifyName&&(e=s.createElement(p.default,{className:m.default.notifyName,direction:"auto",text:a.notifyName})),s.createElement(u.default,{contextEnabled:function(){return!1},image:i,primary:a.formattedName,secondary:r,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}(s.PureComponent);b.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var v=(0,g.default)(b,b.CONCERNS);t.default=v},befdeebfeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("gfebgebbi")),m=i(a("bdeebiagii")),g=i(a("jgjccejgb")),b=a("cgjcdbggeb"),v=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(a.props.contact.id)?l10n.t(1555):!!t.participants.iAmAdmin()||l10n.t(323))},a.confirmAddToGroup=function(e){a.push(s.createElement(h.default,{onOK:a.addToGroup.bind(null,e),okText:l10n.t(1553),onCancel:a._pop,cancelText:l10n.t(1245)},s.createElement(p.default,{text:l10n.t(347,{participant:a.props.contact.formattedName,subject:e.contact.name})})))},a.addToGroup=function(e){(0,b.addParticipants)(e,[a.props.contact]).then((function(){f.default.openChatFromUnread(e).then((function(t){t&&f.default.focusChatTextInput(e)}))})).catch((function(){})),a.end()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(g.default,{chats:u.default.filter((function(e){return e.isGroup})),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}(m.default);t.default=v},bfajgaeghd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.mimeType,i=e.filename;return t&&a?o.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:r.default.preview},o.createElement(d.default,{type:d.FIT_TYPE.SCALE_DOWN,size:a},o.createElement("img",{src:t,className:r.default.img})))):o.createElement(l.default,{mimeType:n,filename:i})};var o=i(a("ddhijeejag")),r=n(a("bdddighcdb")),l=n(a("cggjjcbdia")),d=i(a("difhgjjfcb"))},bfcdaddgji:function(e,t){e.exports={textThumb:"_29i7H",statusImage:"_3h4IV",container:"_3Osfk"}},bffajdjibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("dccbiiffa")),h=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}(u.default);t.default=h},bfffjiagfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("beecadabde")),p=a("jagjbhcgf"),m=i(a("cbdcjfiefg")),g=i(a("bjjdjibgad")),b=a("dbbhijehii"),v=a("dgjddffcfg"),j=a("dhegcfddhg"),E=i(a("bdjjabfecc")),C=i(a("dhccahhefj")),S=i(a("dfifdafgfa")),y=a("dbbhhgjjbg"),_=i(a("diebdcceag")),k=i(a("dgdcjccfdi")),M=n(a("bjhgigfbec")),I=i(a("cgjdibiahi")),T=i(a("dfciadajdf")),L=i(a("didfdhbecg")),P=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,d.default)(t).apply(this,arguments))).emojiInputComponent=(0,m.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var a=e.inputLine.value.trim();if(a.length){var n=(0,M.genId)();u.default.find(e.props.msg.sender).then((function(t){return f.default.openToast(s.createElement(M.default,{msg:E.default.t(1103),id:n})),(0,y.sendTextMsgToChat)(t,(0,v.emojify)(a),{quotedMsg:e.props.msg})})).then((function(){e.props.onSend()})).catch(h.default,(function(){var t=e.state.chat;t&&f.default.openToast(s.createElement(M.default,{msg:E.default.t(1247,{contact:t.contact.formattedName}),id:n}))})),e.inputLine&&e.inputLine.reset(),e.emojiPickerClose(),e.props.dismissReply()}}},e.onFocus=function(){e.setState({focused:!0})},e.onBlur=function(){e.isSkinTonePickerOpen||document.activeElement===document.body&&e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=s.createElement(g.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:a,dirY:p.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var a=t.getElement();a&&a.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},u.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({chat:t})})),e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e,t,a;this.state.emojiPicker&&(e=s.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},s.createElement(T.default,{contextMenu:this.state.emojiPicker})),t=s.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},s.createElement("div",null,e)));var n=this.state.chat;n&&this.state.focused&&!this.state.emojiPicker&&(a=s.createElement(I.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},s.createElement("div",{className:_.default.popupPanel},s.createElement(S.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:n}))));var i=this.emojiInputComponent;return s.createElement("div",{className:_.default.container},s.createElement(L.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),s.createElement("div",{className:_.default.wrapper},s.createElement("button",{className:_.default.emojiIcon,onClick:this.onEmojiPicker},s.createElement(k.default,{name:"smiley"})),s.createElement("div",{className:_.default.lineWrapper},s.createElement(i.EmojiSuggestions,{theme:b.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),s.createElement(i,{ref:(0,j.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:E.default.t(1127),editable:!0,multiline:!0})),s.createElement("button",{className:_.default.sendIcon,onClick:this.onSend},s.createElement(k.default,{name:"send",directional:!0})),t))}}]),t}(s.Component),w=(0,C.default)(P);t.default=w},bfjchjfbhj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhigahgdjb")),f=i(a("bdeebiagii")),h=i(a("hdhcfhidh")),p=i(a("cejfghgbfb")),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSetGroupInfo=function(e){a.push(s.createElement(h.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){u.default.ensureSorted(),this.push(s.createElement(p.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}(f.default);t.default=m},bgcdjjjjad:function(e,t){e.exports={versionInfo:"y8PkG"}},bgedfbagfd:function(e,t){e.exports={more:"_91S5v",hotKeyWraper:"_3kh3d"}},bgeffbghdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bdeebiagii")),h=i(a("ebddggeaib")),p=i(a("cjfjhjdfaa")),m=i(a("bjihjhccce")),g=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).sessionId=Math.round(1e9*Math.random()),a.openStatusViewer=function(e,t,n){a.push(s.createElement(m.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:a.closeStatusViewer,sessionId:a.sessionId,rowIdx:n}),"none")},a.closeStatusViewer=function(e){e?a.end():a.pop("none")},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(s.createElement(p.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(u.default,"close_status_viewer",(function(){e.closeStatusViewer(!0)}))}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}(f.default),b=(0,h.default)(g);t.default=b},bggdhciede:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.genId)(),n=(0,u.default)(t),i=new l.ActionType(l10n.t(169)),o=c.default.pushname,p=n.then((function(){return new l.ActionType(l10n.t(166),l10n.t(181),(function(){return e(o,a)}))})).catch(s.ServerStatusCodeError,(function(e){if(e.status>=400)return new l.ActionType(l10n.t(167))})).catch((function(){throw LOG(4)(h()),new l.ActionType(l10n.t(167),l10n.t(177),(function(){return e(status,a)}))}));return d.default.openToast(r.createElement(l.ActionToast,{id:a,initialAction:i,pendingAction:p})),n.then((function(e){e._duplicate||(0,f.setPushnameLocally)(t)}))}(e)};var o=i(a("dfadhaifh")),r=n(a("ddhijeejag")),l=a("dheeaichcj"),d=i(a("ccbgfecegc")),c=i(a("bjigbaghc")),s=a("bgihjbde"),u=i(a("gfhdfcfge")),f=a("diibfjicfe");function h(){var e=(0,o.default)(["models:conn:setPushname dropped"]);return h=function(){return e},e}},bghfehcaaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("bgeijhbbad")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("fcdheigeg")),m=i(a("hgigjbgie")),g=a("cedhgehjef"),b=i(a("dcdbbhicce")),v=a("cjfegjecaj"),j=i(a("dgdcjccfdi"));function E(){var e=(0,o.default)(["media is"]);return E=function(){return e},e}var C=m.default.MSG_TYPE,S=C.IMAGE,y=C.VIDEO,_=C.DOCUMENT,k=C.AUDIO,M=(0,u.default)(g.MIMETYPES,(function(e){return e.msgType===_})),I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))))._onClick=function(e){a.props.onClick&&a.props.onClick((0,v.unproxy)(a.props.attachMedia),e)},a._onClose=function(e){a.props.onClose&&a.props.onClose((0,v.unproxy)(a.props.attachMedia),e)},a.setRef=function(e){e&&a.props.onRef(a.props.id,e)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_renderBody",value:function(){var e,t,a,n=this.props.attachMedia;switch(n.type){case S:a={backgroundImage:"url(".concat(n.preview,")")},e=h.createElement("div",{className:p.default.body,style:a});break;case y:a={backgroundImage:"url(data:image/jpeg;base64,".concat(n.preview,")")},e=h.createElement("div",{className:p.default.body,style:a});break;case k:e=h.createElement("div",{className:(0,f.default)(p.default.body,"attach-media-audio-thumb")});break;case _:if(LOG(2)(E()),n.preview){var i={backgroundImage:"url("+n.preview+")"};e=h.createElement("div",{className:p.default.body,style:i});break}M[n.mimetype]&&(t=M[n.mimetype].icon);default:t=(0,f.default)(p.default.body,p.default.bodyDoc,t,{"icon-doc-generic":!t}),e=h.createElement("div",{className:t})}return e}},{key:"render",value:function(){var e=(0,f.default)(p.default.thumb,{[p.default.active]:this.props.active});return h.createElement("div",{className:e,onClick:this._onClick,role:"button",ref:this.setRef},h.createElement("div",{className:p.default.btnDelete,onClick:this._onClose,role:"button"},h.createElement(j.default,{name:"x-alt"})),this._renderBody())}}]),t}(h.PureComponent);I.CONCERNS={attachMedia:["mimetype","preview","type"]};var T=(0,b.default)(I,I.CONCERNS);t.default=T},bgiafagffb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.createElement(d.MenuBarItem,{a8nText:"live-location-map-menu",icon:o.createElement(c.default,{name:"menu"}),title:l10n.t(737)},o.createElement(r.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:r.DirX.LEFT,dirY:r.DirY.BOTTOM},o.createElement(l.default,{a8n:"mi-roadmap-view menu-item",action:e.onRoadmapSelected},l10n.t(670)),o.createElement(l.default,{a8n:"mi-satellite-view menu-item",action:e.onSatelliteSelected},l10n.t(671)),o.createElement(l.default,{a8n:"mi-terrain-view menu-item",action:e.onTerrainSelected},l10n.t(672)),o.createElement(l.default,{a8n:"mi-traffic menu-item",action:e.onTrafficToggled},e.showTraffic?l10n.t(673):l10n.t(674))))};var o=i(a("ddhijeejag")),r=i(a("jagjbhcgf")),l=n(a("dgebcfedgb")),d=a("cadfgefaja"),c=n(a("dgdcjccfdi"))},bgiehaehhh:function(e,t){e.exports={confirmationText:"_2Z31t"}},bgjbchbhhc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfhfdchaij")),f=i(a("bdeebiagii")),h=i(a("cjgdgbgbj")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(s.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(f.default);t.default=p},bhbeigbaec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("djfeeacgad")),u=n(a("ddhijeejag")),f=a("ceagbbhcha"),h=a("chcfhehffe"),p=i(a("ciehddchae")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.mapOnClick=function(){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(!0)},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.dismissMarkerTimer=new s.default((function(){a.props.markerSelected&&a.props.onMarkerSelected(!1)})),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"getMapPaneName",value:function(){return f.OverlayView.OVERLAY_MOUSE_TARGET}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.lat,n=t.lng,i=t.contact,o=t.markerSelected;return u.createElement(p.default,{marker:{isLive:!1,contact:i,lat:a,lng:n,selected:o,onClick:function(t){return e.markerOnClick(t)}}})}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?u.createElement(f.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng;return u.createElement(f.GoogleMap,{ref:this.setMap,defaultCenter:{lat:t,lng:a},defaultOptions:this.props.getMapOptions(),defaultZoom:h.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick},this.getMarkers(),this.getTrafficLayer())}}]),t}(u.Component),g=(0,h.withConfig)((0,f.withScriptjs)((0,f.withGoogleMap)(m)));t.default=g},bhcggbhcjc:function(e,t){e.exports={wallpaperColorGrid:"_5MCSh",wallpaperColorCanvas:"_1m6L6",wallpaperDefaultTitle:"_2j0wR",wallpaperColorEmpty:"_23cKE",canvasActive:"_1rIeG",canvasHover:"_2WHSU"}},bhfeiiegef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("bdjjabfecc")),m=i(a("bffejjbgd")),g=i(a("dighddcfg")),b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={theme:h.default.DEFAULT_THEME},a._handleThemeChange=function(e){var t,n=null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value;"light"!==n&&"dark"!==n||a.setState({theme:n})},a._handleOk=function(){var e=a.state.theme;a.context.setTheme(e),u.default.closeModal()},a._handleCancel=function(){u.default.closeModal()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.setState({theme:this.context.theme})}},{key:"render",value:function(){var e=this.state.theme;return s.createElement(f.default,{title:p.default.t(1122),onOK:this._handleOk,onCancel:this._handleCancel},s.createElement("form",null,s.createElement("ol",null,s.createElement("li",{key:"light"},s.createElement("label",{className:m.default.label},s.createElement("input",{type:"radio",name:"theme",value:"light",className:m.default.input,checked:"light"===e,onChange:this._handleThemeChange}),p.default.t(1121))),s.createElement("li",{key:"dark"},s.createElement("label",{className:m.default.label},s.createElement("input",{type:"radio",name:"theme",value:"dark",className:m.default.input,checked:"dark"===e,onChange:this._handleThemeChange}),p.default.t(1120))))))}}]),t}(s.PureComponent);t.default=b,b.contextType=g.default},bhheibic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),m=i(a("bdeebiagii")),g=i(a("bihjahgcja")),b=i(a("cichhcjjd")),v=n(a("chbeahhfcj")),j=i(a("bfgbdiffgd")),E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e=a.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},a.onForwardConfirmed=function(e){var t=a.props,n=t.msgs,i=t.onForward;u.default.forwardMessagesToChats(n,e).catch(g.default,(function(e){a.showMediaSendError(e.reasons)})),a.end(),i&&i(n),f.default.openChatFromUnread(e[0])},a.showMediaSendError=function(e){var t=e.map((function(e){var t=e.chat,a=e.reason;return s.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",a)}));f.default.openModal(s.createElement(h.default,{onOK:function(){return f.default.closeModal()},okText:l10n.t(1397)},t),void 0)},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.msgs,a=l10n.t(498,{_plural:t.length||1}),n=t[0],i=n&&n.chat;e="video"!==n.type&&"image"!==n.type?"message":n.type;var o,r=t.some((function(e){return e.isFrequentlyForwarded})),l=t.filter((function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===p.default.FREQUENTLY_FORWARDED_SENTINEL}));j.default.frequentlyForwardedMessages&&l.length&&(o=s.createElement(b.default,{frequentlyForwardedCount:l.length,totalCount:t.length}));var d=j.default.frequentlyForwardedMessages&&r?j.default.frequentlyForwardedMax:j.default.multicastLimitGlobal;this.push(s.createElement(v.default,{onConfirm:this.onForwardConfirmed,maxItems:d,excludeChat:i,excludeBroadcast:!0,msgType:e,title:a,listType:v.ListType.CHAT_SELECT_MODAL,customHeader:o,hasFrequentlyForwarded:r}))}}]),t}(m.default);t.default=E},bhigchjbgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("dbafiicfja")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("hgigjbgie")),p=a("cgejchjdhj"),m=i(a("bbaacgghch")),g=i(a("ddajbaceej")),b=i(a("dhfbfehaef")),v=i(a("eccdcgiace")),j=i(a("bdiiahhjbe")),E=i(a("cahfddcdga")),C=i(a("bcddhhfhda")),S=i(a("dcaibchbg")),y=i(a("ecdebjcgfa")),_=i(a("diffaiehid")),k=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={},a.setRefBody=function(e){a.refBody=e},a.refImages=new Map,a.setRefImage=function(e,t){t?a.refImages.set(e,t):a.refImages.delete(e)},a.setImageRefCache=new C.default(a.setRefImage),a.selection=new S.default(a.props.thumbnails,(function(e){return e.id})),a._handleHotKeysRef=function(e){a._refHotKeys=e},a.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},a.handleClick=function(e){var t=e.target;a.props.onImageClick&&1===t.nodeType&&"IMG"===t.tagName&&a.props.onImageClick(t.src)},a.handleEnter=function(){var e=a.selection.getVal();j.default.assert(e,"No value selected, but enter clicked")(),a.props.onImageClick&&e&&a.props.onImageClick(e.thumbUrl)},a._requestMoreImagesIfNeeded=function(){if(!a.props.isLoadingMore&&a.props.canLoadMore&&a.props.onRequestMoreImages){if(!a.refBody)throw new Error("Requesting more images when body not rendered");a.refBody.scrollTop+h.default.SCROLL_FUDGE>a.refBody.scrollHeight-a.refBody.clientHeight&&a.props.onRequestMoreImages()}},a.handleScroll=a.props.throttle(a._requestMoreImagesIfNeeded,100),a.selectPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!1),a._updateSelected(!0,!0)},a.selectNext=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!1),a._updateSelected(!0,!0)},a.selectPrevRow=function(e){if(e.preventDefault(),e.stopPropagation(),0===a.selection.index&&a.props.onFocusPrev)a.props.onFocusPrev();else{var t=Math.max(a.selection.index-3,0);a.selection.set(t,!1,!1),a._updateSelected(!0,!0)}},a.selectNextRow=function(e){e.preventDefault(),e.stopPropagation(),a.selection.set(a.selection.index+3,!1,!1),a._updateSelected(!0,!0)},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),(null==a.selection.index||a.selection.index<0)&&a.selection.setFirst(!1),a._updateSelected(!0,!1);var t=(0,E.default)(a.refImages.get("".concat(a.selection.index))).getElementsByClassName(v.default.imageGalleryItemOverlay);if(1!==t.length)throw new Error("Unexpected number of overlay elements ".concat(t.length));m.default.maybeIndicateFocus(t[0],v.default.focusAnimation)},a.handleRequestDismiss=function(){a.selection.unset(),a.setState({selectedImage:void 0})},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this._updateSelected()}},{key:"componentDidUpdate",value:function(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}},{key:"focus",value:function(){this._refHotKeys&&this._refHotKeys.focus()}},{key:"_updateSelected",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.selection.getVal();if(t&&this.state.selectedImage!==t&&(this.setState({selectedImage:t}),this.selection.index>-1)){var a=this.refImages.get("".concat(this.selection.index));g.default.focus(a),e&&a&&(0,p.scrollIntoViewIfNeeded)(a,!1)}}},{key:"render",value:function(){var e=this,t={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},a=(0,s.default)(this.props.thumbnails,(function(t,a){var n=t.id,i=t.thumbUrl,o=!!e.state.selectedImage&&e.state.selectedImage.id===n,r=(0,u.default)(v.default.imageGalleryItem,{[v.default.selected]:o}),l=f.createElement("div",{className:v.default.imageGalleryItemOverlay});return f.createElement("div",{key:n,ref:e.setImageRefCache.getRefSetter("".concat(a)),className:r,tabIndex:-1},l,f.createElement("img",{onClick:e.handleClick,className:v.default.imageGalleryItemImage,src:i}))})),n=this.props.isLoadingMore?f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryFooter},f.createElement(y.default,{stroke:6,size:24})):null;return f.createElement(b.default,{className:v.default.imageGallery,"data-tab":h.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:t,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},f.createElement("div",{ref:this.setRefBody,className:v.default.imageGalleryList,onScroll:this.handleScroll},a,f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),n))}}]),t}(f.PureComponent);k.defaultProps={thumbnails:[]};var M=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,_.default)(k));t.default=M},bhjcihggie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("defdgchjjh")),f=i(a("ccbgfecegc")),h=n(a("dgffihajaa")),p=n(a("cajijabhgb")),m=i(a("bdeebiagii")),g=n(a("dciajcgfie")),b=n(a("dcecgegjfc")),v=n(a("dgjfidhijd")),j=a("difhgjjfcb"),E=i(a("dhccahhefj")),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).refCaptureDrawer=null,a.setRefCaptureDrawer=function(e){a.refCaptureDrawer=e},a.pushPermissionModal=function(){a.push(s.createElement(g.default,{messaging:g.Messaging.CAMERA,type:g.default.TYPE.GUIDE_ALLOW,onConfirm:a.popModal}),"modal")},a.popModal=function(){a.pop("modal")},a.startCaptureDrawer=function(){var e=b.start("camera",a.pushPermissionModal);Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then((function(e){a.refCaptureDrawer||a.popModal(),e&&a.refCaptureDrawer&&a.refCaptureDrawer.loadNewStream(e)})).catch(p.GUM.NotAllowedError,(function(){a.cleanUp(),f.default.openModal(s.createElement(g.default,{messaging:g.Messaging.CAMERA_FAIL,type:g.default.TYPE.GUIDE_UNBLOCK}))})).catch(p.GUM.GUMError,(function(){a.cleanUp(),f.default.openModal(s.createElement(g.default,{messaging:g.Messaging.CAMERA_MISSING,type:g.default.TYPE.GUIDE_NONE}))}))},a.onFinished=function(e,t){a.props.onFinished(e,t),a.cleanUp()},a.cleanUp=function(){a.end()},a.onRetake=function(){a.pop("flow-transition-box-size-drawer-pop"),a.startCaptureDrawer()},a.onCaptured=function(e){a.push(s.createElement(v.default,{type:v.BoxModalType},s.createElement(h.default,{onRetake:a.onRetake,retryText:h.RETRY_OPTIONS.RETAKE,onFinished:a.onFinished,onCancel:a.cleanUp,img:e})),"flow-transition-box-size-drawer-push")},a.handleRequestDismiss=function(e){!1===e&&a.onRetake()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(v.default,{type:v.BoxModalType},s.createElement(u.default,{ref:this.setRefCaptureDrawer,stream:void 0,caption:!1,layoutType:j.FIT_TYPE.COVER,onBack:this.cleanUp,onSend:null,onCaptured:this.onCaptured,chat:void 0}))),this.startCaptureDrawer()}}]),t}(m.default),S=(0,E.default)(C);t.default=S},biaicaiffc:function(e,t){e.exports={container:"_19CZv",body:"_2oifu",footer:"_3iomq",retakeBtn:"_3GDBz",retakeIcon:"_2r9s5",caption:"_3X_xV",videoContainer:"Dp310",video:"uMtP8",btn:"_29bXt",videoInactive:"_3nXJG",btnSend:"_26GvP",image:"_2inq_",snapshot:"_1SiF7"}},bicfacdfic:function(e,t){e.exports={container:"pHJm8",wrapper:"qck8z",mask:"_20MUR",bg:"_2ycY4",foreground:"_1OPL8",filled:"_2K46M",empty:"_2bzue",active:"_2GLsq"}},biebgdijhi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disabled?d.default.disabled:"",a=e.disabled?null:e.onClick,n=o.createElement("span",{className:d.default.title},l10n.t(939)),i=o.createElement(l.default,{theme:"compact",disabled:e.disabled},o.createElement(c.default,{name:"catalog"}));return o.createElement(r.default,{image:i,onClick:a,primary:n,theme:"list-button-compact",className:t})};var o=i(a("ddhijeejag")),r=n(a("cefccdiabc")),l=n(a("efedbfchg")),d=n(a("egjijhafj")),c=n(a("dgdcjccfdi"))},bihbbbcghi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dcdbbhicce")),h=i(a("deafgdcafd")),p=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return u.createElement("circle",(0,o.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,a,n){for(var i="",o=0;o<e;o++)i+=o===e-1?"".concat(t," ").concat(a-e*(n+t)+n," "):"".concat(t," ").concat(n," ");return i}},{key:"render",value:function(){var e=this.props,t=e.statusV3,a=e.stroke,n=e.size,i=100+a,o="0 0 ".concat(i," ").concat(i),r=t.totalCount,l=10,d=50*Math.PI*2;d-10*r<1&&(l=d/r/1.2);var c,s,f=(d-l*r)/r,p=d/4-l/2,m=t.contact.isMe?0:t.unreadCount,g=r-m;if(m){var b,v=p+r*(l+f);1!==r&&(b=this.genDasharray(m,f,d,l)),c=this.genCircle({strokeDashoffset:v,strokeDasharray:b,className:h.default.unread})}if(g){var j,E=p+g*(l+f);1!==r&&(j=this.genDasharray(g,f,d,l)),s=this.genCircle({strokeDashoffset:E,strokeDasharray:j,className:h.default.read})}return u.createElement("svg",{className:h.default.ring,width:n,height:n,viewBox:o},c,s)}}]),t}(u.PureComponent);p.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},p.defaultProps={size:48,stroke:4};var m=(0,f.default)(p,p.CONCERNS);t.default=m},bihjdjceid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.mimeType,n=e.url,i=e.isGif,r=e.size,s=e.processing,m=e.preview;switch(p[a].msgType){case"image":t=d.createElement("img",{src:n,className:c.default.img});break;case"video":var g=i?{loop:!s,autoPlay:!s,muted:!1,controls:!1}:{},b=s?d.createElement("div",{className:c.default.spinner},d.createElement(f.default,{color:f.colorOptions.white,size:50,stroke:3})):null,v=m?d.createElement("img",{className:c.default.staticPreview,src:"data:image/jpeg;base64,".concat(m)}):null,j=s?null:d.createElement(h.default,(0,o.default)({controls:!0,controlsList:"nodownload nofullscreen",className:c.default.video},g,{src:n}));t=d.createElement("div",{className:(0,l.default)(c.default.img,c.default.videoContainer)},b,j,v);break;case"audio":t=d.createElement("audio",{controls:!0,className:c.default.audio,type:a,src:n})}return d.createElement("div",{className:c.default.container,"data-animate-attach-media":!0},d.createElement("div",{className:c.default.media},d.createElement(u.default,{type:u.FIT_TYPE.SCALE_DOWN,size:r},t)))};var o=i(a("bacehaajgh")),r=i(a("bgeijhbbad")),l=i(a("ceffhbhahb")),d=n(a("ddhijeejag")),c=i(a("cdeeicghb")),s=a("cedhgehjef"),u=n(a("difhgjjfcb")),f=n(a("ecdebjcgfa")),h=i(a("ecfabjjeda")),p=(0,r.default)(s.MIMETYPES,(function(e){return"image"===e.msgType||"video"===e.msgType}))},bjbifafigc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=n(a("dgffihajaa")),f=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onEnd=function(){a.end()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:u.RETRY_OPTIONS.RESTART,img:this.props.img}))}}]),t}(i(a("bdeebiagii")).default);t.default=f},bjcdghhbjh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.createElement("div",{className:r.default.border})};var o=i(a("ddhijeejag")),r=n(a("cdgfajccbj"))},bjcgjiedih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("jcfacighg")),u=n(a("ddhijeejag")),f=i(a("bjcdghhbjh")),h=i(a("cefccdiabc")),p=i(a("dhigahgdjb")),m=i(a("chjbbfedjd")),g=i(a("dbgbgeefcf")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=a("cdhbdacigj"),C=i(a("dbfjeecgih")),S=i(a("bbaacgghch")),y=i(a("ddajbaceej")),_=a("dgjddffcfg"),k=i(a("bhbdiadfhj")),M=i(a("dhfbfehaef")),I=i(a("fiijdaaid")),T=i(a("efedbfchg")),L=i(a("dgdcjccfdi")),P=i(a("diffaiehid")),w=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},a.setSearch=function(e){a.search=e},a.setRefList=function(e){a.refList=e},a.flatListController=new C.default,a.onSearch=function(e){a.searchText=e,a._onSearch(e)},a._onSearch=a.props.debounce((function(e){a.setState({searchText:e})}),100),a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),S.default.shouldIndicateFocus(),a.refList&&a.refList.focusFirst())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.frequentContacts[0];if(t)return S.default.shouldIndicateFocus(),void a.props.onClick(e,t);var n=a.getFilteredContacts(a.searchText)[0];n&&(S.default.shouldIndicateFocus(),a.props.onClick(e,n))},a.onFocusSearch=function(){S.default.shouldIndicateFocus(),y.default.focus(a.search)},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){y.default.focus(this.search)}},{key:"getFilteredContacts",value:function(e){var t=e;if(p.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return p.default.getFilteredContacts();var a=p.default.getFilteredContacts().concat(p.default.filter((function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact})));t=l10n.accentFold(t);var n=(0,_.numberSearch)(t);return a.filter((function(e){return e.searchMatch(t,n)}))}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!k.default.supportsFeature(k.default.F.FREQUENT_CONTACTS))return[];var e=p.default.frequentContacts("message");return(0,s.default)(e)}},{key:"render",value:function(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,E.SearchWithKeyword)(this.state.searchText):(0,E.SearchWithoutKeyword)():u.createElement(g.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var n=u.createElement(T.default,null,u.createElement(L.default,{name:"new-group",directional:!0}));t=u.createElement("div",{"data-list-scroll-offset":!0},u.createElement("div",{className:m.default.newGroupButton},u.createElement(h.default,{image:n,primary:l10n.t(1372),onClick:this.props.onNewGroup}),u.createElement(f.default,null)))}var i={down:this.onFocusList};return u.createElement(b.default,{key:"contact-modal"},u.createElement(j.default,{title:this.props.title,type:j.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(M.default,{handlers:i},u.createElement(I.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:l10n.t(1028)})),u.createElement(v.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}(u.Component),A=(0,P.default)(w);t.default=A},bjddhceafh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.pageCount,i=e.mimeType,c=e.filename;if(t&&a&&null!=n&&n>0){var s=l10n.t(211,{count:n,_plural:n});return o.createElement("div",{className:l.default.container,"data-js-attach-preview":!0},o.createElement("div",{className:l.default.preview},o.createElement(d.default,{type:d.FIT_TYPE.SCALE_DOWN,size:a},o.createElement("img",{src:t,className:l.default.img}))),o.createElement("div",{className:l.default.caption},s))}return o.createElement(r.default,{mimeType:i,filename:c})};var o=i(a("ddhijeejag")),r=n(a("cggjjcbdia")),l=n(a("ghjbjjbch")),d=i(a("difhgjjfcb"))},bjfhachbaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bdeebiagii")),h=n(a("chbeahhfcj")),p=i(a("cggehdbfjf")),m=i(a("bfgbdiffgd")),g=i(a("dddhbbadie")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).confirmSendContacts=function(e){a.push(u.createElement(g.default,{contactList:e,onSend:function(){return a.sendContacts(e)},onBack:a._popNone,chat:a.props.chat}),"none"),a.contacts=e},a.sendContacts=function(e){var t=a.props.chat,n=t.composeQuotedMsg;(0,p.default)(e,t,n),t.composeQuotedMsg=null,a.end()},a._getContacts=function(){return a.contacts},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(u.createElement(h.default,{title:l10n.t(1050),onCancel:this._pop,onConfirm:this.confirmSendContacts,getInitialItems:this._getContacts,listType:h.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}(f.default);t.default=function(e){return u.createElement(b,(0,o.default)({},e,{serverProps:m.default}))}},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfeaeedf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bafcchidfe")),f=i(a("ebjaejiaba")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),m=i(a("hgigjbgie")),g=i(a("bdeebiagii")),b=i(a("bijffg")),v=a("dcfieddiah"),j=i(a("cijddbbaja")),E=i(a("bdcchebfge")),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).newlyAddedLabels=new Set,a.logWamEvent=function(){var e=a.props.modelsToUpdate.length;a.labelViewType=1===e?a.props.modelsToUpdate[0]instanceof f.default?E.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:E.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:E.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,e,a.labelViewType)},a.onLabelUpdateComplete=function(){a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete(),a._pop()},a.onAddLabel=function(e,t){b.default.addNewLabel(e,t).then((function(){a.newlyAddedLabels.add(e)}))},a.shouldScrollIntoViewAndSelect=function(e){return a.newlyAddedLabels.has(e)?(a.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},a.onAddNewLabel=function(){b.default.toArray().length>=m.default.MAX_SMB_LABEL_COUNT?h.default.openModal(s.createElement(p.default,{okText:l10n.t(907),onOK:function(){return h.default.closeModal()}},l10n.t(1552,{count:m.default.MAX_SMB_LABEL_COUNT}))):a.push(s.createElement(u.default,{onAddLabel:a.onAddLabel,onCancel:a._pop}))},a.popAndLogEvent=function(){a.labelViewType&&(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,a.props.modelsToUpdate.length,a.labelViewType),a.pop()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.logWamEvent(),this.push(s.createElement(j.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}(g.default);t.default=C,C.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},bjiecabhbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("bebajedcaf")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("jgabafafc")),m=n(a("cbbifbghag")),g=i(a("ccbgfecegc")),b=a("dbgjdhbdaj"),v=i(a("dahagdijgh")),j=i(a("bjheffjbgd")),E=n(a("bjjhgjdbhd")),C=i(a("jheedhagg")),S=i(a("dfdgfddgcc")),y=i(a("ebddggeaib")),_=i(a("ccbgehdigj")),k=i(a("ceibaheeb")),M=a("chcfhehffe"),I=i(a("bgiafagffb")),T=i(a("bbgcdfeifh")),L=i(a("cfhfjfibci")),P=i(a("cicgecaadf")),w=i(a("dcdbbhicce")),A=a("cjfegjecaj"),N=i(a("dgdcjccfdi")),O=i(a("diffaiehid")),R=n(a("bjhgigfbec")),D=i(a("jccfhaecf")),x=a("dcbdjheea"),F=["click","mousedown","mousemove","scroll"],U="ACTIVE",B="INACTIVE",V="OFFLINE",G=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onParticipantAdd=function(){var e=a.state,t=e.zoomLevel,n=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,n)})},a.onParticipantRemove=function(e){var t=a.state,n=t.selectedClusterId,i=t.selectedParticipantId,o=t.zoomLevel;a.updateMinZoomClusters();var r=n,l=i;n&&(0,m.participantInCluster)(n,e.id)&&(r=null),D.default.equals(i,e.id)&&(l=null),a.setState({selectedClusterId:r,selectedParticipantId:l,clusters:a.getClusters(o,l)})},a.onParticipantDisable=function(e){if(!e.isMe){var t=e.contact.formattedName;g.default.openToast(h.createElement(R.default,{msg:l10n.t(687,{name:t}),id:(0,R.genId)()}))}},a.onLocationChanged=function(){var e=a.state,t=e.zoomLevel,n=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,n)})},a.onIdle=function(){var e=a.props.chat.liveLocation;e&&(e.stopViewingMap(),a.setState({status:B}))},a.onActivity=(0,u.default)((function(){a.removeIdleTimeout(),a.addIdleTimeout()}),250),a.onRefresh=function(){var e=a.props.chat.liveLocation;e&&(e.startViewingMap(),a.setState({status:U}))},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onMarkerSelected=function(e){e?(0,m.singleParticipantClusterId)(e)?a.onParticipantSelected(e):a.onClusterSelected(e):a.onClearSelected()},a.onClearSelected=function(){var e=a.state,t=e.selectedParticipantId,n=e.selectedClusterId,i=e.zoomLevel;(t||n)&&a.setState({selectedParticipantId:null,selectedClusterId:null,clusters:a.getClusters(i)})},a.onClusterSelected=function(e){a.state.selectedClusterId!==e&&a.setState({selectedParticipantId:null,selectedClusterId:e})},a.onParticipantSelected=function(e){var t=a.state,n=t.selectedParticipantId,i=t.zoomLevel,o=(0,x.createWid)(e);D.default.equals(n,o)||a.setState({selectedParticipantId:o,selectedClusterId:null,clusters:a.getClusters(i,o)})},a.onStopSharing=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.chat;g.default.openModal(h.createElement(_.default,{chat:t}))},a.onRoadmapSelected=function(){a.setState({mapType:M.MapType.ROADMAP})},a.onSatelliteSelected=function(){a.setState({mapType:M.MapType.SATELLITE})},a.onTerrainSelected=function(){a.setState({mapType:M.MapType.TERRAIN})},a.onTrafficToggled=function(){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onBackToCenter=function(){a.setState({selectedParticipantId:null,selectedClusterId:null,atCenter:!0,clusters:a.getClusters(a.state.zoomLevel)})},a.onMapMoved=function(e,t){a.setState((function(n){var i={};if(n.zoomLevel!==e){var o=a.getClusters(e,n.selectedParticipantId);Object.assign(i,{zoomLevel:e,clusters:o})}return a.hasValidParticipants()&&n.atCenter!==t&&Object.assign(i,{atCenter:t}),(0,s.default)(i)?null:i}))},a.updateMinZoomClusters(),a.state={clusters:a.getClusters(M.INITIAL_ZOOM),selectedClusterId:null,selectedParticipantId:null,mapType:M.MapType.ROADMAP,showTraffic:!1,zoomLevel:M.INITIAL_ZOOM,atCenter:!0,status:T.default.online?U:V},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.listenToModelChange(),this.listenToNetworkChange(),this.startCheckingForIdle();var e=this.props.chat.liveLocation;e&&(e.startViewingMap(),this.addParticipantListeners(e))}},{key:"componentWillUnmount",value:function(){this.onActivity.cancel();var e=this.props.chat.liveLocation;e&&e.stopViewingMap()}},{key:"addParticipantListeners",value:function(e){this.props.listeners.add(e.participants,"add",this.onParticipantAdd),this.props.listeners.add(e.participants,"remove",this.onParticipantRemove),this.props.listeners.add(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.add(e.participants,"change:valid",this.onLocationChanged)}},{key:"removeParticipantListeners",value:function(e){this.props.listeners.remove(e.participants,"add",this.onParticipantAdd),this.props.listeners.remove(e.participants,"remove",this.onParticipantRemove),this.props.listeners.remove(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.remove(e.participants,"change:valid",this.onLocationChanged)}},{key:"listenToModelChange",value:function(){var e=this,t=this.props.chat;this.props.listeners.add((0,A.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListeners(a),e.addParticipantListeners(a));var n=e.state.zoomLevel;e.setState({clusters:e.getClusters(n)})}))}},{key:"listenToNetworkChange",value:function(){var e=this;this.props.listeners.add(T.default,"change:online",(function(){T.default.online||e.stopCheckingForIdle(),e.setState({status:T.default.online?U:V})}))}},{key:"startCheckingForIdle",value:function(){this.addIdleTimeout(),this.addActivityListeners()}},{key:"stopCheckingForIdle",value:function(){this.removeIdleTimeout(),this.removeActivityListeners()}},{key:"addIdleTimeout",value:function(){this.idleTimeoutId=this.props.setTimeout(this.onIdle,18e4)}},{key:"removeIdleTimeout",value:function(){null!=this.idleTimeoutId&&this.props.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=null}},{key:"addActivityListeners",value:function(){var e=this;F.forEach((function(t){e.props.listeners.add(document,t,e.onActivity)}))}},{key:"removeActivityListeners",value:function(){var e=this;F.forEach((function(t){e.props.listeners.remove(document,t,e.onActivity)}))}},{key:"updateMinZoomClusters",value:function(){var e=this.getParticipants(),t=e?e.validLocations():[];this.minZoomClusters=(0,m.default)(t,M.MIN_ZOOM,null,b.MARKER_SIZE)}},{key:"getParticipants",value:function(){var e=this.props.chat.liveLocation;return e?e.participants:null}},{key:"hasValidParticipants",value:function(){var e=this.getParticipants();return!!e&&!!e.validLocations().length}},{key:"getOpenFromCluster",value:function(){var e=this.getParticipants();if(!e||0===e.length)return null;var t=this.props.openFrom,a=null;if(t)a=t;else{var n=e.at(0);n&&(a=n.id)}return a?(0,m.findClusterForParticipant)(this.minZoomClusters,a):null}},{key:"getClusters",value:function(e,t){var a=this.getParticipants(),n=null,i=[];a&&(t&&(n=a.get(t)),i=a.validLocations());var o=i,r=[];if(this.minZoomClusters.size>1){var l=this.getOpenFromCluster();if(l){var d=l.participants;o=d.validLocations(),r=i.filter((function(e){var t=e.id;return!d.get(t)}))}}return{primary:(0,m.default)(o,e,n,b.MARKER_SIZE),secondary:(0,m.default)(r,e,n,b.MARKER_SIZE)}}},{key:"getList",value:function(){var e,t=this.state,a=t.clusters,n=t.selectedClusterId,i=this.getParticipants();if(i&&i.length){if(n){var o=a.primary.get(n)||a.secondary.get(n);if(o){var r=o.participants;e=h.createElement(p.default,{participants:r,onParticipantSelected:this.onParticipantSelected,onClearSelected:this.onClearSelected})}}e||(e=h.createElement(L.default,{participants:i,onParticipantSelected:this.onParticipantSelected,onStopSharing:this.onStopSharing}))}return e}},{key:"render",value:function(){var e,t;this.props.isFirstLevel?e=this.onClose:t=this.onClose;var a,n,i=this.state,o=i.selectedParticipantId,r=i.selectedClusterId,l=i.mapType,d=i.showTraffic,c=i.atCenter,s=i.status,u=s===U?h.createElement(I.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:d}):null;if(s===U||s===B){var p=o&&o.toString()||r;a=h.createElement("div",{className:S.default.wrapper},h.createElement("div",{className:(0,f.default)(S.default.backToCenter,{[S.default.visible]:!c}),onClick:this.onBackToCenter},h.createElement(N.default,{name:"return"})),h.createElement(k.default,{clusters:this.state.clusters.primary,secondaryClusters:this.state.clusters.secondary,selectedMarkerId:p,openFrom:this.props.openFrom,mapType:l,showTraffic:d,atCenter:c,onMarkerSelected:this.onMarkerSelected,onClearSelected:this.onClearSelected,onLocationChanged:this.onLocationChanged,onMapMoved:this.onMapMoved}),this.getList())}if(s===B||s===V){var m=s===B,g=m?"live-location-refresh":"live-location-disconnected",b=m?l10n.t(675):l10n.t(710);n=h.createElement(P.default,{inactive:m,svgName:g,text:b,onClick:m?this.onRefresh:void 0})}return h.createElement(v.default,null,h.createElement(E.default,{title:l10n.t(688),type:E.DRAWER_HEADER_TYPE.SMALL,menu:u,onBack:t,onCancel:e}),h.createElement(j.default,null,a,n))}}]),t}(h.PureComponent);G.CONCERNS={chat:["id","liveLocation"]};var H=(0,C.default)((0,O.default)((0,y.default)((0,w.default)(G,G.CONCERNS))));t.default=H},bjihjhccce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=a("bgihjbde"),g=n(a("cajijabhgb")),b=i(a("djifeiaaea")),v=i(a("dhfbfehaef")),j=i(a("bdjjabfecc")),E=i(a("dcjigehfeb")),C=i(a("bdcchebfge")),S=i(a("dhccahhefj")),y=i(a("ecdebjcgfa")),_=i(a("dieaaaeidb")),k=n(a("dffbbbhiad")),M=i(a("dicjdcbjah")),I=i(a("dgdcjccfdi")),T=n(a("bjhgigfbec")),L=i(a("didfdhbecg"));function P(){var e=(0,o.default)(["Invalid iterator while loading first unread msg"]);return P=function(){return e},e}function w(){var e=(0,o.default)(["Invalid iterator while loading first unread msg"]);return w=function(){return e},e}function A(){var e=(0,o.default)(["Invalid iterator while loading first unread msg"]);return A=function(){return e},e}function N(){var e=(0,o.default)(["No more status v3 while preloading next status"]);return N=function(){return e},e}function O(){var e=(0,o.default)(["Invalid iterator while getting next status msg"]);return O=function(){return e},e}function R(){var e=(0,o.default)(["No more status v3 while preloading next status"]);return R=function(){return e},e}function D(){var e=(0,o.default)(["Invalid iterator while getting previous status msg"]);return D=function(){return e},e}function x(){var e=(0,o.default)(["No more status v3 while preloading next status"]);return x=function(){return e},e}function F(){var e=(0,o.default)(["Error finding next status while preloading next status"]);return F=function(){return e},e}function U(){var e=(0,o.default)(["Invalid iterator while preloading next status"]);return U=function(){return e},e}function B(){var e=(0,o.default)(["No more status v3 while preloading next status"]);return B=function(){return e},e}function V(){var e=(0,o.default)(["Invalid iterator while getting next status msg"]);return V=function(){return e},e}var G=function(e){function t(){var e;(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).onClickProgressBar=function(t){var a=e.state.iterator;if((!a||t!==a.msgIdx)&&a){var n=e.statusV3Snapshot.statusAt(a,t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t})})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(V())})).catch(k.StatusV3LoadingError,(function(){LOG(4)(B())})).finally((function(){e.setState({loading:!1})}))}},e.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){var a=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!a)throw new k.StatusV3MsgNotFound;if(a.type===p.default.MSG_TYPE.CHAT)b.default.load(a.font).catch((function(){}));else{var n=a.mediaData;n&&n.mediaStage!==E.default.STAGE.RESOLVED&&a.downloadMedia(!0,C.default.WEBC_RMR_REASON_CODE.STATUS_V3)}})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(U())})).catch(k.StatusV3MsgNotFound,(function(){LOG(4)(F())})).catch(k.StatusV3LoadingError,(function(){LOG(4)(x())}))},e.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var a=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catch(g.Unmount,(function(){})))})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(D())})).catch(k.StatusV3LoadingError,(function(){LOG(4)(R())}))}},e.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var a=t.statusIdx,n=e.statusV3Snapshot.getNext(t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catch(g.Unmount,(function(){})))})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(O()),e.closeStatusViewer()})).catch(k.StatusV3LoadingError,(function(){LOG(4)(N())})).finally((function(){e.setState({loading:!1})}))}else e.closeStatusViewer()},e.markRead=function(t,a){if(a){var n=t.unreadCount,i=t.totalCount;t.msgs.getModelsArray().findIndex((function(e){return e===a}))>=i-n&&t.sendReadStatus(a.id,a.author);var o=e.statusV3Snapshot.statuses.find((function(e){return e.statusV3===t}));o&&o.readMsgKeys.push(a.id.toString())}},e.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.closeStatusViewer(t)})).catch(g.Unmount,(function(){}))};var a=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var n=e.props.quotedMsgKey,i=a.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===n.toString()}));if(-1!==i){e.statusV3Snapshot=new k.default(a,n);var o=e.statusV3Snapshot.getFirstUnread(a,!0,n);o.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(w()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1095),id:(0,T.genId)()})),e.props.closeStatusViewer()}))}else e.state={loading:!0},a.loadMore(a.totalCount).then((function(){(e.setState({loading:!1}),-1!==a.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===n.toString()})))?(e.statusV3Snapshot=new k.default(a,n),e.statusV3Snapshot.getFirstUnread(a,!0,n).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(P()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1095),id:(0,T.genId)()})),e.props.closeStatusViewer()}))):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1095),id:(0,T.genId)()})),e.props.closeStatusViewer())})).catch((function(){h.default.openToast(f.createElement(T.default,{msg:j.default.t(1095),id:(0,T.genId)()})),e.props.closeStatusViewer()})).finally((function(){e.setState({loading:!1})}))}else{var l=e.props.initialStatusMsg;e.statusV3Snapshot=new k.default(a);var s=e.statusV3Snapshot.getFirstUnread(a,!0,l&&l.id);s.isFulfilled()?e.state={}:e.state={loading:!0},s.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){})).catch(k.InvalidStatusV3Iterator,(function(){LOG(4)(A()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1095),id:(0,T.genId)()})),e.props.closeStatusViewer()}))}return e}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e,t,a,n,i,o,r,l,d=this,c=this.state.iterator;c&&(o=(i=this.statusV3Snapshot).statuses[c.statusIdx],r=o.statusV3,l=o.msgs[c.msgIdx],i.hasPrev(c)&&(a=f.createElement("div",{className:M.default.chevronLeft},f.createElement(I.default,{name:"chevron-left"})),n=f.createElement("div",{className:M.default.chevronLeftBg,onClick:this.onPrev})),i.hasNext(c)&&(e=f.createElement("div",{className:M.default.chevronRight},f.createElement(I.default,{name:"chevron-right"})),t=f.createElement("div",{className:M.default.chevronRightBg,onClick:function(){d.onNext(),d.markRead(r,l)}})));var s,h={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&l&&c&&o&&r&&(s=f.createElement("div",{className:M.default.playerContainer,key:l.id},f.createElement(_.default,{key:l.id,statusV3:r,msg:l,mediaData:l.mediaData,msgIdx:c.msgIdx,totalMsgs:o.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var p,m=(0,u.default)(M.default.v3X,{}),g=f.createElement("button",{className:m,onClick:function(){return d.props.closeStatusViewer(!0)}},f.createElement(I.default,{name:"x-viewer"})),b=(0,u.default)(M.default.backIcon,{}),j=f.createElement("button",{className:b,onClick:function(){return d.props.closeStatusViewer()}},f.createElement(I.default,{name:"back",directional:!0}));return this.state.loading&&(p=f.createElement("div",{className:M.default.mediaStateControls},f.createElement("button",null,f.createElement(y.default,{size:50,stroke:4,color:"white"})))),f.createElement(v.default,{handlers:h},f.createElement("div",{className:M.default.viewer,"data-animate-status-v3-viewer":!0},g,j,n,a,t,e,p,f.createElement(L.default,{transitionName:"status-v3-player",transitionAppear:!0},s)))}}]),t}(f.Component),H=(0,S.default)(G);t.default=H},bjiiedjejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bdeebiagii")),h=a("ecceajhjba"),p=i(a("cijhbdaifj")),m=a("cachecbicf"),g=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e,t;null===(e=a.refUIE)||void 0===e||null===(t=e.getRef())||void 0===t||t.onFocusList()},a._sendProducts=function(e){var t=a.props.chat;e.forEach((function(e,n){var i=0===n?t.composeQuotedMsg:null;t.sendProductMessage(e,i).then((function(){(0,h.logProductMessageSent)(e,a.props.sessionId)}))})),t.composeQuotedMsg=null,a.end()},a._shareCatalog=function(e){var t=a.props.chat,n=(0,m.createCatalogLink)(e.id.user),i="".concat(l10n.t(940)," ").concat(n);u.default.pasteChatTextInput(t,i),(0,h.logSendCatalogClick)(a.props.sessionId),a.end()},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(p.default,{onCancel:this._pop,onConfirm:this._sendProducts,onShare:this._shareCatalog}))}}]),t}(f.default);t.default=g},bjjaehbf:function(e,t){e.exports={commentInput:"_2FCRH",search:"_2Xv_C",groupInfo:"_2qAEE",onSendInvite:"_2HGBP"}},bjjegffjad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("bdjjabfecc")),E=i(a("dcdbbhicce")),C=n(a("bjhgigfbec")),S=i(a("bhcggbhcjc")),y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(){var e=a.encodeColor(a.props.colorHex),t=h.default.get("defaultPreference");t&&e!==t.wallpaperColor&&(t.set("wallpaperColor",e),p.default.openToast(u.createElement(C.default,{msg:j.default.t(1219),id:(0,C.genId)()})))},a.onMouseOver=function(){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseEnter=function(){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseLeave=function(){a.state.hover&&(a.setState({hover:!1}),h.default.trigger("wallpaper_color_preview"))},a.encodeColor=function(e){return"#ede9e4"===e?m.default.DEFAULT_CHAT_WALLPAPER:e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.isDefault?u.createElement("span",{className:S.default.wallpaperDefaultTitle,"data-a8n":f.default.key("wallpaper-default-title")},j.default.t(392)):null,t=(0,s.default)(S.default.wallpaperColorCanvas,{[S.default.canvasHover]:this.state.hover,[S.default.canvasActive]:this.props.isSelected});return u.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,title:this.props.isDefault?j.default.t(392):null},e)}}]),t}(u.Component),_=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,a=e.colors,n=!0,i=t&&t.wallpaperColor,o=a.map((function(e){var t=!1,a=!1;return(i===e||i===m.default.DEFAULT_CHAT_WALLPAPER&&n)&&(t=!0),n&&(a=!0,n=!1),u.createElement(y,{colorHex:e,isSelected:t,isDefault:a,key:e})})),r=0;r<2;r++)o.push(u.createElement("div",{key:"emptyEl"+r,className:S.default.wallpaperColorEmpty}));return u.createElement("div",{className:S.default.wallpaperColorGrid},o)}}]),t}(u.Component);_.CONCERNS={chatPreference:["wallpaperColor"]};var k=(0,E.default)(_,_.CONCERNS),M=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){h.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return u.createElement(g.default,null,u.createElement(v.default,{title:j.default.t(1220),onBack:this.props.onClose,type:v.DRAWER_HEADER_TYPE.LARGE}),u.createElement(b.default,null,u.createElement(k,{colors:m.default.WALLPAPER_COLOR,chatPreference:h.default.get("defaultPreference")})))}}]),t}(u.Component);t.default=M},cababhbggf:function(e,t){e.exports={body:"_2K3Eo",thumbs:"_2_F5S",thumbsContainer:"_2aa7-",btnSend:"_6TTaR",captionInput:"SwXX-",mediaBody:"_3pABo",invalidContainer:"_3q6gz",invalidMedia:"PI68T",mediaWarning:"_36FhP",dropOverlay:"_1t5S0",dropOverlayOutline:"_1E6c_",btnAdd:"_20A_P",btnAddText:"_2-TA4"}},cadfefbibf:function(e,t){e.exports={container:"_3qWYk",body:"_1lGi-"}},cbbifbghag:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var o=new Map;if(!e.length)return o;for(var r=e.filter((function(e){return e!==a})).sort((function(e,t){return e.lat-t.lat})),l=function(e){var a=r[e],l=void 0;if(o.forEach((function(e){!l&&e.fits(a,t,n)&&(l=e)})),l){var d=l.id;o.delete(d),l.add(a)}else l=new i.default(a);o.set(l.id,l)},d=0;d<r.length;d++)l(d);if(a&&e.length!==r.length){var c=new i.default(a);o.set(c.id,c)}return o},t.participantInCluster=function(e,t){return e.split(i.ID_SEPARATOR).includes(t.toString())},t.singleParticipantClusterId=function(e){return!e.includes(i.ID_SEPARATOR)},t.findClusterForParticipant=function(e,t){var a,n=e.values();for(;(a=n.next())&&!a.done;){var i=a.value;if(i.participants.get(t))return i}return null};var i=n(a("ddgehgjfdd"))},cbccffhcjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfhchagia")),f=i(a("cadfefbibf")),h=i(a("dcdbbhicce")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setRefContainer=function(e){a._refContainer=e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"getContainer",value:function(){return this._refContainer}},{key:"render",value:function(){var e=this.props.chatPreference;return s.createElement("div",{className:f.default.container,ref:this._setRefContainer},s.createElement("div",{className:f.default.body},s.createElement(u.default,{wallpaperColor:e.wallpaperColor}),this.props.children))}}]),t}(s.Component);p.CONCERNS={chatPreference:["wallpaperColor"]};var m=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"container",get:function(){return this.getComponent().getContainer()}}]),t}((0,h.default)(p,p.CONCERNS));t.default=m},cbdjcijgja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("dbafiicfja")),u=n(a("ddhijeejag")),f=n(a("ieeidjijb")),h=i(a("dhfbfehaef")),p=i(a("dcaibchbg")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).focusLast=function(){a.props.contacts&&a.props.contacts.length&&a.selection.setLast(!0)},a.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1&&a.selection.setPrev(!0)},a.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onFocusSearch,n=a.selection.next();a.selection.index===n?(a.selection.unset(),t&&t(e)):a.selection.setNext(!0)},a.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onDelete,n=a.selection.getVal();if(n){var i=a.props.contacts.find(n);i&&t&&t(e,i)}},a.onParticipantClick=function(e,t){a.selection.setVal(t)},a.selection=new p.default(e.contacts,(function(e){return e.id})),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidUpdate",value:function(){this.selection.init(this.props.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var a=t.length?(0,s.default)(t,(function(t){return u.createElement(f.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:f.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})})):null,n={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(n[l10n.LR("left","right")]=this.focusPrev,n[l10n.LR("right","left")]=this.focusNext,n.backspace=this.deleteContact);var i=u.createElement("ul",null,a);return u.createElement(h.default,{handlers:n},i)}}]),t}(u.PureComponent);t.default=m},ccdfgfhhfa:function(e,t){e.exports={actionBtns:"_3zzrS",newLabelBtn:"_35R9V",plus:"_1-uPS"}},ccjdjhjhij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ids,a=e.size,n=e.onClick,i=e.showCount,c=e.square,s=e.border,u=t.length;if(0===u)return null;if(1===u)return r.createElement(d.default,{id:t[0],size:40,onClick:n,border:s});var f=t.slice(0,4).map((function(e,t){return r.createElement("div",{key:"avatar-combo-image-".concat(t),className:(0,o.default)(l.default.avatar,{[l.default.first]:0===t,[l.default.second]:1===t,[l.default.third]:2===t,[l.default.fourth]:3===t})},r.createElement(d.default,{id:e,size:a,square:!0}))})),h=(0,o.default)(l.default.container,{[l.default.square]:c,[l.default.border]:s},{[l.default.two]:2===u,[l.default.three]:3===u,[l.default.four]:u>=4}),p=(0,d.getSize)(a),m={height:p,width:p,cursor:n?"pointer":void 0},g=i?r.createElement("div",{className:l.default.count,style:m},t.length):null;return r.createElement("div",{className:h,style:m,onClick:n},f,g)};var o=i(a("ceffhbhahb")),r=n(a("ddhijeejag")),l=i(a("dagffibabh")),d=n(a("hhcjfgifh"))},cdbfcccegj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.url;return o.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:r.default.media},o.createElement("audio",{controls:!0,type:t,src:a})))};var o=i(a("ddhijeejag")),r=n(a("cddiegeheh"))},cdddjjjgij:function(e,t){e.exports={container:"_1ugBc",section:"_1MQx6",sectionWide:"QxLyQ",control:"_3F6uW",label:"_1dc_o",disabled:"_2RflG",select:"_1VsSQ"}},cddhggdajg:function(e,t){e.exports={container:"_2LXR0",map:"_3UG7w",authFailed:"NSkR1",loading:"_1ED1A"}},cddiegeheh:function(e,t){e.exports={container:"CdChS",media:"DodYP"}},cddiididei:function(e,t){e.exports={wrapper:"_3D29i",icon:"_25G2c",text:"_2eojN"}},cdeeicghb:function(e,t){e.exports={container:"_2UTyI",media:"_1KWxB",img:"_2YWgP",audio:"_3rofn",videoContainer:"_2a28v",spinner:"_1QlWq",video:"_23PcX",staticPreview:"_2_uiB"}},cdgfajccbj:function(e,t){e.exports={border:"_1ByLM"}},cdhbehgbej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("ebddggeaib")),g=a("cgbdcdhgig"),b=i(a("dcdbbhicce")),v=i(a("bcjcbbafcj")),j=i(a("ceaajcbaaa")),E=n(a("bgeajihhc")),C=(0,u.default)((function(e,t){j.default.setVideoVolumeSettings(e,t)}),500),S=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hasSentPlayed:!1},a.checkIteration=0,a.checkForSuccessInterval=0,a.hasCalledPlaying=!1,a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.refVideo=f.createRef(),a.onVolumeChange=function(){var e=a.refVideo&&a.refVideo.current;e&&C(e.volume,e.muted)},a.onTimeUpdate=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,g.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval||(a.checkForSuccessInterval=setInterval(a.checkForSuccess,250))},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(clearInterval(a.checkForSuccessInterval),a.checkIteration=0,a.checkForSuccessInterval=0)},a.checkForSuccess=function(){if(E.default.state===E.STATE.CONNECTED){a.checkIteration++;var e=a.refVideo&&a.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?a.onPlaying():a.checkIteration>240&&a.clearCheckForSuccess()}},a.onPlayerError=function(){a.clearCheckForSuccess()},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&a.pause()},a.pause=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.paused||e.pause())},a.onPlaying=function(){a.clearCheckForSuccess(),h.default.mediaPlaying((0,c.default)(a))},a.onLoadedMetadata=function(e){a.setStartTime();var t=a.props.onLoadedMetadata;t&&t(e)},a.setStartTime=function(){var e=a.refVideo&&a.refVideo.current;null!=a.props.startTime&&0!==a.props.startTime&&e&&(e.currentTime=a.props.startTime)},a.onContextMenu=function(e){a.props.disableContextMenu&&e.preventDefault()},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(h.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"componentWillUnmount",value:function(){C.flush(),this.clearCheckForSuccess(),this.pause()}},{key:"componentDidUpdate",value:function(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"updateVideoUserPrefs",value:function(){var e=this.refVideo&&this.refVideo.current;if(e){var t=j.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),_()&&this.props.autoPlay&&this.startCheckForSuccess()}}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.mediaBlob,o=n.streamable&&n.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&o||!i){if(!n.streamable||!n.isStreamable())return null;e="".concat(p.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString())}else e=i.url();var r=!this.state.hasSentPlayed&&(0,g.canMarkPlayed)(a)?this.onTimeUpdate:void 0,l=_()&&!t.autoPlay?this.startCheckForSuccess:void 0;return f.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:l,onPlaying:this.onPlaying,onTimeUpdate:r,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu},t.children)}}]),t}(f.PureComponent);S.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]};var y=(0,m.default)((0,b.default)(S,S.CONCERNS));function _(){return v.default.isGecko||v.default.isSafari}t.default=y},cdhhgdibbf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=i(a("jheedhagg")),g=i(a("dacigcjbia")),b=i(a("ebddggeaib")),v=i(a("bhbeigbaec")),j=a("chcfhehffe"),E=i(a("bgiafagffb")),C=i(a("bbgcdfeifh")),S=i(a("dcdbbhicce")),y=i(a("dgdcjccfdi")),_=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onRoadmapSelected=function(){a.setState({mapType:j.MapType.ROADMAP})},a.onSatelliteSelected=function(){a.setState({mapType:j.MapType.SATELLITE})},a.onTerrainSelected=function(){a.setState({mapType:j.MapType.TERRAIN})},a.onTrafficToggled=function(){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onMarkerSelected=function(e){a.setState({markerSelected:e})},a.state={mapType:j.MapType.ROADMAP,showTraffic:!1,markerSelected:!1,online:C.default.online},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(C.default,"change:online",(function(){e.setState({online:C.default.online})}))}},{key:"render",value:function(){var e,t,a,n,i=s.createElement(E.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:this.state.showTraffic}),o=this.props.msg,r=o.finalLat,l=o.finalLng,d=o.finalTimeOffset,c=o.lat,m=o.lng,b=o.senderObj,j=o.t,C=this.state,S=C.mapType,_=C.showTraffic,k=C.markerSelected;return void 0===r||void 0===l||void 0===d?(e=c,t=m,a=j):(e=r,t=l,a=j+d),n=C.online?s.createElement("div",{className:g.default.wrapper},s.createElement(v.default,{contact:b,lat:e,lng:t,mapType:S,showTraffic:_,markerSelected:k,onMarkerSelected:this.onMarkerSelected}),s.createElement("div",{className:g.default.notification},s.createElement("div",{className:g.default.ended},l10n.t(663)),s.createElement("div",{className:g.default.lastUpdated},u.default.liveLocationLastUpdatedStr(a)))):s.createElement("div",{className:g.default.offline},s.createElement("div",null,s.createElement("div",{className:g.default.circle},s.createElement(y.default,{name:"live-location-disconnected"})),s.createElement("div",{className:g.default.text},l10n.t(710)))),s.createElement(f.default,null,s.createElement(p.default,{title:l10n.t(664),type:p.DRAWER_HEADER_TYPE.SMALL,menu:i,onCancel:this.onClose}),s.createElement(h.default,null,n))}}]),t}(s.PureComponent);_.CONCERNS={msg:["finalLat","finalLng","finalTimeOffset","lat","lng","senderObj","t"]};var k=(0,m.default)((0,b.default)((0,S.default)(_,_.CONCERNS)));t.default=k},cdhjbegegf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("bdiiahhjbe")),p=i(a("bfgbdiffgd")),m=i(a("bicfacdfic")),g=i(a("bcifhbgija"));function b(){var e=(0,o.default)(["Current index: ",", total count: ",""]);return b=function(){return e},e}var v=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,a){if(e.refBar){var n=1e3*p.default.statusVideoMaxDuration,i=Math.min(t,n),o=Math.min(a,n),r="-".concat(i/o*100,"%");(0,g.default)(e.refBar,"stop"),e.barAnimation=(0,g.default)(e.refBar,{translateX:["0%",r]},{duration:i,easing:"linear"})}},e.onPause=function(){e.refBar&&(0,g.default)(e.refBar,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},LOG(1)(b(),e.props.current,e.props.total),h.default.assert(e.props.current>=0&&e.props.current<e.props.total,"bad current status v3 index")(),e}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){for(var e=this,t=[],a="".concat(100/this.props.total,"%"),n=function(n){var i=(0,u.default)(m.default.foreground,{[m.default.filled]:n<e.props.current,[m.default.empty]:n>e.props.current,[m.default.active]:n===e.props.current}),o=f.createElement("div",{className:m.default.wrapper,style:{width:a},key:n,onClick:function(){return e.onClick(n)}},f.createElement("div",{className:m.default.bg}),f.createElement("div",{className:m.default.mask},f.createElement("div",{className:i,ref:n===e.props.current?e.setRefBar:function(){}})));t.push(o)},i=0;i<this.props.total;++i)n(i);return f.createElement("div",{className:m.default.container},t)}}]),t}(f.Component);t.default=v},cdjefgbie:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LiveLocationDrawer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ExpiredLocationDrawer",{enumerable:!0,get:function(){return o.default}});var i=n(a("bjiecabhbh")),o=n(a("cdhhgdibbf"))},cebbffhbdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=i(a("dgdjiicfdg")),h=n(a("ddhijeejag")),p=i(a("effbcehec")),m=i(a("daghjjjedc")),g=i(a("ccbgfecegc")),b=i(a("cdddjjjgij")),v=i(a("dagdiahdfi")),j=i(a("dhhjhedjij")),E=n(a("bjhgigfbec"));function C(){var e=(0,o.default)(["DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:",""]);return C=function(){return e},e}var S={title:0,hour:1,day:24,week:168},y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={notifications:v.default.getGlobalNotifications(),sounds:v.default.getGlobalSounds(),previews:v.default.getGlobalPreviews(),collapseMuted:v.default.getCollapseMuted(),dnd:S.title},a.onSounds=function(){var e=!a.state.sounds;a.setState({sounds:e}),v.default.setGlobalSounds(e)},a.onNotifications=function(){var e=!a.state.notifications;a.setState({notifications:e}),v.default.setGlobalNotifications(e)},a.onPreviews=function(){var e=!a.state.previews;a.setState({previews:e}),v.default.setGlobalPreviews(e)},a.onCollapseMuted=function(){var e=!a.state.collapseMuted;a.setState({collapseMuted:e}),v.default.setCollapseMuted(e)},a.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return a.setState({dnd:S.title}),void v.default.globalMute().unmute();a.setState({dnd:t});var n=(0,f.default)().unix()+60*t*60;v.default.globalMute().mute(n)}},a.onClose=function(){g.default.closeModal()},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==S.title&&g.default.openToast(h.createElement(E.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,E.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t(528);case 24:return l10n.t(527);case 168:return l10n.t(529);default:return LOG(2)(C(),e),l10n.t(526)}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(h.createElement("div",{className:b.default.section,onClick:this.onNotifications,key:0},h.createElement("div",{"data-a8n":p.default.key("menu-icon-notifications"),className:b.default.control},h.createElement(m.default,{onChange:this.onNotifications,checked:this.state.notifications})),h.createElement("div",{"data-a8n":p.default.key("option-desktop-notifications"),className:b.default.label},l10n.t(914))));var t=(0,u.default)(b.default.section,{[b.default.disabled]:!this.state.notifications});e.push(h.createElement("div",{className:t,onClick:this.onPreviews,key:1},h.createElement("div",{"data-a8n":p.default.key("menu-icon-notifications"),className:b.default.control},h.createElement(m.default,{onChange:this.onPreviews,checked:this.state.previews})),h.createElement("div",{"data-a8n":p.default.key("option-msg-previews"),className:b.default.label},l10n.t(915),h.createElement(j.default,{theme:"muted",block:!0},l10n.t(916)))))}return h.createElement("div",{className:b.default.container},h.createElement("div",{className:b.default.section,onClick:this.onSounds},h.createElement("div",{"data-a8n":p.default.key("menu-icon-notifications"),className:b.default.control},h.createElement(m.default,{onChange:this.onSounds,checked:this.state.sounds})),h.createElement("div",{"data-a8n":p.default.key("option-sounds"),className:b.default.label},l10n.t(918))),e,void 0,h.createElement("div",{className:(0,u.default)(b.default.section,b.default.sectionWide)},h.createElement("div",{className:b.default.select},h.createElement("select",{"data-a8n":p.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},h.createElement("option",{value:S.title},l10n.t(917)),h.createElement("option",{value:S.hour},l10n.t(797)),h.createElement("option",{value:S.day},l10n.t(796)),h.createElement("option",{value:S.week},l10n.t(798))))))}}]),t}(h.Component);t.default=y},ceejajbjbd:function(e,t){e.exports={scaler:"_115TV",scalerButton:"_3ASL9"}},ceggieaiij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("eabehhacha")),h=i(a("cfadcbbiie")),p=i(a("bhbdiadfhj")),m=i(a("bfgbdiffgd")),g=i(a("dcdbbhicce")),b=i(a("fabfijbdh")),v=i(a("bahcdceje")),j=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.statusV3,n=t.contact,i=(0,s.default)({[b.default.dimmed]:n.statusMute});return e=m.default.statusRanking&&p.default.supportsFeature(p.default.F.STATUS_RANKING)?a.hasUnread?l10n.t(1100,{count:a.unreadCount,_plural:a.unreadCount}):l10n.t(1099,{count:a.totalCount,_plural:a.totalCount}):h.default.relativeDateAndTimeStr(a.t),u.createElement(f.default,{className:i,key:a.id.toString(),customImage:!0,theme:"status-list",image:u.createElement(v.default,{statusV3:a,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:e,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}(u.PureComponent);j.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]};var E=(0,g.default)(j,j.CONCERNS);t.default=E},cehjgabfic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=a("cfabbaghh"),u=n(a("ddhijeejag")),f=i(a("hgigjbgie")),h=i(a("dgjacfgggf")),p=i(a("ebddggeaib")),m=i(a("ceejajbjbd")),g=i(a("dgdcjccfdi")),b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).validateTranslate=function(e,t){var n=a.props.editedMedia.editData,i=(e-n.width/2)*n.scale,o=(e+n.width/2)*n.scale,r=(t+n.height/2)*n.scale,l=(t-n.height/2)*n.scale;return{x:i<-a.cropRadius&&o>a.cropRadius,y:l<-a.cropRadius&&r>a.cropRadius}},a.validateScale=function(e){var t=a.props.editedMedia.editData,n=Math.max(2*a.cropRadius/t.width,2*a.cropRadius/t.height),i=Math.max(e,n);if(t.width*e<a.cropRadius||t.height*e<a.cropRadius)return!1;var o=-a.cropRadius/i+t.width/2,r=a.cropRadius/i-t.width/2,l=-a.cropRadius/i+t.height/2,d=a.cropRadius/i-t.height/2;return{scale:i,offsetX:Math.min(Math.max(t.offsetX,r),o),offsetY:Math.min(Math.max(t.offsetY,d),l)}},a.onPressMove=function(e,t){var n=a.props.editedMedia.editData,i=e.stageX-t.x,o=e.stageY-t.y,r=n.offsetX+i/n.scale,l=n.offsetY+o/n.scale,d=a.validateTranslate(r,l);d.x&&(n.offsetX=r),d.y&&(n.offsetY=l),t.x=e.stageX,t.y=e.stageY,a.props.drawCanvas()},a.onEnlarge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,t=a.props.editedMedia.editData,n=0!==e?e:1.1,i=a.validateScale(t.scale*n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.onReduce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,t=a.props.editedMedia.editData,n=0!==e?e:1.1,i=a.validateScale(t.scale/n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.crop=function(){var e,t=a.props.editedMedia,n=t.editData,i=t.editedImage&&t.editedImage.src;if(!i)return Promise.reject("empty image");var o=2*a.cropRadius,r=o;return o>f.default.MAX_PIC_SIDE?r=f.default.MAX_PIC_SIDE:o<f.default.MIN_PIC_SIDE&&(r=f.default.MIN_PIC_SIDE),h.default.crop(i,(n.width-2*a.cropRadius)/2,(n.height-2*a.cropRadius)/2,2*a.cropRadius,2*a.cropRadius,r,r,h.default.DATA_URL|h.default.CANVAS).then((function(t){var a=t.images;return e=a.dataUrl,h.default.crop(a.canvas,0,0,f.default.PROF_PIC_THUMB_SIDE,f.default.PROF_PIC_THUMB_SIDE)})).then((function(t){return{thumb:t.images.dataUrl,full:e}}))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this;return u.createElement("div",{className:m.default.scaler},u.createElement("div",{className:m.default.scalerButton,onClick:function(){e.onEnlarge()}},u.createElement(g.default,{name:"plus"})),u.createElement("div",{className:m.default.scalerButton,onClick:function(){e.onReduce()}},u.createElement(g.default,{name:"minus"})))}},{key:"componentDidMount",value:function(){var e=this;this.props.editedMedia.saveEdits();var t,a=this.props.editedMedia.editData,n=this.props.cropOverlay,i=n.canvas;t=a.baseItem?a.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=t.width,i.height=t.height;var o=new s.Easel.Shape;o.graphics.beginFill("rgba(0, 0, 0, 0.1)"),o.graphics.drawRect(0,0,t.width,t.height),o.regX=t.width/2,o.regY=t.height/2,o.x=t.width/2,o.y=t.height/2,o.on("mousedown",(function(t){var a={x:t.stageX,y:t.stageY},n=o.on("pressmove",e.onPressMove,null,!1,a);o.on("pressup",(function(){o.off("pressmove",n)}),null,!0)})),o.cursor="move",this.props.listeners.add(i,"mousewheel",(function(t){t.deltaY>0?e.onEnlarge(1.02):e.onReduce(1.02)}));var r=i.getContext("2d"),l=i.width,d=i.height,c=l/d>500/361?d/361:l/500;this.cropRadius=Math.min(361,500)/2*.9*c,r.fillStyle="rgba(0, 0, 0, 0.5)",r.fillRect(0,0,l,d),r.globalCompositeOperation="destination-out",r.beginPath(),r.arc(l/2,d/2,this.cropRadius,0,2*Math.PI,!0),r.fillStyle="#ffffff",r.fill(),n.addChild(o),n.update()}}]),t}(u.Component),v=b;t.Component=v;var j=(0,p.default)(b);t.default=j},ceibaheeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("hbddjfeei")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("eaaagccfda")),h=i(a("djfeeacgad")),p=n(a("ddhijeejag")),m=a("ceagbbhcha"),g=a("chcfhehffe"),b=i(a("ciehddchae")),v=a("heaagdjji"),j=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.onLocationChanged=function(e){var t=a.props,n=t.clusters,i=t.atCenter,o=t.selectedMarkerId;if(a.props.onLocationChanged(),!o&&i)a.viewAllClusters();else if(o&&o===e){var r=n.get(o);r&&a.viewSingleCluster(r)}},a.onIdle=(0,f.default)((function(){var e=a.map;if(e){var t=e.getZoom();if(a.zoomingToAllClusters){a.defaultZoomLevel=t,a.zoomingToAllClusters=!1;var n=(0,s.default)(a).zoomHistory;if(n.prev.preZoom===n.curr.postZoom&&n.prev.postZoom===n.curr.preZoom)return}a.props.onMapMoved(t,a.atCenter())}}),100),a.onDragStart=function(){var e=a.map;if(e){var t=e.getZoom();a.props.onMapMoved(t,!1)}},a.onResize=(0,f.default)((function(){a.setMapLatLngDiff()}),250),a.mapOnClick=function(){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(e,t){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(t)},a.dismissMarkerTimer=new h.default((function(){a.props.selectedMarkerId&&a.props.onClearSelected()})),a.defaultLatDiff=a.defaultLngDiff=.01,a.defaultZoomLevel=-1,a.zoomingToAllClusters=!1,a.zoomHistory={prev:{preZoom:-1,postZoom:-1},curr:{preZoom:-1,postZoom:-1}},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.onIdle.cancel(),this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.setMapLatLngDiff(),this.viewAllClusters()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,o=t.atCenter,r=e.selectedMarkerId;if(this.setMapLatLngDiff(),a.size&&(!r||i||o))if(i&&r!==i){var l=a.get(i)||n.get(i);l&&this.viewSingleCluster(l)}else!i&&o&&this.viewAllClusters()}},{key:"viewAllClusters",value:function(){var e=this.props.clusters;0===e.size||this.atCenter()||(this.zoomToFitAllClusters(e),this.centerAllClusters(e))}},{key:"viewSingleCluster",value:function(e){this.zoomToFitSingleCluster(e),this.centerSingleCluster(e)}},{key:"zoomToFitAllClusters",value:function(e){var t=this.map;if(t){this.zoomingToAllClusters=!0,this.zoomHistory.prev.preZoom=this.zoomHistory.curr.preZoom,this.zoomHistory.curr.preZoom=t.getZoom();var a=this.getBounds(e),n=e.entries().next();if(1!==e.size||n.done)this.boundsTooSmall(a)?t.fitBounds(this.getDefaultBounds(a.getCenter())):t.fitBounds(a);else{var i=(0,o.default)(n.value,2)[1];this.zoomToFitSingleCluster(i,!1)}this.zoomHistory.prev.postZoom=this.zoomHistory.curr.postZoom,this.zoomHistory.curr.postZoom=t.getZoom()}}},{key:"zoomToFitSingleCluster",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.map;if(a&&(!t||!this.boundsTooSmall(a.getBounds()))){var n=e.northeast,i=e.southwest,o=new google.maps.LatLng(n.lat,n.lng),r=new google.maps.LatLng(i.lat,i.lng),l=new google.maps.LatLngBounds(r,o);this.boundsTooSmall(l)?a.fitBounds(this.getDefaultBounds(l.getCenter())):a.fitBounds(l)}}},{key:"centerAllClusters",value:function(e){var t=this.getBounds(e).getCenter();this.centerMap(t)}},{key:"centerSingleCluster",value:function(e){var t=new google.maps.LatLng(e.center);this.centerMap(t)}},{key:"centerMap",value:function(e){var t=this.map;t&&(t.getCenter().equals(e)||t.panTo(e))}},{key:"getInitialCenter",value:function(){return this.getBounds(this.props.clusters).getCenter()}},{key:"getBounds",value:function(e){var t=new google.maps.LatLngBounds;return e.forEach((function(e){t.extend({lat:e.lat,lng:e.lng})})),t}},{key:"boundsTooSmall",value:function(e){var t=e.getNorthEast(),a=e.getSouthWest(),n=t.lat()-a.lat(),i=t.lng()-a.lng(),o=this.defaultLatDiff,r=this.defaultLngDiff,l=Math.abs(n)<o,d=Math.abs(i)<r;return l||d}},{key:"getDefaultBounds",value:function(e){var t=this.defaultLatDiff,a=this.defaultLngDiff,n=new google.maps.LatLng(e.lat()-t/2,e.lng()-a/2),i=new google.maps.LatLng(e.lat()+t/2,e.lng()+a/2);return new google.maps.LatLngBounds(n,i)}},{key:"atCenter",value:function(){var e=this.map;if(!e)return!0;var t=e.getCenter(),a=this.getInitialCenter(),n=t.lat()-a.lat(),i=t.lng()-a.lng();return Math.abs(n)<1e-4&&Math.abs(i)<1e-4&&this.defaultZoomLevel===e.getZoom()}},{key:"setMapLatLngDiff",value:function(){var e=this.map;if(e){var t=e.getCenter(),a=e.getDiv(),n=(0,v.getMetersPerPixel)(t.lat(),g.INITIAL_ZOOM),i=a.offsetWidth*n,o=a.offsetHeight*n;this.defaultLatDiff=(0,v.getLatDiff)(o),this.defaultLngDiff=(0,v.getLngDiff)(i,t.lat())}}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,o=[],r=function(t,a){o.push(p.createElement(b.default,{key:a,marker:{isLive:!0,cluster:t,onLocationChanged:function(){return e.onLocationChanged(a)},selected:i===a,onClick:function(t){return e.markerOnClick(t,a)}}}))};return a.forEach(r),n.forEach(r),o}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?p.createElement(m.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){return p.createElement(m.GoogleMap,{ref:this.setMap,defaultCenter:this.getInitialCenter(),defaultOptions:this.props.getMapOptions(),defaultZoom:g.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick,onDragStart:this.onDragStart,onIdle:this.onIdle},this.getMarkers(),this.getTrafficLayer())}}]),t}(p.Component),E=(0,g.withConfig)((0,m.withScriptjs)((0,m.withGoogleMap)(j)));t.default=E},cejfghgbfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("iidhbgeed")),u=i(a("bebajedcaf")),f=i(a("bhdddbafig")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),m=i(a("effbcehec")),g=a("dfdebdgdei"),b=i(a("ccbgfecegc")),v=i(a("bbfjdcedab")),j=i(a("dhigahgdjb")),E=i(a("dbgbgeefcf")),C=i(a("dahagdijgh")),S=i(a("bjheffjbgd")),y=n(a("bjjhgjdbhd")),_=a("cdhbdacigj"),k=n(a("cajijabhgb")),M=i(a("bfchfhibba")),I=i(a("dbfjeecgih")),T=i(a("bbaacgghch")),L=i(a("ddajbaceej")),P=a("dgjddffcfg"),w=i(a("dhfbfehaef")),A=i(a("bdjjabfecc")),N=i(a("dcjccddaca")),O=i(a("cbdjcijgja")),R=i(a("dhccahhefj")),D=i(a("deffjjfcba")),x=a("cbhhehcjbb"),F=i(a("bfgbdiffgd")),U=i(a("ecdebjcgfa")),B=i(a("dgdcjccfdi")),V=n(a("bjhgigfbec")),G=i(a("didfdhbecg")),H=(0,V.genId)("max_participant_toast"),W=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",participants:a.props.participants,shouldFocus:!0,isBusy:!1},a.flatListController=new I.default,a.setRefParticipantList=function(e){a.refParticipantList=e},a.setRefList=function(e){a.refList=e},a.onKeyDown=function(e){if("Backspace"===e.key&&!a.state.searchText&&!(0,u.default)(a.state.participants)){e.preventDefault();var t=a.state.participants;a.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},a.onInput=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:"",shouldFocus:!0})},a.focus=function(){L.default.focus(a.refInput)},a.onBack=function(){a.props.onBack()},a.onContinue=function(){a.props.onContinue(a.state.participants)},a.onDelete=function(e,t){var n=(0,s.default)(a.state.participants,(function(e){return!e.id.equals(t.id)}));a.setState({participants:n,shouldFocus:!n.length})},a.onContactClick=function(e,t){a.state.participants.find((function(e){return e.id.equals(t.id)}))?a.removeContact(t):t.isBlocked()?b.default.openModal(p.createElement(v.default,{title:A.default.t(187),onOK:function(){a.unblockAndAddContact(t),b.default.closeModal()},onCancel:function(){return b.default.closeModal()},okText:A.default.t(1528),cancelText:A.default.t(1392)},A.default.t(183))):a.addContact(t)},a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),T.default.shouldIndicateFocus(),a.refList&&a.refList.focusFirst())},a.onFocusParticipants=function(e){e.repeat||a.refInput&&0!==a.refInput.selectionStart||a.refParticipantList&&(e.preventDefault(),e.stopPropagation(),w.default.flashFocus=0,a.refParticipantList&&a.refParticipantList.focusLast())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.getFilteredContacts()[0];t&&a.onContactClick(e,t)},a.onFocusSearch=function(){T.default.shouldIndicateFocus(),L.default.focus(a.refInput)},a.setRefInput=function(e){a.refInput=e},a.setRefSizer=function(e){a.refSizer=e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,f.default)(j.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=A.default.accentFold(t);var a=(0,P.numberSearch)(t);return e.filter((function(e){return e.searchMatch(t,a)}))}},{key:"adjustInput",value:function(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,n=a>t?t:a;this.refInput.style.width=n+"px",e=t-this.refInput.offsetLeft-n>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=F.default.maxParticipants){var a=A.default.t(73,{max:F.default.maxParticipants});b.default.openToast(p.createElement(V.default,{msg:a,id:H}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,s.default)(t,(function(t){return!e.id.equals(t.id)})),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,g.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function(){t.addContact(e),t.setState({isBusy:!1})})).catch(k.Unmount,(function(){})).catch((function(){t.setState({isBusy:!1})}))}},{key:"render",value:function(){var e;this.state.isBusy?e=p.createElement("div",{className:N.default.spinner},p.createElement(U.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=p.createElement(D.default,{a8nText:"group-participants-btn",onClick:this.onContinue},p.createElement(B.default,{name:"arrow-forward",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":A.default.t(569),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};a[A.default.LR("left","right")]=this.onFocusParticipants;var n,i=this.getFilteredContacts();return n=0===i.length?p.createElement(_.SearchContacts,null):p.createElement(E.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:i,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),p.createElement(C.default,null,p.createElement(y.default,{title:A.default.t(1554),type:y.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),p.createElement(S.default,null,p.createElement("div",{className:N.default.search},p.createElement("div",null,p.createElement(w.default,{handlers:a,className:N.default.inputLine},p.createElement("div",{"data-list-scroll-container":!0},p.createElement(O.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),p.createElement("input",{"data-a8n":m.default.key("inputarea"),className:(0,h.default)(N.default.inputarea,x.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),p.createElement("span",{className:N.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),p.createElement(M.default,{className:N.default.contacts,flatListControllers:[this.flatListController]},n),p.createElement(G.default,{transitionName:"btn",className:N.default.drawerSection},e)))}}]),t}(p.Component);W.defaultProps={participants:[]};var Y=(0,R.default)(W);t.default=Y},cejgdbefcg:function(e,t){e.exports={nextButton:"_1KM01",section:"_2RLvm"}},cejgggcehb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),s=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("bgifaaggh")),h=i(a("fhfbcdaib")),p=n(a("ddhijeejag")),m=a("biheibdage"),g=i(a("iieiegjjd")),b=i(a("ccbgfecegc")),v=i(a("bdeebiagii")),j=i(a("bcjcbbafcj")),E=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.onFailedMedias=function(t){var a=t.filter((function(e){return e.isGif}));if(a.length>0){var n=a.map((function(e){return e.filename}));b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,n.join(" "))})),e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()}},e.sendMediaWithMentions=function(t,a){var n=e.props.chat;b.default.once("ui_idle",(function(){t.forEach((function(e,t){var a=e.media,i={};0===t&&(i.quotedMsg=n.composeQuotedMsg,n.composeQuotedMsg=null),i.mentionedJidList=e.mentionedJidList,i.caption=a.caption,i.addEvenWhilePreparing=a.previewable&&a.state===m.ATTACH_MEDIA_STATE.PROCESSING,a.sendToChat(n,i)})),e.clearComposeAttachMedia()})),e.props.onComplete&&e.props.onComplete(!0,a),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){null!=t&&b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,t)})),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind((0,d.default)(e)),e}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){b.default.closeContextMenu(),b.default.closeTooltip(),this.push(p.createElement(g.default,{chat:this.props.chat,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,h.default)(this.sendMediaWithMentions),onDropText:(0,h.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;j.default.isGecko?(0,f.default)((function(){return b.default.focusChatTextInput(e.props.chat)})):b.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),(0,s.default)((0,c.default)(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}(v.default);t.default=E},cfaheajaaj:function(e,t){e.exports={header:"_1c_T1"}},cffjbgdgeg:function(e,t){e.exports={notifyName:"_12Pe6"}},cfhfdchaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ebcagbhefg")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=i(a("dcgdbhbjdi")),m=i(a("dhbchaebgb")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=n(a("cajijabhgb")),C=i(a("bhbdiadfhj")),S=i(a("jheedhagg")),y=a("dhegcfddhg"),_=i(a("chhebaafhb")),k=i(a("ebddggeaib")),M=a("edagdaii"),I=i(a("biecbbiiee")),T=i(a("eigdejjai")),L=i(a("eahdicfdjf")),P=i(a("cbccffhcjb")),w=i(a("dhccahhefj")),A=i(a("bfgbdiffgd")),N=i(a("ecdebjcgfa")),O=i(a("dcdbbhicce")),R=i(a("dgdcjccfdi")),D=n(a("bjhgigfbec")),x=i(a("ccbcihdfhg")),F=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;T.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e,"change:playedRemaining change:readRemaining change:deliveryRemaining",(function(){t.forceUpdate()}))})).catch(E.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),f.default.openToast(s.createElement(D.default,{msg:l10n.t(787),id:(0,D.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===h.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===I.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e,t,a,n=this.props.msg,i=this.state,o=i.msgInfo,r=i.unimplemented;if(o){var l,d,c,f=[];o.isPTT&&(t=l10n.t(753),d=(l=o.played.head())&&l.t,c=s.createElement("span",{className:m.default.icon},s.createElement(R.default,{name:"status-ptt",className:m.default.pttBlue})),f.push(s.createElement(p.default,{title:l10n.t(748),t:d,icon:c,key:"played"}))),d=(l=o.read.head())&&l.t,c=s.createElement("span",{className:m.default.icon},s.createElement(R.default,{name:"status-dblcheck",className:m.default.ack})),t=t||l10n.t(750),f.push(s.createElement(p.default,{title:t,t:d,icon:c,key:"read"})),d=(l=o.delivery.head())&&l.t,c=s.createElement("span",{className:m.default.icon},s.createElement(R.default,{name:"status-dblcheck"})),f.push(s.createElement(p.default,{title:l10n.t(746),t:d,icon:c,key:"delivery"})),A.default.frequentlyForwardedMessages&&n.numTimesForwarded>0&&!n.isFrequentlyForwarded&&f.push(s.createElement(L.default,{key:"forward",msg:n})),e=s.createElement(j.default,{theme:"padding"},f)}o||r||(a=s.createElement("div",{className:m.default.spinner,key:"spinner"},s.createElement(N.default,{size:50,stroke:4})));var E=null;return n.labels&&n.labels.length&&C.default.supportsFeature(C.default.F.LABELS_DISPLAY)&&(E=s.createElement(j.default,{theme:"padding"},s.createElement(_.default,{labels:n.labels}))),s.createElement(g.default,{key:"message-info-modal",theme:"striped"},s.createElement(v.default,{title:l10n.t(745),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),s.createElement(P.default,{ref:this.setRefScrollable,chatPreference:u.default.assertGet("defaultPreference")},s.createElement(x.default,{msg:n,ref:(0,y.GetRef)("wrapper",this),displayType:h.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:M.MsgPosition.END,onProductClick:this.props.onProductClick})),s.createElement(b.default,null,E,s.createElement("div",{className:m.default.body},a,e)))}}]),t}(s.Component);F.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var U=(0,S.default)((0,w.default)((0,k.default)((0,O.default)(F,F.CONCERNS))));t.default=U},cfhfjfibci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ieeidjijb")),f=i(a("bgheieccaj")),h=i(a("bfchfhibba")),p=i(a("dbfjeecgih")),m=i(a("dabbegbbcb")),g=i(a("dggddfhei")),b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new p.default,a.renderListItem=function(e){var t=e.participant,n=t.valid?s.createElement(g.default,{participant:t}):l10n.t(696),i=t.valid?function(){return a.props.onParticipantSelected(t.contact.id.toString())}:null,o=t.isMe?s.createElement("div",{onClick:a.props.onStopSharing,className:m.default.stopSharingButton},l10n.t(686)):null;return s.createElement(u.default,{contact:t.contact,secondary:n,onClick:i,detail:o})},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),contentKey:e.valid?"valid":"invalid",participant:e}}))}},{key:"render",value:function(){var e=this.getListData();return s.createElement(h.default,{className:m.default.list,flatListControllers:[this.flatListController]},s.createElement(f.default,{data:e,renderItem:this.renderListItem,flatListController:this.flatListController,direction:"vertical"}))}}]),t}(s.Component);t.default=b},cgbdhdjdcf:function(e,t,a){e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},cggdjhhbaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("jagjbhcgf")),j=i(a("dgebcfedgb")),E=a("cdhbdacigj"),C=n(a("cajijabhgb")),S=a("bgddggdhc"),y=i(a("ddajbaceej")),_=i(a("jheedhagg")),k=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bdjjabfecc")),T=i(a("ebddggeaib")),L=a("cadfgefaja"),P=i(a("dhccahhefj")),w=i(a("jcfhjhibi")),A=i(a("dcaibchbg")),N=i(a("ecdebjcgfa")),O=i(a("bgedfbagfd")),R=i(a("ccadaajdfc")),D=i(a("dgdcjccfdi")),x=i(a("jjhjbgbd")),F=i(a("didfdhbecg"));function U(){var e=(0,o.default)(["StarredDrawer:loadEarlierMsgs failed\n",""],["StarredDrawer:loadEarlierMsgs failed\\n",""]);return U=function(){return e},e}var B=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).msgRefs={},a.getInitialState=function(){var e=a.props.starredMsgs;return{cursor:w.default.create({msgCollection:e,type:p.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:p.default.MSG_PRELOAD_THRESHOLD})}},a.handleStarChange=function(){a.initSelectionObjects(),a.forceUpdate()},a.initSelectionObjects=function(){var e=a.props.starredMsgs.toArray();a.currSelection.init(e,!0),a.activeSelection.init(e)},a.setRefMsgComponent=function(e,t){t?a.msgRefs[e.id.toString()]=t:delete a.msgRefs[e.id.toString()]},a.loadEarlierMsgs=function(){var e=a.state.cursor,t=a.props.chat&&a.props.chat.id,n=a.props.starredMsgs,i=n.models;if(e.getEnd(n)<i.length)a.setState({cursor:e.loadAfter(n)});else{if(n.isSynced)return;a.props.starredMsgs.sync(t).checkpoint(a.props.rejectOnUnmount()).then((function(){e.hasAfter(n)&&a.setState({cursor:e.loadAfter(n)})})).catch(C.Unmount,(function(){})).catch((function(e){LOG(2)(U(),e)}))}},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.focus=function(){a.body&&y.default.focus((0,S.forbiddenAssertDOMNode)(a.body))},a.onFocusGain=function(e){a.body&&((e?e.target:document.activeElement)===(0,S.forbiddenAssertDOMNode)(a.body)&&(a.currSelection.index<0?a.currSelection.setFirst(!0):a.currSelection.reset(!1)))},a.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.currSelection.next();a.currSelection.index!==t&&a.currSelection.setNext(!0)},a.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.currSelection.prev()>-1&&a.currSelection.setPrev(!0)},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a._handleScroll=function(e){a.updateMsgListInfo(),function(e){return e.scrollTop+p.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&a.loadEarlierMsgs()},a.selectMsg=function(e){a.currSelection.setVal(e),a.activeSelection.setVal(e),h.default.openChatAt(e.chat,e.chat.getSearchContext(e)),h.default.focusShowMsg(e.id)},a.getMsgList=function(){var e=a.state.cursor,t=a.props.starredMsgs,n=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),n.length);return n=n.slice(e.getStart(t),i),a.length=n.length,n},a.getMsgVisibility=function(e){if(!e)return p.default.VISIBILITY.BELOW;if(a.scrollContainer){var t=(0,S.forbiddenAssertDOMNode)(a.scrollContainer),n=t.previousSibling.clientHeight,i=t.scrollTop+n,o=i+t.clientHeight,r=(0,S.forbiddenAssertDOMNode)(e);return r?r.offsetTop+r.clientHeight<=i?p.default.VISIBILITY.ABOVE:r.offsetTop>=o?p.default.VISIBILITY.BELOW:p.default.VISIBILITY.VISIBLE:p.default.VISIBILITY.BELOW}},a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!a.msgListInfo.visibleMsgs[e.toString()]&&(!!t||a.getMsgComponent(e))},a.getMsgComponent=function(e){var t=a.msgRefs[e.toString()];if(t){var n=t.getWrapperRef();return n&&"function"==typeof n.getMsgComponentRef?n.getMsgComponentRef():void 0}},a._updateMsgListInfo=function(){for(var e=a.getMsgList(),t={},n=0,i=a.length-1;n<i;){var o=Math.floor((n+i)/2),r=a.msgRefs[e[o].id.toString()];a.getMsgVisibility(r)===p.default.VISIBILITY.ABOVE?n=o+1:i=o}for(var l=n;l<e.length;l++){var d=a.msgRefs[e[l].id.toString()];if(a.getMsgVisibility(d)!==p.default.VISIBILITY.VISIBLE)break;t[e[l].id.toString()]=!0}a.pauseHiddenGifs(a.msgListInfo.visibleMsgs,t),a.msgListInfo.visibleMsgs=t},a.pauseHiddenGifs=function(e,t){for(var n in e)if(!t[n]){var i=a.props.starredMsgs.get(n);if(i&&i.isGif){var o=a.getMsgComponent(n);o&&o.playCount&&o.pause()}}},a.handleScroll=(0,u.default)(a._handleScroll,100),a.updateMsgListInfo=(0,u.default)(a._updateMsgListInfo,100),a.msgListInfo={visibleMsgs:{}},a.state=a.getInitialState(),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new A.default([],(function(e){return e.id.toString()})),this.activeSelection=new A.default([],(function(e){return e.id.toString()}))}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<p.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",(function(){e.initSelectionObjects(),e.forceUpdate()})),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",(function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e,t,a=this,n=this.getMsgList(),i=this.state.cursor,o=this.props.starredMsgs,r=this.props.chat||null;if(t=o.isSynced&&i.getEnd(o)>=n.length?null:this.props.starredMsgs.syncPromise?f.createElement("div",{className:O.default.more,title:I.default.t(697)},f.createElement(N.default,{stroke:6,size:24})):f.createElement("div",{className:O.default.more},f.createElement("div",{title:I.default.t(694),onClick:this.loadEarlierMsgs},f.createElement(D.default,{name:"refresh"}))),n.length>0){var l=n.map((function(e){var t=e.type===p.default.MSG_TYPE.IMAGE||e.type===p.default.MSG_TYPE.VIDEO||e.type===p.default.MSG_TYPE.AUDIO;return f.createElement(R.default,{key:e.id.toString(),ref:function(t){a.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?a.isMsgVisible:function(){},currSelection:a.currSelection,activeSelection:a.activeSelection,onClickMsg:a.selectMsg})}));e=f.createElement(F.default,{transitionName:"slide"},l)}else this.props.starredMsgs.isSynced?e=f.createElement(E.StarredMsgs,null):(e=f.createElement(E.Loading,null),t=null);var d={down:this.onNextMsg,up:this.onPrevMsg},c=n.length>0?f.createElement(L.MenuBarItem,{a8nText:"starred-menu",icon:f.createElement(D.default,{name:"menu"}),title:I.default.t(737)},f.createElement(V,{chat:r,msgs:n})):null;return f.createElement(m.default,{theme:"gallery"},f.createElement(M.default,{className:O.default.hotKeyWraper,handlers:d,onFocus:this.onFocusGain,"data-tab":p.default.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,k.GetRef)("body",this)},f.createElement(b.default,{title:I.default.t(1088),onBack:this.onClose,type:b.DRAWER_HEADER_TYPE.LARGE,menu:c}),f.createElement(g.default,{onScroll:this.onScroll,ref:(0,k.GetRef)("scrollContainer",this)},e,t)))}}]),t}(f.Component),V=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).sendUnstarAll=function(){h.default.openModal(f.createElement(x.default,{msgs:a.props.msgs,chat:a.props.chat}))},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.msgs;return f.createElement(v.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},f.createElement(j.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},I.default.t(1137)))}}]),t}(f.Component),G=(0,_.default)((0,P.default)((0,T.default)(B)));t.default=G},cggehdbfjf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=a&&a.msgContextInfo(t.id),i=h({ack:l.default.ACK.CLOCK,from:r.default.me,id:new d.default({from:r.default.me,to:t.id,id:(0,c.default)(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:o.default.globalUnixTime(),to:t.id},n),f=1===e.length?h({type:"vcard",vcardFormattedName:e[0].formattedName,body:(0,u.vcardFromContactModel)(e[0]).vcard},i):h({type:"multi_vcard",vcardList:e.map(u.vcardFromContactModel)},i);(0,s.addAndSendMsgToChat)(t,f)};var i=n(a("bhabhhjdch")),o=n(a("cfadcbbiie")),r=n(a("bjigbaghc")),l=n(a("hgigjbgie")),d=n(a("cffajefeag")),c=n(a("cfejjfjhca")),s=a("cgddafdgie"),u=a("cjjdjbcgjh");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},cggjjcbdia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.filename,n=(0,l.default)(d.default.icon,s[t]?s[t].icon:"icon-doc-generic");return r.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:d.default.media},r.createElement("div",{className:d.default.document},r.createElement("div",{className:n}),r.createElement("div",{className:d.default.text},a))))};var o=i(a("bgeijhbbad")),r=n(a("ddhijeejag")),l=i(a("ceffhbhahb")),d=i(a("bajbjjihjg")),c=a("cedhgehjef"),s=(0,o.default)(c.MIMETYPES,(function(e){return"document"===e.msgType}))},cghhjgjffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("bjigbaghc")),h=n(a("hhcjfgifh")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=i(a("cciafahdib")),b=n(a("bjjhgjdbhd")),v=i(a("gfebgebbi")),j=i(a("bdjjabfecc")),E=i(a("dadjidbecc")),C=i(a("dgdcjccfdi")),S=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=s.createElement(E.default,{id:this.props.profileId}),t=s.createElement(h.default,{id:f.default.me,size:82,quality:h.DETAIL_IMAGE_QUALITY.HIGH}),a=s.createElement(v.default,{text:f.default.pushname,ellipsify:!0,titlify:!0});return s.createElement(p.default,{theme:"settings"},s.createElement(b.default,{title:j.default.t(1078),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),s.createElement(m.default,null,s.createElement(u.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),s.createElement(g.default,{a8nText:"li-notifications",icon:s.createElement(C.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},j.default.t(728)),s.createElement(g.default,{icon:s.createElement(C.default,{name:"settings-theme"}),onClick:this.props.onThemeSettings},j.default.t(734)),s.createElement(g.default,{icon:s.createElement(C.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},j.default.t(735)),s.createElement(g.default,{a8nText:"li-blocked",icon:s.createElement(C.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},j.default.t(721)),void 0,s.createElement(g.default,{a8nText:"li-help",icon:s.createElement(C.default,{name:"settings-help"}),onClick:this.props.onHelp},j.default.t(723)),void 0,void 0,void 0,void 0,void 0))}}]),t}(s.PureComponent);t.default=S},chcfhehffe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.withConfig=function(e){return function(t){function a(){var e,t;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=(0,d.default)(this,(e=(0,c.default)(a)).call.apply(e,[this].concat(i)))).state={authFailed:!0===window.gm_authFailed},t.onAuthFailed=function(){window.gm_authFailed=!0,t.setState({authFailed:!0});var e=t.getUrl(),a=String(p.default.googleMapsDoNotAuth),n=String(p.default.googleMapsKeyless);f.default.assert(!1,"google-map-auth-failed","url: ".concat(e,"\ntarget: ").concat("web","\nprops; ").concat(a," & ").concat(n))()},t}return(0,s.default)(a,t),(0,l.default)(a,[{key:"componentDidMount",value:function(){window.gm_authFailure=this.onAuthFailed}},{key:"componentWillUnmount",value:function(){window.gm_authFailure=void 0}},{key:"getUrl",value:function(){var e={client:"gme-whatsappinc",v:"3",libraries:"geometry,drawing,places",t:Math.floor(Date.now()/864e5)};return g.default.build("https://maps.googleapis.com/maps/api/js",e)}},{key:"getMapOptions",value:function(){return{clickableIcons:!1,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,minZoom:3,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}}}},{key:"render",value:function(){if(this.state.authFailed)return u.createElement("div",{className:h.default.authFailed},l10n.t(535));var t=this.getUrl(),a=u.createElement("div",{className:h.default.loading},u.createElement(m.default,{color:"highlight"})),n=u.createElement("div",{className:h.default.container}),i=u.createElement("div",{className:h.default.map});return u.createElement(e,(0,o.default)({googleMapURL:t,loadingElement:a,containerElement:n,mapElement:i,getMapOptions:this.getMapOptions},this.props))}}]),a}(u.Component)},t.MIN_ZOOM=t.INITIAL_ZOOM=t.MapType=void 0;var o=i(a("bacehaajgh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bdiiahhjbe")),h=i(a("cddhggdajg")),p=i(a("bfgbdiffgd")),m=i(a("ecdebjcgfa")),g=i(a("edbaidcaf")),b=a("bjgidhichc")({ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain"});t.MapType=b;t.INITIAL_ZOOM=15;t.MIN_ZOOM=3},chihjgjffb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bafcchidfe")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),m=i(a("bdeebiagii")),g=i(a("bijffg")),b=i(a("bacbeacgf")),v=i(a("eabhbddaei")),j=i(a("bahjbgaefa")),E=i(a("bihiceijie")),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onDeleteLabel=function(e){e.forEach((function(e){var t=e.id;g.default.deleteLabel(t)}))},a.onManageLabels=function(e){f.default.openModal(s.createElement(E.default,{modelsToUpdate:e}))},a.onEditLabel=function(e){f.default.openModal(s.createElement(u.default,{labelId:e,onUpdateLabel:a.onUpdateLabel,onCancel:f.default.closeModal()}))},a.onLabelClick=function(e){a.push(s.createElement(j.default,{openLabelColorDrawer:a.openLabelColorDrawer,labelId:e,onManageLabels:a.onManageLabels,onClose:a._pop,onRemoveLabel:a.onRemoveLabel,onEditLabel:a.onEditLabel}))},a.openAddLabel=function(){g.default.toArray().length>=p.default.MAX_SMB_LABEL_COUNT?f.default.openModal(s.createElement(h.default,{okText:l10n.t(907),onOK:function(){return f.default.closeModal()}},l10n.t(1552,{count:p.default.MAX_SMB_LABEL_COUNT}))):f.default.openModal(s.createElement(u.default,{onAddLabel:a.onAddLabel,onCancel:f.default.closeModal()}))},a.onUpdateLabel=function(e,t){g.default.updateLabel(e,t)},a.openLabelColorDrawer=function(e,t){a.push(s.createElement(b.default,{labelId:e,onClose:a._pop,onUpdateColor:a.onUpdateLabel,currentColor:t}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(v.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){g.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){g.default.addOrRemoveLabels([{id:e,type:"remove"}],t)}}]),t}(m.default);t.default=C},chjbbfedjd:function(e,t){e.exports={newGroupButton:"_1g1ui"}},chjejfcdd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=a("jagjbhcgf"),m=i(a("bjjdjibgad")),g=a("dbbhijehii"),b=i(a("dhfbfehaef")),v=i(a("jdibabjeb")),j=i(a("bdeggjiff")),E=a("cecdefhddc"),C=i(a("dgdcjccfdi")),S=i(a("cgjdibiahi")),y=i(a("dfciadajdf")),_=a("bficeagfg"),k=i(a("didfdhbecg")),M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={active:!1,emojiPicker:null},a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=u.createElement(m.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:p.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPicker){var e=a.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){var t=a.refInput;t&&(t.focus(!1),t.replaceSelection(e)),a.onEmojiPickerClose()},a.setRefInput=function(e){a.refInput=e},a.setRefEmojiPicker=function(e){a.refEmojiPicker=e},a.onSelectionChange=function(e){a.selection=e},a.onMaxPasteExceeded=function(){f.default.openModal(u.createElement(h.default,{title:l10n.t(297),onOK:function(){f.default.closeModal()},okText:l10n.t(1397)},l10n.t(296)))},a.restoreFocus=function(){a.refInput&&a.refInput.focus()},a.onBlur=function(e){a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e)},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onReset=function(){a.refInput&&a.refInput.reset()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,a=(0,_.numCodepoints)(this.props.value||""),n=(0,s.default)(j.default.textInput,{[j.default.noPlaceholder]:!this.props.placeholder,[j.default.active]:!0}),i=(0,s.default)(j.default.labelText,{[j.default.float]:!!this.props.value}),o=(0,s.default)(j.default.wrapper,{[j.default.textActive]:this.state.active}),r=this.props.supportsEmoji?u.createElement("button",{className:j.default.inputEmoji,onClick:this.onEmojiPicker},u.createElement(C.default,{name:"emoji-input"})):void 0,l=this.props.value;e=l&&""!==l?u.createElement("div",{role:"button",className:j.default.clearInput,onClick:this.onReset},u.createElement(C.default,{name:"x-alt"})):null;var d,c=this.props.showRemaining?u.createElement("div",{className:(0,s.default)(j.default.buttonContainer,j.default.charCounter,{[j.default.charCounterWithClearBtn]:!!e})},u.createElement("div",{className:j.default.charCounter},t-a<50?l10n.n(t-a):null)):null;return this.state.emojiPicker&&(d=u.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},u.createElement(y.default,{contextMenu:this.state.emojiPicker}))),u.createElement(b.default,{className:n,onFocus:this.restoreFocus},u.createElement("span",{className:i},this.props.placeholder),u.createElement("div",{className:j.default.spacer}),u.createElement("div",{className:j.default.suggestionsPositioner},u.createElement("div",{className:j.default.suggestionsContainer},u.createElement(v.default.MentionSuggestions,{chat:this.props.chat,theme:E.ThemeOptions.MEDIA_CAPTION}),u.createElement(v.default.EmojiSuggestions,{chat:this.props.chat,theme:g.ThemeOptions.MEDIA_CAPTION}))),u.createElement("div",{className:o},u.createElement(v.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),u.createElement("div",{className:j.default.inputControls},u.createElement(k.default,{transitionName:"pop",component:"div",className:j.default.buttonContainer},e,r),c)),d)}}]),t}(u.Component);t.default=M,M.defaultProps={maxLength:25}},cicgecaadf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.createElement("div",{className:e.inactive?r.default.inactive:r.default.offline,onClick:e.onClick},o.createElement("div",null,o.createElement("div",{className:r.default.circle},o.createElement(l.default,{name:e.svgName})),o.createElement("div",{className:r.default.text},e.text)))};var o=i(a("ddhijeejag")),r=n(a("dfdgfddgcc")),l=n(a("dgdcjccfdi"))},cichhcjjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.frequentlyForwardedCount,a=e.totalCount,n=o.createElement("span",{className:c.default.text},1===t&&1===a?l10n.t(504):l10n.t(503)," ",o.createElement(l.default,{href:(0,d.getFrequentlyForwardedFaqUrl)()},l10n.t(654)));return o.createElement("div",{className:c.default.wrapper},o.createElement("div",{className:c.default.icon},o.createElement(s.default,{name:"highly-forwarded"})),o.createElement(r.default,{theme:"plain",primary:n,idle:!0}))};var o=i(a("ddhijeejag")),r=n(a("cefccdiabc")),l=n(a("djaiggcdb")),d=a("facgccaif"),c=n(a("cddiididei")),s=n(a("dgdcjccfdi"))},cidchbceif:function(e,t){e.exports={container:"_3qp5P",list:"_2zDc6",header:"_2Atzl",item:"_1fRkd",right:"_2oXi_",left:"hgYu1",close:"_1__zT",name:"lKtSq",time:"_2Y-Ms"}},ciehddchae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("ceagbbhcha"),h=i(a("ccjdjhjhij")),p=a("dbgjdhbdaj"),m=i(a("ebddggeaib")),g=i(a("dijcebghbf")),b=i(a("badjagjaja")),v=i(a("diffaiehid")),j=i(a("dfefggiaaf")),E=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).setOverlay=function(e){a.overlay=e},a.onLocationChanged=function(){a.props.marker.isLive&&a.props.marker.onLocationChanged()},a.onLastUpdatedTimeChanged=function(){if(a.props.marker.isLive){null!=a.timeoutId&&(a.props.clearTimeout(a.timeoutId),a.timeoutId=null);var e=(0,p.isStale)(a.props.marker.cluster);a.state.stale!==e&&a.setState({stale:e}),e||a.setStaleTimeout()}},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.state={stale:!e.marker.isLive||(0,p.isStale)(e.marker.cluster)},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster;(0,p.isStale)(t)||this.setStaleTimeout(),t.participants.forEach((function(t){e.props.listeners.add(t,"change:lat change:lng",e.onLocationChanged),e.props.listeners.add(t,"change:lastUpdated",e.onLastUpdatedTimeChanged)}))}}},{key:"setStaleTimeout",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster,a=p.STALE_THRESHOLD-(0,p.getSmallestElapsedTime)(t);a<=0||(this.timeoutId=this.props.setTimeout((function(){return e.setState({stale:!0})}),1e3*a))}}},{key:"getMapPaneName",value:function(){return this.props.marker.onClick?f.OverlayView.OVERLAY_MOUSE_TARGET:f.OverlayView.OVERLAY_LAYER}},{key:"render",value:function(){var e,t,a,n,i=this.props.marker,o=i.onClick,r=i.selected,l=this.state.stale;if(this.props.marker.isLive){var d=this.props.marker.cluster;e=d.lat,t=d.lng,a=d.participants.map((function(e){return e.id}))}else e=this.props.marker.lat,t=this.props.marker.lng,a=[this.props.marker.contact.id];if(r){var c,m,v;if(this.props.marker.isLive){var E=this.props.marker.cluster,C=E.participants,S=E.hasSingleParticipant()?C.at(0):null;S&&(c=S.id,m=S.accuracy,v=S.isMe)}else{var y=this.props.marker.contact;c=y.id,v=y.isMe}c&&(n=u.createElement(b.default,{id:c,lat:e,lng:t,accuracy:m,isMe:v||!1,markerSize:p.MARKER_SIZE}))}return u.createElement(f.OverlayView,{ref:this.setOverlay,position:{lat:e,lng:t},mapPaneName:this.getMapPaneName(),getPixelPositionOffset:this.getPixelPositionOffset},u.createElement(j.default.Provider,{value:this.context},u.createElement("div",{className:(0,s.default)(g.default.container,{[g.default.selected]:r}),onClick:o},n,u.createElement("div",{className:(0,s.default)(g.default.glow,{[g.default.stale]:l,[g.default.expired]:!this.props.marker.isLive}),style:{height:p.AVATAR_SIZE,width:p.AVATAR_SIZE,padding:p.GLOW_SIZE}},u.createElement("div",null,u.createElement(h.default,{ids:a,size:p.IMAGE_SIZE,border:!0,showCount:!0}))),u.createElement("div",{className:(0,s.default)(g.default.pin,{[g.default.selected]:r}),style:{height:p.PIN_SIZE,width:p.PIN_SIZE,marginLeft:(p.MARKER_SIZE-p.PIN_SIZE)/2}}))))}}]),t}(u.Component);E.contextType=j.default;var C=(0,v.default)((0,m.default)(E));t.default=C},cijddbbaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("jbgeabaaj")),u=n(a("ddhijeejag")),f=i(a("cagaiadjai")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=i(a("bdjjabfecc")),b=i(a("bijffg")),v=a("dcfieddiah"),j=i(a("ebddggeaib")),E=i(a("ccdfgfhhfa")),C=i(a("bdcchebfge")),S=n(a("dgjfidhijd")),y=i(a("dgaefbheia")),_=i(a("dceicchccd")),k=a("cjfegjecaj"),M=i(a("dgdcjccfdi")),I=0,T=1,L=2,P=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).selectedLabels=new _.default([],(function(e){return e.id})),a.changeSet=new Set,a.onMultiSelect=function(e){e&&(a.initialLabelState[e]===L?a.changeSet.add("{labelId}_changed"):a.changeSet.has(e)?a.changeSet.delete(e):a.changeSet.add(e),a.forceUpdate())},a.constructLabelCountMap=function(){var e={};return a.props.modelsToUpdate.forEach((function(t){var a=(0,k.unproxy)(t);a.labels&&a.labels.forEach((function(t){e[t]=e[t]?++e[t]:1}))})),e},a.onUpdateLabelsOK=function(){(0,v.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.props.modelsToUpdate.length,C.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var e=a.selectedLabels.list,t=a.selectedLabels.selected,n=e.map((function(e,a){return{id:e.id,type:t[a]?"add":"remove"}}));b.default.addOrRemoveLabels(n,a.props.modelsToUpdate),a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete()};var n=a.props.modelsToUpdate,i=a.constructLabelCountMap();return a.initialLabelState=(0,s.default)(i,(function(e){return e===n.length?T:e>0?L:I})),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=u.createElement(f.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},g.default.t(1025)),t=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},g.default.t(1245)),a=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},u.createElement(M.default,{name:"plus-large",className:E.default.plus,display:"inline"}),g.default.t(194));return u.createElement(S.default,{type:S.TowerModalType},u.createElement(h.default,{key:"mange_label_modal",theme:"labels"},u.createElement(m.default,{title:g.default.t(650),type:m.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),u.createElement(p.default,{"data-list-scroll-container":!0,theme:"padding"},u.createElement(y.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContext:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),u.createElement("div",{className:E.default.newLabelBtn},a),u.createElement("div",{className:E.default.actionBtns},t,e)))}}]),t}(u.Component),w=(0,j.default)(P);t.default=w},cijgjfcbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cfadcbbiie")),p=i(a("bjigbaghc")),m=i(a("dhigahgdjb")),g=i(a("hhcjfgifh")),b=a("cdhbdacigj"),v=n(a("bgheieccaj")),j=i(a("bfchfhibba")),E=i(a("dbfjeecgih")),C=i(a("bhbdiadfhj")),S=i(a("bdjjabfecc")),y=i(a("ebddggeaib")),_=i(a("cahfddcdga")),k=i(a("bfgbdiffgd")),M=i(a("ceggieaiij")),I=i(a("bgcdajbhif")),T=i(a("cijhhdbhfe")),L=i(a("bahcdceje")),P=i(a("dgdcjccfdi")),w="SEC_UNREAD",A="SEC_READ",N="SEC_MUTED",O="ROW_STATUS",R=function(e){function t(){var e;(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).flatListController=new E.default,e.onStatusChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,o.default)(t),(0,o.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.onContactMuteChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,o.default)(t),(0,o.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.toggleMuted=function(){e.setState((function(e){return{isMutedExpanded:!e.isMutedExpanded}}))},e.renderItem=function(t){switch(t.type){case w:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,S.default.t(1102))));case A:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,S.default.t(1108))));case N:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,S.default.t(1096)),u.createElement("button",{className:T.default.listSectionAction,onClick:e.toggleMuted},t.expanded?S.default.t(1093):S.default.t(1094))));case O:return u.createElement(M.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new v.UnknownDataError(t)}};var a=e.getUnreadStatusList(),n=e.getReadStatusList(),i=[].concat((0,o.default)(a),(0,o.default)(n)).filter((function(e){return e.contact.statusMute}));return e.state={unreadStatusList:a.filter((function(e){return!e.contact.statusMute})),readStatusList:n.filter((function(e){return!e.contact.statusMute})),mutedStatusList:i,myStatus:I.default.getMyStatus(),isMutedExpanded:!1},e}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(I.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(m.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(I.default,"sync",(function(){e.forceUpdate()}))}},{key:"getUnreadStatusList",value:function(){return I.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return I.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,a=e.readStatusList,n=e.mutedStatusList,i=[];return t.length>0&&(i.push({type:w,itemKey:"section-unread",height:48}),i.push.apply(i,(0,o.default)(t.map((function(e,t){return{type:O,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),a.length>0&&(i.push({type:A,itemKey:"section-read",height:48}),i.push.apply(i,(0,o.default)(a.map((function(e,t){return{type:O,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),n.length>0&&(i.push({type:N,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&i.push.apply(i,(0,o.default)(n.map((function(e,t){return{type:O,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),i}},{key:"render",value:function(){var e,t=this.getData();return e=I.default.hasSynced()&&t.length>0?u.createElement(v.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:t,renderItem:this.renderItem}):u.createElement(b.ListStatus,null),u.createElement("div",{className:T.default.listPanel},u.createElement(D,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),u.createElement(j.default,{className:T.default.listBody,flatListControllers:[this.flatListController]},e))}}]),t}(u.Component),D=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,a,n=this,i=this.props.statusV3;i&&(a=i.msgs);var o,r,l,d,c=function(){var e=i&&i.msgs;i&&e&&e.length&&n.props.onOpenStatus(i,e.head(),0)};if(i&&a&&a.length){e=u.createElement(L.default,{statusV3:i,contact:i.contact,onClick:c});var s=(0,_.default)(a.last()).t;t=u.createElement("span",{className:T.default.secondaryHeaderText},k.default.statusRanking&&C.default.supportsFeature(C.default.F.STATUS_RANKING)?S.default.t(1099,{count:a.length,_plural:a.length}):h.default.relativeDateAndTimeStr(s)),r={cursor:"pointer"},o=c}else e=u.createElement(g.default,{id:p.default.me,theme:"status_v3",size:40}),t=u.createElement("span",{"data-a8n":f.default.key("status-no-updates"),className:T.default.secondaryHeaderText},S.default.t(1098));C.default.supportsFeature(C.default.F.STATUS_V3_UI_SENDING)&&(l=u.createElement(P.default,{name:"menu"}),d=u.createElement(P.default,{name:"status-v3-create"}));var m=u.createElement("span",{"data-a8n":f.default.key("my-status"),className:T.default.primaryHeaderText},S.default.t(1097));return u.createElement("div",{className:T.default.panelHeader,style:r,onClick:o},u.createElement("div",{className:T.default.headerButtonsPrimary},e),u.createElement("div",{className:T.default.headerText},m,t),u.createElement("div",{className:T.default.headerButtonsSecondary},d,l))}}]),t}(u.Component),x=(0,y.default)(R);t.default=x},cijhbdaifj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("hbddjfeei")),r=n(a("ddhijeejag")),l=i(a("ejegihaeh")),d=i(a("cahfddcdga")),c=n(a("chbeahhfcj")),s=i(a("biebgdijhi")),u=i(a("bfgbdiffgd")),f=r.forwardRef((function(e,t){var a,n,i,f=r.useState(!1),h=(0,o.default)(f,2),p=h[0],m=h[1],g=r.useState([]),b=(0,o.default)(g,2),v=b[0],j=b[1];return u.default.productCatalogDeeplink&&(n=function(e,t,a){m(0===a.length)},i=function(e){var t=e;j(t),m(t.length>0)},a=r.createElement(s.default,{disabled:!p,onClick:function(){var t,a=(0,d.default)(null===(t=v[0])||void 0===t?void 0:t.catalogWid),n=(0,d.default)(l.default.get(a));e.onShare(n)}})),r.createElement(c.default,{ref:t,title:l10n.t(1076),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:c.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1,customHeader:a,onSelectionChanged:n,onDataLoaded:i})}));t.default=f},cjecgfcdhj:function(e,t){e.exports={btnSend:"_1N5LP",attributionLink:"_2tsq7",mediaBody:"_2-uN_",attribution:"_3oMGj",footer:"_30pU5",containerBackground:"_3wSHf",retake:"Uyo2X",retakeIcon:"_2G0yz",mediaElementBase:"SN8ky",mediaElement:"_3wiv2 SN8ky"}},cjfjhjdfaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("ebddggeaib")),p=i(a("bgcdajbhif")),m=i(a("cijgjfcbg")),g=i(a("bacjaiigfd")),b=i(a("eafijicig")),v=i(a("dgdcjccfdi")),j=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onStatusAddRemove=function(){a.setState({status:p.default.getMyStatus()})},a.state={status:p.default.getMyStatus()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sessionId,n=t.listeners;n.add(p.default,"add remove",this.onStatusAddRemove),n.add(f.default,"dismiss_status_v3_viewer",(function(){e.props.closeStatusViewer(!0)})),null!=a&&p.default.logMetrics({type:"session",sessionId:a})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,a=(0,s.default)(g.default.v3_x,{});return u.createElement("div",{className:g.default.modalBackground,"data-animate-status-v3-modal-background":!0},u.createElement("div",{className:g.default.mainWrapper},u.createElement(m.default,{onOpenStatus:t}),u.createElement(b.default,{status:this.state.status,onOpenStatus:t}),u.createElement("button",{className:a,onClick:function(){return e.props.closeStatusViewer(!0)}},u.createElement(v.default,{name:"x-viewer"}))))}}]),t}(u.Component),E=(0,h.default)(j);t.default=E},dababjcdei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("ebjcghgjdh")),h=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.createElement("div",{className:f.default.overlay,key:"avatar-overlay"},s.createElement("div",{className:f.default.icon},this.props.icon),s.createElement("div",{"data-a8n":u.default.key("avatar-text"),className:f.default.text},this.props.text))}}]),t}(s.Component);t.default=h},dabbegbbcb:function(e,t){e.exports={list:"US3Wo",stopSharingButton:"VVjzR"}},dacaegbbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),o=n(a("gcfidijgh")),r=a("cgffhfegce"),l=n(a("edbaidcaf"));t.default=function e(t,a,n,d){var c=this;(0,i.default)(this,e),this.updateEditData=function(e){c.saveEdits(),c.editData=(0,o.default)({},c.editData,e)},this.updateEditItems=function(e,t){c.saveEdits();var a=[];c.editData.items&&c.editData.items.forEach((function(e){e!==t&&a.push(e)})),a.push(e),c.editData.items=a},this.saveEdits=function(){var t=new e(c.media,c.originalImage,c.editData,c.previous);c.previous=t},this.revertEdit=function(){c.previous&&(c.editData=c.previous.editData,c.previous=c.previous.previous)},this.saveEditsFromCanvas=function(e){var t=e.toDataURL();c.editedImage||(c.editedImage=new Image),c.editedImage.src=t},this.exportEditedMedia=function(){if(c.hasEdits()&&c.editedImage){var e=c.editedImage.src;return l.default.dataURLtoFile(e)}return c.media instanceof File?c.media:(0,r.createFile)([c.media],"",{type:c.media.type})},this.hasEdits=function(){return!!c.previous&&c.editedImage},this.cleanUp=function(){window.URL.revokeObjectURL(c.originalImage.src)},this.media=t,a?this.originalImage=a:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(t)),this.previous=d,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,o.default)(this.editData,n)}},dacbhighjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("dcaaidgfdg")),h=a("ddigiajeji"),p=i(a("dcdbbhicce")),m=i(a("dhhjhedjij")),g=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t,a;switch(this.props.section){case h.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case h.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case h.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var n=l10n.t(752,a);return s.createElement("div",{"data-a8n":u.default.key("msg-info-remaining"),className:f.default.footer},s.createElement(m.default,{theme:"muted"},n))}}]),t}(s.Component);g.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var b=(0,p.default)(g,g.CONCERNS);t.default=b},dacigcjbia:function(e,t){e.exports={wrapper:"_2uXz_",offline:"_31Os9",circle:"_61PxU",text:"_3_Q6O",notification:"VK7yK",ended:"_1rLEC",lastUpdated:"_3xhCZ"}},dagffibabh:function(e,t){e.exports={container:"o3k0e",border:"_18DtA",square:"_3Ta3r",avatar:"CFLiX",count:"_3mTd6",two:"_2pv7C",first:"_3nORc",second:"_3gybq",three:"_1nRlc",third:"_1Lkqf",four:"_1yqvm",fourth:"_3p2g9"}},dbgbgeefcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bjcdghhbjh")),h=n(a("dighcbdehd")),p=i(a("dbdfbgehgj")),m=i(a("hgigjbgie")),g=n(a("ieeidjijb")),b=i(a("cfaheajaaj")),v=n(a("bgheieccaj")),j=i(a("dhfbfehaef")),E=i(a("baabifghjg")),C=i(a("dcaibchbg")),S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).selection=new C.default([],(function(e){return e.id.toString()})),a.getSelectionList=function(){var e=a.props,t=e.contacts,n=e.frequentContacts,i=[],o=[];return t.forEach((function(e){if(e.isGroup){var t=p.default.get(e.id);t&&o.push(t)}else i.push(e)})),(n||[]).concat(i).concat(o)},a.onFocusGain=function(e){e.target===a.refList&&(a.selection.index<0?a.focusFirst():a.selection.reset(!0))},a.focusFirst=function(){a.selection.setFirst(!0)},a.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1?a.selection.setPrev(!0):(a.selection.unset(),a.props.onFocusSearch(e))},a.setRefHotKeys=function(e){a.refList=e},a.renderContact=function(e,t){var n;return e.isBlocked()&&(n=l10n.t(378)),u.createElement(g.default,{active:a.selection,contact:e,onClick:a.props.onClick,secondary:n,frequent:t,waitIdle:!0})},a.renderItem=function(e){switch(e.type){case 0:return u.createElement(E.default,{key:"frequent-contacts-header",header:l10n.t(1296)});case 3:var t=e.data,n=e.frequent;return a.renderChat(t,n);case 2:var i=e.data,o=e.frequent;return a.renderContact(i,o);case 1:var r=e.data,l=e.separator;return u.createElement("div",{className:b.default.header},l?u.createElement(f.default,{key:"separator-".concat(r)}):null,u.createElement(E.default,{header:r}));default:throw new v.UnknownDataError(e)}},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"renderChat",value:function(e,t){return u.createElement(h.default,{active:this.selection,chat:e,mode:h.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,a=[];return e.forEach((function(e){var n=t.getContactDataItem(e,!0);n&&a.push(n)})),a}},{key:"getContactDataItem",value:function(e,t){var a=(t?g.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var n=p.default.get(e.id);return n?{itemKey:a,data:n,type:3,frequent:t}:null}return{itemKey:a,data:e,type:2,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],a=[],n=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:0}),t.push.apply(t,(0,o.default)(this.getFrequentContactsData(e)))),this.props.contacts.forEach((function(e){e.isGroup?n.push(e):a.push(e)}));var i=this.getDataFromContacts(a),r=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&i.length>0){var l=l10n.t(1264);t.push({itemKey:"header-".concat(l),data:l,separator:!0,type:1})}if(t.push.apply(t,(0,o.default)(i)),this.props.showPersonGroupDivisionHeader&&r.length>0){var d=l10n.t(1360);t.push({itemKey:"header-".concat(d),data:d,separator:!0,type:1})}return t.push.apply(t,(0,o.default)(r)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],n=e.length>10,i="XXX",o=0;o<e.length;o++){var r=e[o];if(n&&r.header){var l=r.header;if(l!==i){var d=o<e.length-1&&l!==e[o+1].header;a.push({itemKey:"header-".concat(t,"-").concat(l),data:l,separator:d,type:1}),i=l}}var c=this.getContactDataItem(r);c&&a.push(c)}return a}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return u.createElement(j.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":m.default.TAB_ORDERS.CHAT_CONTACT_LIST},u.createElement(v.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}]),t}(u.PureComponent);t.default=S},dbgjdhbdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestElapsedTime=o,t.isStale=function(e){return o(e)>=600},t.MARKER_SIZE=t.AVATAR_SIZE=t.PIN_SIZE=t.GLOW_SIZE=t.IMAGE_BORDER_SIZE=t.IMAGE_SIZE=t.STALE_THRESHOLD=void 0;var i=n(a("bhfcfhafdj"));t.STALE_THRESHOLD=600;t.IMAGE_SIZE=40;t.IMAGE_BORDER_SIZE=2;t.GLOW_SIZE=4;t.PIN_SIZE=4;t.AVATAR_SIZE=44;function o(e){var t=e.participants.map((function(e){return e.elapsedTime()}));return Math.min.apply(Math,(0,i.default)(t))}t.MARKER_SIZE=52},dbjchidfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("dbahhcabjf")),f=i(a("dbafiicfja")),h=i(a("dadhheahfi")),p=n(a("ddhijeejag")),m=n(a("dhajefgece")),g=i(a("ccbgfecegc")),b=i(a("hgigjbgie")),v=i(a("dahagdijgh")),j=i(a("bjheffjbgd")),E=n(a("bjjhgjdbhd")),C=a("cdhbdacigj"),S=n(a("cajijabhgb")),y=i(a("bbaacgghch")),_=i(a("ddajbaceej")),k=i(a("dhfbfehaef")),M=i(a("bhigchjbgb")),I=i(a("fiijdaaid")),T=i(a("dhccahhefj")),L=i(a("diffaiehid")),P=n(a("bjhgigfbec")),w=i(a("bcjcbbafcj")),A=a("bficeagfg"),N=i(a("cfidecfjad")),O=i(a("bjieiiccce")),R=i(a("dfjfejdjjh"));function D(){var e=(0,o.default)(["Image search failed"]);return D=function(){return e},e}function x(){var e=(0,o.default)(["Image search failed"]);return x=function(){return e},e}var F=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setRefSearch=function(e){a.refSearch=e},a.setRefSearchHotkeys=function(e){a.refSearchHotkeys=e},a.setRefGallery=function(e){a.refGallery=e},a._search=function(e,t){a._hasPendingSearch=!1;var n=m.search(e,t).cancellable().then((function(t){n===a._searchPromise&&(a._addSearchResults(e,t),a.setState({isSearching:!1}))})).catch(Promise.CancellationError,(function(){})).catch((function(){LOG(4,!0)(x()),g.default.openToast(p.createElement(P.default,{msg:l10n.t(628),id:(0,P.genId)()})),n===a._searchPromise&&a.setState({isSearching:!1})})).finally((function(){n===a._searchPromise&&(a._searchPromise=null)}));a._searchPromise=n,a.setState({isSearching:!0})},a.handleUserInput=function(e){var t=(e||"").trim();if(!t)return a._cancelSearch(),void a._resetState();(0,A.numCodepoints)(t)<b.default.FTS_MIN_CHARS||t!==a.state.query&&(a._cancelSearch(),a._resetState(),a._requestSearch(t))},a.handleRequestMoreImages=function(){a._hasPendingSearch||a._searchPromise||!a.state.totalEstimatedMatches||a.state.nextOffset>=a.state.totalEstimatedMatches||a._requestSearch(a.state.query,a.state.nextOffset)},a.handleImageClick=function(e){var t=a.state.imageData[e];if(t){var n=t.contentUrl;(w.default.isElectron?R.default.getRetry(n,O.default.RESP_TYPE.BLOB).then((function(e){if(200!==e.status)throw new S.ServerStatusError(null,n,e.status);return e.response})):N.default.downloadImage(n)).checkpoint(a.props.rejectOnUnmount()).then((function(e){if(!(e instanceof Blob))throw new S.ImageError("Server did not respond with image bytes",n);a.props.onImageSelected(e,t.hostPageUrl)})).catch(S.Unmount,(function(){})).catch((function(){LOG(4,!0)(D()),g.default.openToast(p.createElement(P.default,{msg:l10n.t(625),id:(0,P.genId)()}))}))}},a.focusSearch=function(){y.default.shouldIndicateFocus(),_.default.focus(a.refSearch)},a.focusGallery=function(e){e.repeat||a.refGallery&&a.refSearch&&a.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),y.default.shouldIndicateFocus(),null!=a.refGallery&&_.default.focus(a.refGallery))},a.handleSearchFocus=function(){y.default.maybeIndicateFocus(a.refSearchHotkeys)},a.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},a._hasPendingSearch=!1,a._searchPromise=null,a._debouncedSearch=a.props.debounce(a._search,750),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this._cancelSearch()}},{key:"_requestSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._hasPendingSearch=!0,this._debouncedSearch(e,t)}},{key:"_cancelSearch",value:function(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}},{key:"_resetState",value:function(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}},{key:"_addSearchResults",value:function(e,t){this.setState((function(a){var n=(0,h.default)(t.value,(function(e){return e.thumbnailUrl})),i=(0,f.default)(t.value,(function(e){return{id:e.imageId,thumbUrl:e.thumbnailUrl}})),o=t.value.length,r={};return a.query===e?(r.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+o,r.thumbnails=(0,u.default)(a.thumbnails,i),r.totalEstimatedMatches=t.totalEstimatedMatches,r.imageData=Object.assign(n,a.imageData)):(r.imageData=n,r.nextOffset=t.nextOffset?t.nextOffset:o,r.query=e,r.thumbnails=i,r.totalEstimatedMatches=t.totalEstimatedMatches),r}))}},{key:"render",value:function(){var e,t=E.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?p.createElement(C.SearchingImages,null):this.state.query?p.createElement(C.ImageSearchEmpty,null):p.createElement(C.BeforeImageSearch,null):p.createElement(M.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),p.createElement(v.default,null,p.createElement(E.default,{title:l10n.t(632),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),p.createElement(j.default,null,p.createElement(k.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},p.createElement(I.default,{ref:this.setRefSearch,placeholder:l10n.t(629),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}]),t}(p.Component),U=F;t.Component=U;var B=(0,L.default)((0,T.default)(F));t.default=B},dbjdhjhjha:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=(0,l.default)(t.groupMetadata.groupInviteLink),n="".concat(r.default.t(580)," ").concat(a);return o.createElement(d.default,{title:r.default.t(565),text:n,pushTransition:"none",popTransition:"none"})};var o=i(a("ddhijeejag")),r=n(a("bdjjabfecc")),l=n(a("cahfddcdga")),d=n(a("dighgbcbbd"))},dcaaidgcgg:function(e,t){e.exports={popup:"_24EYR",container:"_1U2TB",twoLines:"_2s5AZ",name:"_3w_Sk",status:"_2tE8w",menuButton:"rEpEA",triangle:"BPkae"}},dcaaidgfdg:function(e,t){e.exports={title:"_3ZCmo",titleIcon:"_3_FzN",ack:"_2HaT0",pttBlue:"_4Oh9J",forwardCount:"_3JkvB",spinner:"_1pSqT",list:"_3VIyj",footer:"_2c-PE"}},dccbiiffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("bgiehaehhh")),p=i(a("bdjjabfecc")),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handleCancel=function(){u.default.closeModal()},a.handleOK=function(){a.props.onConfirm(),u.default.closeModal()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.createElement(f.default,{title:p.default.t(551),onOK:this.handleOK,okText:p.default.t(551),onCancel:this.handleCancel,cancelText:p.default.t(1245)},s.createElement("div",{className:h.default.confirmationText},p.default.t(562,{groupName:this.props.chat.contact.name})))}}]),t}(s.Component);t.default=m},dcdefbibje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=a("cfabbaghh"),f=n(a("ddhijeejag")),h=i(a("eahjciebii")),p=n(a("difhgjjfcb")),m=i(a("eafahcacji")),g=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).initCanvas=function(){var e=a.props.editedMedia.originalImage;e.complete?a.onImageLoad():e.onload=a.onImageLoad},a.onImageLoad=function(){var e=a.props.editedMedia.editData;a.props.editedMedia.editedImage=null;var t=a.props.editedMedia.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){var n=new u.Easel.Bitmap(t);e.baseItem=n}a.drawCanvas(!0)},a.maybeInitStage=function(e){var t;return a.state.stage?t=a.state.stage:(t=new u.Easel.Stage(e)).enableMouseOver(),a.props.mediaEditController.stage=t,t},a.drawCanvas=function(e,t){if(a.refStaticCanvas&&a.refStaticCanvas.refCanvas){var n=a.refStaticCanvas.refCanvas;t&&a.props.mediaPickerStatsLogger&&a.props.mediaPickerStatsLogger.logChange(a.props.activeMediaId||-1,t);var i=a.props.editedMedia,r=i.editData,l=a.maybeInitStage(n);e&&(n.width=r.width,n.height=r.height),l.removeAllChildren(),l.addChild(r.baseItem),r.items&&l.addChild.apply(l,(0,o.default)(r.items));var d=i.originalImage.naturalWidth,c=i.originalImage.naturalHeight;l.regX=d/2,l.regY=c/2,l.rotation=r.rotation,r.width&&r.height&&(l.x=r.width/2+r.scale*r.offsetX,l.y=r.height/2+r.scale*r.offsetY),l.scaleX=r.scale,l.scaleY=r.scale,l.update(),a.setState({canvasSize:{width:n.width,height:n.height},stage:l})}},a.saveCanvas=function(){a.drawCanvas(!0);var e=a.refStaticCanvas&&a.refStaticCanvas.refCanvas;e&&a.props.editedMedia.saveEditsFromCanvas(e)},a.clearStage=function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())},a.setRefStaticCanvas=function(e){a.refStaticCanvas=e},a.setRefMediaContainer=function(e){a.refMediaContainer=e},a.setRefCropOverlay=function(e){a.refCropOverlay=e},a.updateCanvasSize=function(e,t){a.setState({canvasSize:{width:e,height:t}})},a.state={canvasSize:{height:1,width:1},stage:null,mediaContainer:null},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.initCanvas(),this.setState({mediaContainer:this.refMediaContainer}),this.cropOverlay=new u.Easel.Stage(this.refCropOverlay),this.cropOverlay.autoClear=!1,this.cropOverlay.enableMouseOver(),this.refMediaContainer&&(this.props.mediaEditController.mediaContainer=this.refMediaContainer),this.props.mediaEditController.cropOverlay=this.cropOverlay}},{key:"componentWillUnmount",value:function(){var e=this.props.editedMedia.originalImage;e.complete||(e.onload=void 0),this.saveCanvas(),this.clearStage(this.state.stage),this.clearStage(this.cropOverlay)}},{key:"render",value:function(){var e=f.createElement("canvas",{ref:this.setRefCropOverlay,className:h.default.cropOverlay});return f.createElement("div",{className:this.props.className,ref:this.setRefMediaContainer},f.createElement(p.default,{type:this.props.fitType||p.FIT_TYPE.SCALE_DOWN,size:this.state.canvasSize},e,f.createElement(m.default,{ref:this.setRefStaticCanvas,className:h.default.mediaViewerImg})))}}]),t}(f.Component);t.default=g},dcfihjeedb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("dgffihajaa")),u=i(a("bdeebiagii")),f=i(a("dbjchidfej")),h=n(a("ddhijeejag")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onImageSelected=function(e,t){a.push(h.createElement(s.default,{onCancel:a._handleCancel,attributionUrl:t,onFinished:a.onFinished,onRetake:a._pop,retryText:s.RETRY_OPTIONS.NONE,img:e}))},a._handleCancel=function(){a.end()},a._pop=function(){a.pop()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(h.createElement(f.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}]),t}(u.default);t.default=p},dcgdbhbjdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("ddhijeejag")),r=n(a("effbcehec")),l=n(a("cefccdiabc")),d=n(a("cfadcbbiie")),c=n(a("jbeeghga"));t.default=function(e){var t=e.title,a=e.icon,n=e.t,i=null!=n?d.default.relativeDateAndTimeStr(n):"-",s=o.createElement("div",{className:c.default.title,"data-a8n":r.default.key("msg-info-title")},a,t);return o.createElement(l.default,{primary:s,secondary:i,theme:"plain",idle:!0})}},dcjahegieh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("cebbffhbdf")),r=i(a("dahagdijgh")),l=i(a("bjheffjbgd")),d=n(a("bjjhgjdbhd")),c=i(a("bdjjabfecc")),s=n(a("ddhijeejag"));t.default=function(e){return s.createElement(r.default,null,s.createElement(d.default,{a8n:"drawer-title-notifications",title:c.default.t(901),onBack:e.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),s.createElement(l.default,null,s.createElement(o.default,{key:"notifications"})))}},dcjccddaca:function(e,t){e.exports={spinner:"_146LM",search:"_1tbWk",inputarea:"_17ePo",inputLine:"_3xBBI",contacts:"_2gSSF",drawerSection:"_39PT0",inputareaSizer:"_2r74O"}},dddhbbadie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("ebjaejiaba"),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=i(a("gfebgebbi")),g=i(a("dhfbfehaef")),b=i(a("bdjjabfecc")),v=n(a("dgjfidhijd")),j=i(a("deffjjfcba")),E=i(a("dgdcjccfdi")),C=i(a("dhjjaiefdi")),S=i(a("ecbejhejff")),y=a("cjjdjbcgjh"),_=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.contactList,i=a.onSend,o=a.onBack,r=a.chat;switch(r.kind){case u.CHAT_KIND.CHAT:e=b.default.t(364,{chat:r.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.GROUP:e=b.default.t(365,{chat:r.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.BROADCAST:e=b.default.t(363,{chat:r.title(),count:b.default.n(n.length),_plural:n.length})}var l=e?s.createElement(m.default,{text:e,direction:"auto",titlify:!0,ellipsify:!0}):null;return s.createElement(v.default,{type:v.BoxModalType},s.createElement(f.default,null,s.createElement(p.default,{type:p.DRAWER_HEADER_TYPE.POPUP,onBack:o},l),s.createElement(h.default,null,s.createElement(g.default,null,s.createElement("div",{className:C.default.body},n.map((function(e,a){return t.renderVcard((0,y.vcardFromContactModel)(e),a.toString())}))))),s.createElement("div",{className:C.default.btnContainer},s.createElement("div",{className:C.default.btnPosition},s.createElement(j.default,{large:!0,onClick:i},s.createElement(E.default,{name:"send",directional:!0}))))))}},{key:"renderVcard",value:function(e,t){var a=(0,y.vcardParse)(e.vcard);return a?s.createElement("div",{key:t,className:C.default.vcardWrapper},s.createElement(S.default,{parsedVcard:a,thumbnail:(0,y.vcardThumbnail)(a)})):null}}]),t}(s.Component);t.default=_},ddfaijbfgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("diaegabbjd")),r=i(a("ffedgcdgj")),l=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=a("dfdebdgdei"),p=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("bdeebiagii")),b=n(a("chbeahhfcj")),v=i(a("bfgbdiffgd")),j=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,c.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._handleForwardConfirmed=function(e){e.forEach(function(){var e=(0,r.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isUser||!t.contact.isBlocked()){e.next=3;break}return e.next=3,(0,h.unblockContact)(t.contact);case 3:a._sendProduct(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),a.end(),1===e.length&&(p.default.openChatFromUnread(e[0]),window.innerWidth<=m.default.LAYOUT_2COLUMNS_MAX_WIDTH&&p.default.closeDrawerRight())},a._handleCancel=function(){a.end()},a._sendProduct=function(e){var t=a.props.product;p.default.once("ui_idle",(function(){e.sendProductMessage(t)}))},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){p.default.closeContextMenu(),p.default.closeTooltip(),this.push(f.createElement(b.default,{onConfirm:this._handleForwardConfirmed,maxItems:v.default.multicastLimitGlobal,title:l10n.t(789),listType:b.ListType.CHAT_SELECT_MODAL,onCancel:this._handleCancel}))}}]),t}(g.default);t.default=j},ddgehgjfdd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ID_SEPARATOR=void 0;var i=n(a("bhfcfhafdj")),o=n(a("eaidjcib")),r=n(a("dgcdacjddi")),l=n(a("gabccaieg")),d=a("heaagdjji");t.ID_SEPARATOR=",";var c=function(){function e(){var t=this;(0,o.default)(this,e),this.participants=new l.default;for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];n.forEach((function(e){return t.add(e)}))}return(0,r.default)(e,[{key:"add",value:function(e){this.participants.add(e)}},{key:"hasSingleParticipant",value:function(){return 1===this.length}},{key:"fits",value:function(e,t,a){var n=this.center,i=n.lat,o=n.lng,r=e.lat,l=e.lng,c=(0,d.getMetersBetweenLatLngs)(i,o,i,l),s=(0,d.getMetersBetweenLatLngs)(i,o,r,o),u=(0,d.getMetersPerPixel)(i,t);return c/u<=a&&s/u<=a}},{key:"id",get:function(){return this.participants.map((function(e){return e.id.toString()})).join(",")}},{key:"center",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:(Math.min.apply(Math,(0,i.default)(e))+Math.max.apply(Math,(0,i.default)(e)))/2,lng:(Math.min.apply(Math,(0,i.default)(t))+Math.max.apply(Math,(0,i.default)(t)))/2}}},{key:"lat",get:function(){return this.center.lat}},{key:"lng",get:function(){return this.center.lng}},{key:"length",get:function(){return this.participants.length}},{key:"northeast",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.max.apply(Math,(0,i.default)(e)),lng:Math.max.apply(Math,(0,i.default)(t))}}},{key:"southwest",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.min.apply(Math,(0,i.default)(e)),lng:Math.min.apply(Math,(0,i.default)(t))}}}]),e}();t.default=c},ddggdgafij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("dgebcfedgb")),h=i(a("jhjbdcjbc")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCapture=function(){u.default.openModal(s.createElement(h.default,{onFinished:a.props.onImageTake}))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.createElement(f.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},l10n.t(1117))}}]),t}(s.Component);t.default=p},ddigiajeji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SECTIONS=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=n(a("cajijabhgb")),C=n(a("bgheieccaj")),S=i(a("dbfjeecgih")),y=i(a("bhbdiadfhj")),_=i(a("bdijbhadid")),k=i(a("dcaaidgfdg")),M=i(a("dacbhighjj")),I=i(a("jheedhagg")),T=a("dhegcfddhg"),L=i(a("chhebaafhb")),P=i(a("ebddggeaib")),w=a("edagdaii"),A=i(a("biecbbiiee")),N=i(a("eigdejjai")),O=i(a("eahdicfdjf")),R=i(a("cbccffhcjb")),D=i(a("cahfddcdga")),x=i(a("dhccahhefj")),F=i(a("eafdabbdgj")),U=i(a("bfgbdiffgd")),B=i(a("ecdebjcgfa")),V=i(a("dcdbbhicce")),G=i(a("dgdcjccfdi")),H=i(a("dhhjhedjij")),W=n(a("bjhgigfbec")),Y=i(a("ccbcihdfhg")),z={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"};t.SECTIONS=z;var K=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new S.default,a.setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.getHeaderAtSection=function(e){var t,a;switch(e){case z.PLAYED_HEADER:a=u.createElement(G.default,{name:"status-ptt",className:k.default.pttBlue}),t=l10n.t(749);break;case z.READ_HEADER:a=u.createElement(G.default,{name:"status-dblcheck",className:k.default.ack}),t=l10n.t(751);break;case z.DELIVERED_HEADER:a=u.createElement(G.default,{name:"status-dblcheck"}),t=l10n.t(747)}return a=u.createElement("div",{className:k.default.titleIcon},a),u.createElement("div",{"data-a8n":f.default.key("msg-info-title"),className:k.default.title},u.createElement(F.default,{side:a,ellipsify:!0},u.createElement(H.default,{theme:"section-title"},t)))},a.getFooterAtSection=function(e){var t=(0,D.default)(a.state.msgInfo);return u.createElement(M.default,{key:e,section:e,msgInfo:t})},a.renderItem=function(e){return"MSG_INFO_ROW"===e.type?a.getInfoCell(e.participant):e.type===z.FORWARD_COUNT?a.getForwardCount():e.type===z.PLAYED_HEADER||e.type===z.READ_HEADER||e.type===z.DELIVERED_HEADER?a.getHeaderAtSection(e.type):a.getFooterAtSection(e.type)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;N.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e.played,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.read,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.delivery,"add remove",(function(){t.forceUpdate()}))})).catch(E.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),p.default.openToast(u.createElement(W.default,{msg:l10n.t(787),id:(0,W.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===m.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===A.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter".concat(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return u.createElement(_.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return u.createElement("div",{className:k.default.forwardCount},u.createElement(O.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,a=[];return t&&t.isPTT&&(a.push({type:z.PLAYED_HEADER,itemKey:z.PLAYED_HEADER,height:50}),a.push.apply(a,(0,o.default)(t.played.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.playedRemaining>0&&a.push({type:z.PLAYED_FOOTER,itemKey:z.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:z.READ_HEADER,itemKey:z.READ_HEADER,height:50}),a.push.apply(a,(0,o.default)(t.read.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.readRemaining>0&&a.push({type:z.READ_FOOTER,itemKey:z.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:z.DELIVERED_HEADER,itemKey:z.DELIVERED_HEADER,height:50}),a.push.apply(a,(0,o.default)(t.delivery.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.deliveryRemaining>0&&a.push({type:z.DELIVERED_FOOTER,itemKey:z.DELIVERED_FOOTER,height:50})),U.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:z.FORWARD_COUNT,itemKey:z.FORWARD_COUNT,height:60}),a}},{key:"render",value:function(){var e,t=this.props.msg,a=this.state,n=a.msgInfo,i=a.unimplemented;n||i||(e=u.createElement("div",{className:k.default.spinner,key:"spinner"},u.createElement(B.default,{size:50,stroke:4})));var o=this.getData(),r=o.length?u.createElement(C.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:o,renderItem:this.renderItem}):null,l=null;return t.labels&&t.labels.length&&y.default.supportsFeature(y.default.F.LABELS_DISPLAY)&&(l=u.createElement(j.default,{theme:"padding"},u.createElement(L.default,{labels:t.labels}))),u.createElement(g.default,{key:"message-info-modal",theme:"striped"},u.createElement(v.default,{title:l10n.t(745),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),u.createElement(R.default,{ref:this.setRefScrollable,chatPreference:h.default.assertGet("defaultPreference")},u.createElement(Y.default,{msg:t,ref:(0,T.GetRef)("wrapper",this),displayType:m.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:w.MsgPosition.END,onProductClick:this.props.onProductClick})),u.createElement(b.default,{flatListControllers:[this.flatListController]},l,e,u.createElement("div",{className:k.default.list},r)))}}]),t}(u.Component);K.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var q=(0,I.default)((0,x.default)((0,P.default)((0,V.default)(K,K.CONCERNS))));t.default=q},deafgdcafd:function(e,t){e.exports={ring:"_24ddh",read:"_1dQZm",unread:"_1LP3m"}},debhhgegij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("bjihjhccce")),h=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).closeStatusViewer=function(){a.end()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}(u.default);t.default=h},defdgchjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=i(a("djfeeacgad")),h=n(a("ddhijeejag")),p=i(a("biaicaiffc")),m=i(a("ccbgfecegc")),g=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=n(a("cajijabhgb")),C=n(a("dciajcgfie")),S=a("dhegcfddhg"),y=i(a("dgjacfgggf")),_=i(a("bdiiahhjbe")),k=i(a("gdjchhcha")),M=i(a("chjejfcdd")),I=n(a("dcecgegjfc")),T=i(a("bdcchebfge")),L=i(a("difhgjjfcb")),P=i(a("dcdjgccech")),w=i(a("dhccahhefj")),A=i(a("deffjjfcba")),N=i(a("ecdebjcgfa")),O=i(a("dgdcjccfdi")),R=i(a("edbaidcaf")),D=i(a("didfdhbecg")),x=i(a("ecfabjjeda"));function F(){var e=(0,o.default)(["captureDrawer:render Unhandled video capture state ",""]);return F=function(){return e},e}function U(){var e=(0,o.default)(["CaptureDrawer:onCapture can not get 2d context"]);return U=function(){return e},e}var B="ANIMATING",V="LOADING",G="RECORDING",H="SENDING",W=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={state:B,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},a.videoRef=null,a.startTimer=new f.default((function(e){a.loadNewStream(e)})),a.loadNewStream=function(e){e?(a.setState({state:V,stream:e}),(0,I.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(a.url),a.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(a.url),a.url=void 0))):a.state.state===B&&a.setState({state:V})},a.stopStreamTimer=new f.default((function(e){e&&I.stop(e),(0,I.isSrcObjectInVideoElement)()||(a.url=window.URL.revokeObjectURL(a.url))})),a.onCapture=function(){if(a.videoRef){var e=a.videoRef.underlyingVideo();if(e){var t=a.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var i=n.getContext("2d");if(i){i.translate(n.width,0),i.scale(-1,1),i.drawImage(e,0,0,e.videoWidth,e.videoHeight);var o=a.props.onCaptured;if(o)y.default.canvasToBlob(n).then((function(e){o(e)}));else{a.stopStreamTimer.onOrBefore(500,a.state.stream),a.mediaLogger=new k.default,a.mediaLogger.logAdd("CAPTURE_MEDIA","image",T.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),a.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var r=n.toDataURL("image/jpeg");a.setState({state:H,stream:void 0,img:r})}}else LOG(3)(U())}}},a.onVideoLoaded=function(e){a.setState({state:G,videoSize:{width:e.videoWidth,height:e.videoHeight}})},a.onRetake=function(){a.setState({state:V,caption:void 0});var e=I.start("camera");Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then((function(e){e&&((0,I.isSrcObjectInVideoElement)()||(a.url=window.URL.createObjectURL(e)),a.setState({stream:e}))})).catch(E.Unmount,(function(){e.then((function(e){return I.stop(e)})).catch((function(){}))})).catch(E.GUM.NotAllowedError,(function(){a.props.onBack(),m.default.openModal(h.createElement(C.default,{messaging:C.Messaging.CAMERA_FAIL,type:C.default.TYPE.GUIDE_UNBLOCK}))})).catch(E.GUM.GUMError,(function(){a.props.onBack(),m.default.openModal(h.createElement(C.default,{messaging:C.Messaging.CAMERA_MISSING,type:C.default.TYPE.GUIDE_NONE}))}))},a.onSend=function(){var e=a.state,t=e.img,n=e.caption,i=a.props.onSend;if(i)if(t){var o=a.refCaptionInput&&a.refCaptionInput.refInput,r=[];if(n&&o){var l=o.serialize(n),d=[l[0].trim(),l[1]],c=d[0],s=d[1];c.length&&(n=c,r=s.mentionedJidList||[])}i({getImg:P.default.createFromBase64Jpeg(R.default.parseDataURL(t).data),caption:n,mentionedJidList:r}),a.mediaLogger.logSend()}else _.default.assert(t,"capture-drawer-no-img")();else _.default.assert(i,"capture-drawer-no-onSend")()},a.onCaptionChange=function(e){a.setState({caption:e})},a.setRefCaptionInput=function(e){a.refCaptionInput=e},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&I.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.state){case B:case V:if(i=h.createElement(N.default,{stroke:4,size:50}),this.state.state===B)break;case G:var o=(0,u.default)(p.default.video,{[p.default.videoInactive]:this.state.stream&&this.state.state===V}),r=this.state.stream?h.createElement(x.default,{autoPlay:!0,ref:(0,S.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;a=this.state.stream?h.createElement("div",{key:"webcam"},h.createElement(L.default,{type:this.props.layoutType,size:this.state.videoSize},h.createElement("div",{className:o,"data-animage-capture-webcam":!0},r))):null,e=this.state.state===G?h.createElement("div",{className:p.default.btn,key:"btn-capture"},h.createElement(A.default,{large:!0,onClick:this.onCapture},h.createElement(O.default,{name:"camera"}))):null;break;case H:a=h.createElement(L.default,{type:this.props.layoutType,size:this.state.videoSize},h.createElement("img",{className:p.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=h.createElement("div",{className:(0,u.default)(p.default.btn,p.default.btnSend),key:"btn-send"},h.createElement(A.default,{large:!0,onClick:this.onSend},h.createElement(O.default,{name:"send",directional:!0}))),t=h.createElement("div",{className:p.default.retakeBtn,onClick:this.onRetake},h.createElement("div",{className:p.default.retakeIcon},h.createElement(O.default,{name:"return"})),l10n.t(1002)),n=this.props.chat?h.createElement(M.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:g.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:l10n.t(182),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:LOG(2)(F(),this.state.state)}var l=this.props.caption?h.createElement(D.default,{transitionName:"media-caption",className:p.default.caption},n):null;return h.createElement(b.default,{key:"attach-capture-modal",theme:"capture"},h.createElement(j.default,{title:l10n.t(1117),type:j.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),h.createElement(v.default,{overflow:"hidden"},h.createElement("div",{className:p.default.container},i,h.createElement("div",{className:p.default.body},h.createElement(D.default,{transitionName:"capture",className:p.default.videoContainer},a))),h.createElement("div",{className:p.default.footer},l,h.createElement(D.default,{transitionName:"pop_delay"},e))))}}]),t}(h.PureComponent);W.defaultProps={caption:!1};var Y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).loadNewStream=function(e){a.getComponent().loadNewStream(e)},a}return(0,s.default)(t,e),t}((0,w.default)(W));t.default=Y},dfbdhdcebe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("ddigiajeji")),h=i(a("cjgdgbgbj")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(s.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(u.default);t.default=p},dfdgfddgcc:function(e,t){e.exports={wrapper:"_3UyK-",inactive:"_2OldH",offline:"_2jt_D",circle:"_4yn0L",text:"_1N8OC",backToCenter:"_3v53f",visible:"_2CPlk"}},dffbbbhiad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("dbahhcabjf")),u=i(a("cfjdfebffb")),f=i(a("dbafiicfja")),h=i(a("iffjgahba")),p=i(a("bgcdajbhif")),m=n(a("bgabgddgch"));function g(){var e=(0,o.default)(["error while loading more status msgs: ",""]);return g=function(){return e},e}function b(){var e=(0,o.default)(["error while loading more status msgs: ",""]);return b=function(){return e},e}function v(){var e=(0,o.default)(["Loaded "," messages with total count ",", but noEarlierMsgs set"]);return v=function(){return e},e}function j(){var e=(0,o.default)(["error while getting first unread status: ",""]);return j=function(){return e},e}function E(){var e=(0,o.default)(["Total count: ",", unread count: ",", msgs length: ",""]);return E=function(){return e},e}var C=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.default)("InvalidStatusV3Iterator"));t.InvalidStatusV3Iterator=C;var S=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.default)("StatusV3LoadingError"));t.StatusV3LoadingError=S;var y=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.default)("StatusV3MsgNotFound"));t.StatusV3MsgNotFound=y;t.default=function e(t,a){var n=this;if((0,r.default)(this,e),this.printInfo=function(){n.statuses.forEach((function(e){LOG(2)(E(),e.totalCount,e.unreadCount,e.msgs.length)}))},this.getFirstUnread=function(e,t,a){var i=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==i){var o,r=n.statuses[i],l=r.readMsgKeys;return a?(o=r.msgs?r.msgs.findIndex((function(e){return a&&e.id.toString()===a.toString()})):-1)>=0?Promise.resolve({msgIdx:o,statusIdx:i}):Promise.reject(new C):-1===(o=r.msgs?r.msgs.findIndex((function(e){return!l.includes(e.id.toString())})):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(o=t?0:r.msgs.length-1,Promise.resolve({msgIdx:o,statusIdx:i})):-1!==o?Promise.resolve({msgIdx:o,statusIdx:i}):0===r.unreadCount&&t&&r.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:i}):n.fetchMore(e).then((function(){return n.getFirstUnread(e,t,a)})).catch((function(e){return LOG(4)(j(),String(e)),Promise.reject(new C)}))}return Promise.reject(new C)},this.hasNext=function(e){var t=n.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<n.statuses.length},this.getNext=function(e){var t=n.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(LOG(4)(v(),t.msgs.length,t.totalCount),Promise.reject(new C)):n.fetchMore(a).then((function(){return n.getNext(e)})).catch((function(t){if(LOG(4)(b(),String(t)),e.statusIdx+1<n.statuses.length){var a=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(a,!0)}return Promise.reject(new C)}));if(e.statusIdx+1<n.statuses.length){var i=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(i,!0)}return Promise.reject(new C)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(e){if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=n.statuses[e.statusIdx-1].statusV3;return n.getFirstUnread(t,!1)}return Promise.reject(new C)},this.statusAt=function(e,t){var a=n.statuses[e.statusIdx],i=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):i.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new C):n.fetchMore(i).then((function(){return n.statusAt(e,t)})).catch((function(e){return LOG(4)(g(),String(e)),Promise.reject(new C)}))},this.fetchMore=function(e){return Promise.loop((function(t,a,i){var o=Promise.delay(m.expBackoff(i,12e4,1e3,.1));return e.loadMore().then((function(){var a=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==a){var r=n.statuses[a],l=r.totalCount,d=r.unreadCount,c=e.msgs.getModelsArray().slice(0,l),h=c.slice(0,l-d),p=(0,f.default)(h,(function(e){return e.id.toString()}));r.msgs=c,r.readMsgKeys=(0,u.default)((0,s.default)(r.readMsgKeys,p)),t(!0)}else{if(!(i>=4))return o;t(!1)}})).catch((function(){if(!(i>=4))return o;t(!1)}))})).then((function(e){if(!e)throw new S}))},a){var i=t.msgs.getModelsArray().find((function(e){return a&&e.id.toString()===a.toString()}));if(!i)throw new y;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[i],readMsgKeys:[i.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var o=p.default.getUnexpired(!0),l=[];o.forEach((function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,n=t.slice(0,a),i=(0,f.default)(n,(function(e){return e.id.toString()}));l.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:i})}})),this.statuses=l}else{var d=t.msgs.getModelsArray(),c=t.totalCount-t.unreadCount,h=d.slice(0,c),_=(0,f.default)(h,(function(e){return e.id.toString()})),k=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:d,readMsgKeys:_}];this.statuses=k}this.printInfo()}},dfjhjafaab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return"".concat("https://www.whatsapp.com/legal/","?lg=").concat(l10n.getLocale())},t.TOS_BASE_URL=void 0;t.TOS_BASE_URL="https://www.whatsapp.com/legal/"},dgaefbheia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bhcgjhdbdj")),h=i(a("bijffg")),p=i(a("ecbbjjjhh")),m=i(a("ebddggeaib")),g=i(a("gfgihaeab")),b=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).call(this))).refLastLabel=null,e.updateData=function(t,a,n){var i=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:h.default.toArray()},(function(){if(n.add&&i){var a=i(t.name),o=a.shouldScrollIntoView,r=a.shouldSelect;o&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),r&&e.onMultiSelect(t,!0,!1)}}))},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,a,n){var i=e.props,o=i.selectedLabels,r=i.onMultiSelect;o&&o.setVal(t,a,n),r&&r(t.id)},e.renderLabelRow=function(){var t=e.props,a=t.renderContext,n=t.onLabelClick,i=t.initialLabelState,r=void 0===i?{}:i,l=e.props.SelectableState||new g.default(!0);return e.state.labels.reduce((function(t,i,d){var c=h.default.assertGet(i.id);return i.name?[].concat((0,o.default)(t),[u.createElement("div",{key:"label_item_".concat(i.id),ref:d===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:n?n.bind(null,i.id):function(){}},u.createElement(f.default,{theme:a,model:c,initialSelection:r[i.id]||0,multiSelection:e.props.selectedLabels,selectableState:l,onSelect:e.onMultiSelect},u.createElement(p.default,{label:i.id})))]):t}),[])},e.state={labels:h.default.toArray()},e}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"add remove",this.updateData)}},{key:"render",value:function(){return u.createElement("div",null,this.renderLabelRow())}}]),t}(u.PureComponent),v=(0,m.default)(b);t.default=v},dgffihajaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.RETRY_OPTIONS=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("bebajedcaf")),u=n(a("ddhijeejag")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),m=i(a("cjecgfcdhj")),g=i(a("dacaegbbf")),b=i(a("djaiggcdb")),v=i(a("ebddggeaib")),j=i(a("dcdefbibje")),E=i(a("dhdeebadad")),C=n(a("difhgjjfcb")),S=i(a("cehjgabfic")),y=i(a("deffjjfcba")),_=i(a("dgdcjccfdi")),k=a("dfjhjafaab"),M=i(a("edbaidcaf")),I=i(a("didfdhbecg")),T={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=T;var L=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onDoneEditing=function(){var e=a.state.editedMedia;a.saveCanvas(),a.refProfileCropTool&&a.refProfileCropTool.getComponent().crop().then((function(t){var n=t.thumb,i=t.full;a.props.onFinished(n,i),e.cleanUp()}))},a.onObjectLoad=function(e){if(e&&e instanceof HTMLElement){var t={};!a.state.editorSize||a.state.editorSize.width===e.clientWidth&&a.state.editorSize.height===e.clientHeight||(t.editorSize={width:e.clientWidth,height:e.clientHeight}),a.state.loaded||(t.loaded=!0),(0,s.default)(t)||a.setState(t)}},a.setRefMediaEditCanvas=function(e){a.mediaEditCanvas=e},a.setRefProfileCropTool=function(e){a.refProfileCropTool=e},a.drawCanvas=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.drawCanvas(e,t)},a.saveCanvas=function(){a.mediaEditCanvas&&a.mediaEditCanvas.saveCanvas()},a.updateCanvasSize=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.updateCanvasSize(e,t)},a.onCanvasInitialized=function(){a.forceUpdate()},a.state={doneEditing:!1,loaded:!1,editorSize:{width:500,height:361},editedMedia:new g.default(e.img)},a.mediaEditController=new E.default,a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.mediaEditController,"change:isInitialized",this.onCanvasInitialized)}},{key:"render",value:function(){var e,t=this.props,a=t.attributionUrl,n=t.onRetake,i=t.retryText,o=this.state.loaded?u.createElement("div",{className:m.default.btnSend,key:"btn-send"},u.createElement(y.default,{large:!0,onClick:this.onDoneEditing},u.createElement(_.default,{name:"checkmark-large"}))):null;this.mediaEditController.isInitialized&&(e=u.createElement(S.default,{editedMedia:this.state.editedMedia,stage:this.mediaEditController.stage,cropOverlay:this.mediaEditController.cropOverlay,mediaContainer:this.mediaEditController.mediaContainer,drawCanvas:this.drawCanvas,ref:this.setRefProfileCropTool}));var r,l=u.createElement(j.default,{className:m.default.mediaElement,editedMedia:this.state.editedMedia,mediaEditController:this.mediaEditController,fitType:C.FIT_TYPE.COVER,ref:this.setRefMediaEditCanvas});if(n){var d;switch(i){case T.NONE:d=null;break;case T.RETAKE:d=l10n.t(1002);break;case T.RESTART:default:d=l10n.t(1011)}r=u.createElement("div",{className:m.default.retake,onClick:n},u.createElement("div",{className:m.default.retakeIcon},u.createElement(_.default,{name:"return"})),d)}var c=a?u.createElement("div",{className:m.default.attribution},u.createElement(b.default,{className:m.default.attributionLink,href:a},M.default.hostname(a)),u.createElement("span",null,l10n.t(627)," ",u.createElement(b.default,{href:(0,k.getTosUrl)()},l10n.t(633)))):null,s=u.createElement("div",{className:m.default.footer},u.createElement(I.default,{transitionName:"btn"},o),c),g=this.props.imageSize?this.props.imageSize:{width:500,height:361};return u.createElement(f.default,{key:"attach-edit-modal",theme:"edit"},u.createElement(p.default,{title:l10n.t(198),type:"offset",onCancel:this.props.onCancel},r),u.createElement(h.default,{overflow:"hidden"},u.createElement("div",{className:m.default.mediaBody},e,u.createElement("div",{className:m.default.containerBackground},u.createElement(I.default,{transitionName:"capture"},u.createElement(C.default,{type:C.FIT_TYPE.COVER,size:g,onObjectLoad:this.onObjectLoad},l)))),s))}}]),t}(u.Component),P=L;t.Component=P;var w=(0,v.default)(L);t.default=w},dggddfhei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ebddggeaib")),f=i(a("diffaiehid")),h=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onUpdate=function(e){a.setState({timestampText:a.getTimestampText(e)})},a.state={timestampText:a.getTimestampText(e.participant)},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participant;e.isMe?this.props.listeners.add(e,"change:expiration",this.onUpdate):this.props.listeners.add(e,"change:lastUpdated",this.onUpdate);var t=this.getTime(e);this.setTimeoutForNextMinute(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.participant,a=e.participant;if(t.expiration!==a.expiration&&t.lastUpdated!==a.lastUpdated){null!=this.timeoutId&&this.props.clearTimeout(this.timeoutId),null!=this.intervalId&&this.props.clearInterval(this.intervalId);var n=this.getTime(t);this.setTimeoutForNextMinute(n)}}},{key:"getTimestampText",value:function(e){return e.isMe?this.remainingTimeText(e.remainingTime()):this.elapsedTimeText(e.elapsedTime())}},{key:"getTime",value:function(e){return e.isMe?e.remainingTime():e.elapsedTime()}},{key:"setTimeoutForNextMinute",value:function(e){var t=this;this.timeoutId=this.props.setTimeout((function(){t.setState({timestampText:t.getTimestampText(t.props.participant)}),t.setIntervalForEveryMinute()}),e%60*1e3)}},{key:"setIntervalForEveryMinute",value:function(){var e=this;this.intervalId=this.props.setInterval((function(){e.setState({timestampText:e.getTimestampText(e.props.participant)})}),6e4)}},{key:"elapsedTimeText",value:function(e){var t=this.toHoursAndMinutes(e),a=t.hours,n=t.minutes;return a>0?n>0?l10n.t(690,{hours:a,minutes:n}):l10n.t(689,{hours:a,_plural:a}):n>0?l10n.t(692,{minutes:n,_plural:n}):l10n.t(691)}},{key:"remainingTimeText",value:function(e){var t=this.toHoursAndMinutes(e,!0),a=t.hours,n=t.minutes;return a>0?n>0?l10n.t(677,{hours:a,minutes:n}):l10n.t(676,{hours:a,_plural:a}):l10n.t(678,{minutes:n,_plural:n})}},{key:"toHoursAndMinutes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;t&&(a+=59);var n=3600,i=Math.floor(a/n),o=a%n,r=Math.floor(o/60);return{hours:i,minutes:r}}},{key:"render",value:function(){return s.createElement("span",null,this.state.timestampText)}}]),t}(s.Component),p=(0,u.default)((0,f.default)(h));t.default=p},dhajefgece:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={q:e,SafeSearch:"Strict",appid:d,mkt:u[l10n.getLocale()]||u.en,size:s,aspect:c,count:a,offset:t},i=r.default.build("https://www.bingapis.com/api/v6/images/search",n);return l.default.get(i,l.default.RESP_TYPE.JSON).then((function(t){if(!t.response.hasOwnProperty("_type"))throw new o.InvalidServerResponseError(i,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new o.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new o.InvalidServerResponseError(i,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response}))};var o=i(a("cajijabhgb")),r=n(a("edbaidcaf")),l=n(a("bjieiiccce")),d="D41D8CD98F00B204E9800998ECF8427E4F4A7492",c="Square",s="Medium",u={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"}},dhbchaebgb:function(e,t){e.exports={icon:"_2rgWN",body:"_2xUrR",spinner:"_2yODJ",ack:"_1PG1Q",pttBlue:"_942s1"}},dhdeebadad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("dcaifjegcg")),u=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).stage=(0,s.prop)(),a.cropOverlay=(0,s.prop)(),a.mediaContainer=(0,s.prop)(),a.isInitialized=(0,s.derived)(a._isInitialized,["stage","cropOverlay","mediaContainer"]),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"_isInitialized",value:function(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}},{key:"clearStage",value:function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}]),t}(s.default),f=(0,s.defineModel)(u);t.default=f},dhibhgiihj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),o=n(a("dgcdacjddi")),r=n(a("bfgbdiffgd"));function l(e){return Math.min(e,r.default.statusVideoMaxDuration)}var d=function(){function e(){var t=this;(0,i.default)(this,e),this.addListeners=function(e,a,n){t._onStart=e,t._onPause=a,t._onEnded=n},this.setVideo=function(e){t._video!==e&&(t.unsetVideo(),t._video=e,null!=e&&(e.addEventListener("playing",t._onPlayingHandler),e.addEventListener("pause",t._onPauseHandler),e.addEventListener("ended",t._onEndedHandler),e.addEventListener("timeupdate",t._onTimeUpdate)))},this.unsetVideo=function(){var e=t._video;e&&(t.stop(),e.removeEventListener("playing",t._onPlayingHandler),e.removeEventListener("pause",t._onPauseHandler),e.removeEventListener("ended",t._onEndedHandler),e.removeEventListener("timeupdate",t._onTimeUpdate))},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._video;if(null!=e){var a=t._onStart;if(a){var n=l(e.duration);a(1e3*(n-e.currentTime),1e3*n)}}},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this._onTimeUpdate=function(){var e,a=null===(e=t._video)||void 0===e?void 0:e.currentTime;if(null!=a&&a>=r.default.statusVideoMaxDuration){t.stop(),t._onEndedHandler();var n=t._video;n&&(n.removeEventListener("timeupdate",t._onTimeUpdate),n.removeEventListener("ended",t._onEndedHandler))}},this.removeListeners=function(){t.stop(),t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return(0,o.default)(e,[{key:"duration",get:function(){return null==this._video?0:1e3*l(this._video.duration)}}]),e}();t.default=d},dhjihjcdah:function(e,t){e.exports={title:"_3G4bS",text:"_1l2WO",icon:"_2_eZL"}},dhjjaiefdi:function(e,t){e.exports={body:"_2GuwY",vcardWrapper:"_3uEv4",btnContainer:"nm4bx",btnPosition:"_1vwtt"}},dieaaaeidb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("eaaagccfda")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),m=i(a("jigjfjjij")),g=i(a("dbdfbgehgj")),b=i(a("cfadcbbiie")),v=i(a("ccbgfecegc")),j=i(a("hgigjbgie")),E=i(a("hhcjfgifh")),C=i(a("gfebgebbi")),S=n(a("cajijabhgb")),y=i(a("ddajbaceej")),_=i(a("djifeiaaea")),k=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bhbcdbjdeg")),T=a("gaifbabbj"),L=i(a("ebddggeaib")),P=i(a("dcjigehfeb")),w=i(a("chihecbaj")),A=i(a("bdcchebfge")),N=n(a("difhgjjfcb")),O=i(a("dhccahhefj")),R=i(a("ecdebjcgfa")),D=i(a("dcdbbhicce")),x=i(a("bfffjiagfi")),F=a("eaaffccdb"),U=i(a("bbbdhbgafg")),B=i(a("cdhjbegegf")),V=i(a("cgjdibiahi")),G=a("bficeagfg"),H=i(a("cdhbehgbej"));function W(){var e=(0,o.default)(["Invalid status v3 image type: ",""]);return W=function(){return e},e}var Y=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).refProgressBar=p.createRef(),e.refProgressBarComponent=p.createRef(),e.refMeasuringProfile=p.createRef(),e.refWrapper=p.createRef(),e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var a=(0,s.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){var t=e.refMeasuringProfile&&e.refMeasuringProfile.current,a=e.refProgressBar&&e.refProgressBar.current;if(t&&a){var n=t.getBoundingClientRect(),i=a.getBoundingClientRect();!l10n.isRTL()&&n.right>i.left-5||l10n.isRTL()&&n.left<i.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;g.default.find(t).then((function(e){return v.default.openChatBottom(e)})).then((function(){e.props.closeStatusViewer(!0)}))},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==P.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var a=e.composeBox;a&&a.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===P.default.STAGE.RESOLVED){var a=(0,s.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(){e.pause()},e.onMouseUp=function(){e.play()},e.dismissReply=function(){var t=e.refWrapper&&e.refWrapper.current;t&&y.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,F.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new A.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.statusV3,n=t.msg,i=t.mediaData,o=t.msgIdx,r=t.sessionId;if(null!=r){var l;l=a.contact.isMe?A.default.WEBC_STATUS_ROW_SECTION.MY:a.contact.statusMute?A.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?A.default.WEBC_STATUS_ROW_SECTION.RECENT:A.default.WEBC_STATUS_ROW_SECTION.VIEWED;var d,c=this.props.rowIdx||0,s=a.msgs.length-1-o<a.unreadCount;i?d=i.isGif?A.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===i.type?A.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:A.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(d=n.getLinks().length?A.default.WEBC_STATUS_MEDIA_TYPE.URL:A.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=r,this.statusViewEvent.webcStatusRowSection=l,this.statusViewEvent.webcStatusRowIndex=c,this.statusViewEvent.webcStatusMediaType=d,this.statusViewEvent.webcStatusUnread=s}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners((function(t,a){var n=e.refProgressBarComponent&&e.refProgressBarComponent.current;n&&n.onStart(t,a)}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onPause()}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onEnded().checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.onNext()})).catch(S.Unmount,(function(){}))})),i?(this.play(),i&&i.mediaStage===P.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,j.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var u=this.refWrapper&&this.refWrapper.current;u&&u.focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,f.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.msg,o=n.mediaData,r=n.statusV3;if(o&&o.preview)e={backgroundImage:"url(".concat(o.preview.url(),")")};else if(i.type===j.default.MSG_TYPE.CHAT){e={backgroundColor:i.statusV3TextBg}}if(o)switch(o.type){case P.default.TYPE.IMAGE:t=p.createElement(K,{msg:i,statusV3:r,mediaData:o,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case P.default.TYPE.VIDEO:t=p.createElement(X,{msg:i,statusV3:r,mediaData:o,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:LOG(4)(W(),o.type)}else t=i.type===j.default.MSG_TYPE.CHAT?p.createElement(Z,{msg:i,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):p.createElement(Q,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var l,d=p.createElement("div",{ref:this.refProgressBar},p.createElement(B.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));i.type!==j.default.MSG_TYPE.CHAT&&(l=p.createElement("div",{className:U.default.captionBackdrop},p.createElement(C.default,{className:U.default.mediaCaption,text:i.caption,formatters:T.Configuration.StatusV3Caption()})));var c,s,u=(0,h.default)(U.default.profile,{[U.default.nonClickProfile]:i.isSentByMe,[U.default.profileNarrow]:this.state.narrow}),f=(0,h.default)(U.default.profile,U.default.measuringProfile,{}),m=p.createElement("div",{className:u,onClick:i.isSentByMe?null:this.onClickProfile},p.createElement("div",{className:U.default.playerAvatar},p.createElement(E.default,{id:r.contact.id,theme:"status_v3",size:40})),p.createElement("div",{className:U.default.msgInfo},p.createElement(C.default,{className:U.default.msgInfoName,text:r.contact.formattedName}),p.createElement("div",{className:U.default.timestamp},b.default.relativeDateAndTimeStr(i.t)))),g=p.createElement("div",{ref:this.refMeasuringProfile,className:f},p.createElement("div",{className:U.default.playerAvatar},p.createElement(E.default,{id:r.contact.id,theme:"status_v3",size:40})),p.createElement("div",{className:U.default.msgInfo},p.createElement(C.default,{className:U.default.msgInfoName,text:r.contact.formattedName}),p.createElement("div",{className:U.default.timestamp},b.default.relativeDateAndTimeStr(i.t)))),v={tab:this.onTab,"shift+tab":this.onTab},S=function(e){return e.stopPropagation()};o&&(c=p.createElement($,{mediaData:o})),this.props.statusV3.contact.isMe||(s=p.createElement(M.default,{handlers:{left:S,right:S}},p.createElement(x.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,k.GetRef)("composeBox",this)})));var y,_=(0,h.default)(U.default.playerBackground,{[U.default.media]:o}),I=(0,h.default)(U.default.progressBackdrop,{[U.default.progressBarBackdropNarrow]:this.state.narrow});return i.type!==j.default.MSG_TYPE.CHAT&&(y=p.createElement("div",{className:I})),p.createElement(V.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(e){e||a.props.closeStatusViewer()},requestFocus:this.dismissReply},p.createElement(M.default,{handlers:v},p.createElement("div",{className:U.default.playerWrapper,key:i.id.toString(),tabIndex:-1,ref:this.refWrapper},g,m,y,d,l,p.createElement("div",{className:_,style:e}),t,c,s)))}}]),t}(p.Component),z=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))))._renderImage=function(e){var t=a.props,n=t.msg,i=t.mediaData,o=(0,h.default)(U.default.playerContent,U.default.v3Image);return p.createElement("div",{className:o,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp,onDragEnd:a.props.onMouseUp},p.createElement(N.default,{type:N.FIT_TYPE.CONTAIN,size:{width:i.fullWidth,height:i.fullHeight}},p.createElement("div",{className:U.default.mediaViewer},p.createElement(I.default,{src:e,disableContextMenu:!0}),n&&n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&p.createElement(m.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:a.props.onMouseDown,onTooltipDismiss:a.props.onMouseUp}))))},a._renderPreviewImage=function(){var e=a.props.mediaData,t=(0,h.default)(U.default.playerContent,U.default.v3Image,U.default.loading);return p.createElement("div",{className:t,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp},p.createElement(N.default,{type:N.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},p.createElement(I.default,{src:e.preview&&e.preview.url()})))},a._downloadMedia=function(){return a.props.msg.downloadMedia(!0,A.default.WEBC_RMR_REASON_CODE.STATUS_V3)},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==P.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,A.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===P.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){return p.createElement(w.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0},this._renderImage)}}]),t}(p.PureComponent);z.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]};var K=(0,D.default)(z,z.CONCERNS),q=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).refVideo=p.createRef(),a.setRefVideo=function(e){a.refVideo=e,a.props.playbackController.setVideo(a.refVideo.current)},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia(!0,A.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===P.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=e.onMouseDown,i=e.onMouseUp,o=a.mediaStage!==P.default.STAGE.RESOLVED,r=(0,h.default)(U.default.playerContent,U.default.v3Video,{loading:o}),l=a.preview?a.preview.url():void 0;return p.createElement("div",{className:r,onMouseDown:n,onMouseUp:i},p.createElement(N.default,{type:N.FIT_TYPE.CONTAIN,size:{width:a.fullWidth,height:a.fullHeight}},p.createElement("div",{className:U.default.mediaViewer},p.createElement(H.default,{msg:t,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:l,disableContextMenu:!0},l10n.t(1184)),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&p.createElement(m.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}]),t}(p.PureComponent);q.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable"]};var X=(0,D.default)(q,q.CONCERNS),Z=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){_.default.load(this.props.msg.font).catch((function(){}))}},{key:"render",value:function(){var e,t,a=(0,G.numCodepoints)(this.props.msg.body),n={[U.default["font_".concat(this.props.msg.font||0)]]:!0};return a<=60?(e=(0,h.default)(U.default.text,U.default.textLarge,n),t=T.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,h.default)(U.default.text,U.default.textMedium,n),t=T.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,h.default)(U.default.text,U.default.textSmall,n),p.createElement("div",{className:(0,h.default)(U.default.playerContent,{[U.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[U.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[U.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},p.createElement("div",{className:e},p.createElement(C.default,{text:this.props.msg.body,formatters:t})))}}]),t}(p.PureComponent);t.StatusV3Text=Z;var Q=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return p.createElement("div",{className:U.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},p.createElement("div",{className:U.default.unknown},l10n.t(1104)))}}]),t}(p.PureComponent),J=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==P.default.STAGE.RESOLVED?p.createElement("div",{className:U.default.mediaStateControls},p.createElement("button",{className:"icon-media-disabled"},p.createElement(R.default,{size:50,stroke:4,color:"white"}))):null}}]),t}(p.Component);J.CONCERNS={mediaData:["mediaStage"]};var $=(0,D.default)(J,J.CONCERNS),ee=(0,O.default)((0,L.default)(Y));t.default=ee},diebdcceag:function(e,t){e.exports={container:"_2nT_s",popupPanel:"_36FL8",wrapper:"_3w8Xk",emojiIcon:"vqfUC",sendIcon:"_1Myo-",lineWrapper:"_3PPL0"}},diibfjicfe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushnameLocally=function(e){i.default.pushname=e,o.default.setPushname(e)};var i=n(a("bjigbaghc")),o=n(a("ceaajcbaaa"))},dijcebghbf:function(e,t){e.exports={container:"_1erYH",selected:"uHXuH",glow:"LbLoZ",stale:"udkUO",expired:"_2KhF6",pin:"_2T2Fj"}},djdjdgjjdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bjhdcidgah")),f=n(a("djbghdgcj")),h=i(a("ccbgfecegc")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=i(a("cciafahdib")),b=n(a("bjjhgjdbhd")),v=a("djaiggcdb"),j=a("facgccaif"),E=i(a("bhbdiadfhj")),C=i(a("ebhiccidcj")),S=i(a("djbjbichdf")),y=i(a("jabfchggf")),_=i(a("bdcchebfge")),k=i(a("djiecjceea")),M=a("dfjhjafaab"),I=i(a("jajhhaah")),T={id:"animated-doodle",selectors:[".".concat(C.default.animation)],low:{default:u.default},high:{default:u.default}},L=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).openTime=-1,a.actionsTaken=!1,a.onTOS=function(){a.actionsTaken=!0,(0,v.openExternalLink)((0,M.getTosUrl)())},a.onFAQ=function(){(0,v.openExternalLink)((0,j.getFaqUrl)()),a.logSessionEvent(_.default.CONTACT_US_EXIT_STATE.FAQ)},a.onContactUs=function(){h.default.openModal(s.createElement(k.default,{onCancel:a.onContactUsCancel,onSend:a.onContactUsSend}))},a.onLicenses=function(){h.default.openModal(s.createElement(y.default,{onOk:a.onLicensesOk}))},a.onContactUsCancel=function(){a.logSessionEvent(_.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},a.onContactUsSend=function(e){a.logSessionEvent(_.default.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},a.onLicensesOk=function(){},a.onKeyboardShortcuts=function(){h.default.openModal(s.createElement(S.default,null))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),f.default.loadAsset(T,f.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(_.default.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var a=new _.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}},{key:"render",value:function(){var e;return E.default.supportsFeature(E.default.F.LICENSES_PAGE)&&(e=s.createElement(g.default,{a8nText:"li-licenses",onClick:this.onLicenses},l10n.t(655))),s.createElement(p.default,null,s.createElement(b.default,{a8n:"drawer-title-help",title:l10n.t(620),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),s.createElement(m.default,null,s.createElement("div",{className:C.default.animation}),s.createElement(I.default,{className:C.default.versionInfo}),s.createElement(g.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t(1469)),void 0,s.createElement(g.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t(1067)),e,s.createElement(g.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t(1119)),void 0,void 0))}}]),t}(s.Component);t.default=L},djgcaefhci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("hgigjbgie")),h=i(a("hhcjfgifh")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("gfebgebbi")),v=i(a("bjjaehbf")),j=i(a("bdjjabfecc")),E=i(a("dgjfidhijd")),C=i(a("cbdjcijgja")),S=i(a("dhefcajhhb")),y=i(a("dhccahhefj")),_=i(a("deffjjfcba")),k=i(a("dgdcjccfdi")),M=i(a("dbihaeaggd")),I=i(a("didfdhbecg")),T=i(a("bjieiiccce")),L=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isBusy:!1,inviteComment:j.default.t(583)},a.setRefParticipantList=function(e){a.refParticipantList=e},a.onClose=function(){(0,a.props.onClose)()},a.getGroupThumbBase64=function(){var e=a.props.gid,t=S.default.get(e);return new Promise((function(e){t&&t.img?T.default.get(t.img,T.default.RESP_TYPE.BLOB).then((function(t){if(200===t.status){var a=new FileReader;a.onloadend=function(){var t=a.result;if(null!=t){var n=t.toString().split(",")[1];e(n)}else e(void 0)},a.readAsDataURL(t.response)}else e(void 0)})).catch((function(){return e(void 0)})):e(void 0)}))},a.onSend=function(){var e=a.props.onSend,t=a.state.inviteComment;a.getGroupThumbBase64().then((function(a){e(t,a)}))},a.onInviteCommentChange=function(e){a.setState({inviteComment:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=s.createElement(_.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},s.createElement(k.default,{name:"send",directional:!0})),t=s.createElement(h.default,{id:this.props.gid}),a=s.createElement(b.default,{text:this.props.subject});return s.createElement(E.default,{type:"invite"},s.createElement(p.default,{theme:"invite"},s.createElement(g.default,{type:g.DRAWER_HEADER_TYPE.POPUP,title:j.default.t(592),onCancel:this.onClose}),s.createElement(m.default,null,s.createElement("div",{className:v.default.search},s.createElement("div",{"data-list-scroll-container":!0},s.createElement(C.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map((function(e){return e.contact}))}))),s.createElement("div",{className:v.default.commentInput},s.createElement(M.default,{a8n:"groups-v4-invite-add-comment-input",ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:f.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),s.createElement(I.default,{transitionName:"btn",className:v.default.onSendInvite},e),s.createElement("div",{className:v.default.groupInfo},s.createElement(u.default,{idle:!0,image:t,primary:a,secondary:j.default.t(588),theme:"group_v4_invite"})))))}}]),t}(s.Component),P=(0,y.default)(L);t.default=P},djhbgdedbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=n(a("dighcbdehd")),f=i(a("dbdfbgehgj")),h=i(a("ccbgfecegc")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=a("cdhbdacigj"),v=i(a("bgheieccaj")),j=i(a("dbfjeecgih")),E=i(a("ddajbaceej")),C=i(a("jheedhagg")),S=i(a("dhfbfehaef")),y=i(a("ebddggeaib")),_=i(a("dcaibchbg")),k=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new j.default,a.selection=new _.default([],(function(e){return e.id.toString()})),a.onClick=function(e,t){h.default.openChatFromUnread(t).then((function(e){e&&h.default.focusChatTextInput(t)})),a.onClose()},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!0)},a.renderItem=function(e){return s.createElement(u.default,{chat:e.chat,mode:u.Mode.LAST,active:a.selection,onClick:a.onClick})},a.setRefHotKeys=function(e){a.refList=e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(f.default,"change:archive add remove",(function(){e.forceUpdate()})),this.refList&&E.default.focus(this.refList)}},{key:"getData",value:function(e){return e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e,t=f.default.filter((function(e){return e.archive}));if(this.selection.init(t,!0),t.length>0){var a={down:this.onNextChat,up:this.onPrevChat};e=s.createElement(S.default,{onRef:this.setRefHotKeys,handlers:a},s.createElement(v.default,{data:this.getData(t),flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))}else e=s.createElement(b.Archived,null);return s.createElement(p.default,null,s.createElement(g.default,{title:l10n.t(207),onBack:this.onClose,type:g.DRAWER_HEADER_TYPE.LARGE}),s.createElement(m.default,{flatListControllers:[this.flatListController]},e))}}]),t}(s.Component),M=(0,C.default)((0,y.default)(k));t.default=M},djifeiaaea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),o=n(a("eaidjcib")),r=n(a("dgcdacjddi")),l=a("cabeijgaif");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var c=a("cgbdhdjdcf"),s={};s[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.SERIF]={google:{families:["Roboto"]}},s[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.SANS_SERIF]={google:{families:["Droid Serif"]}},s[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.NORICAN_REGULAR]={google:{families:["Norican"]}},s[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},s[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var u={};u[l.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'.concat(c,'") format("truetype");}');var f=new(function(){function e(){(0,o.default)(this,e),this.loadedFonts={},this.loadingPromise={}}return(0,r.default)(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var a=s[e],n=u[e],o=(n?new Promise((function(e,t){var a=document.createElement("style");a.appendChild(document.createTextNode(n)),a.onload=e,a.onerror=t,document.head&&document.head.appendChild(a)})):Promise.resolve()).then((function(){return new Promise((function(n,o){var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{active:function(){t.loadedFonts[e]=!0,n()},inactive:function(){t.loadingPromise[e]=void 0,o("Failed to load font: "+e)}});WebFont.load(r)}))}));return this.loadingPromise[e]=o,o}},{key:"loadAllFonts",value:function(){var e=this;return Promise.all(Object.keys(l.EXTENDED_TEXT_MESSAGE_FONTTYPE).map((function(t){return e.load(l.EXTENDED_TEXT_MESSAGE_FONTTYPE[t])})))}}]),e}());t.default=f},djihccehdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("defdgchjjh")),f=i(a("bdeebiagii")),h=a("cjahggceac"),p=a("difhgjjfcb"),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).sendMedia=function(e){var t=e.getImg,n=e.caption,i=e.mentionedJidList,o=a.props.chat,r=o.composeQuotedMsg;o.composeQuotedMsg=null,(0,h.prepRawMedia)(t,{}).sendToChat(o,{caption:n,mentionedJidList:i,quotedMsg:r}),a.end()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(s.createElement(u.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:p.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}(f.default);t.default=m},eaaffccdb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===c.default.TYPE.IMAGE){var a=4500;return(0,l.default)(t.caption)||(a+=2e3*Math.min(t.caption.length/150,1)),new h(a)}return e.type===c.default.TYPE.VIDEO?t.isGif?new p:new s.default:new h(3e3)}if(t.type===d.default.MSG_TYPE.CHAT){var n=2e3+60*Math.min(t.body.length,1e3);return new h(n)}return new h(3e3)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var i=n(a("dfadhaifh")),o=n(a("eaidjcib")),r=n(a("dgcdacjddi")),l=n(a("bebajedcaf")),d=n(a("hgigjbgie")),c=n(a("dcjigehfeb")),s=n(a("dhibhgiihj"));function u(){var e=(0,i.default)(["Timer stop called on stopped timer"]);return u=function(){return e},e}function f(){var e=(0,i.default)(["Duplicate timer start"]);return f=function(){return e},e}var h=function(){function e(t){var a=this;(0,o.default)(this,e),this.addListeners=function(e,t,n){a._onStart=e,a._onPause=t,a._onEnded=n},this.removeListeners=function(){a._onStart=void 0,a._onPause=void 0,a._onEnded=void 0},this.play=function(){if(a._timer)LOG(1)(f());else{a._timer=setTimeout(a._onTimeup,a._timeout),a._start=(new Date).getTime();var e=a._onStart;e&&e(a._timeout,a._duration)}},this.stop=function(){if(a._timer){clearTimeout(a._timer),a._timer=null;var e=(new Date).getTime();a._timeout-=e-a._start;var t=a._onPause;t&&t()}else LOG(1)(u())},this.resume=function(){a.play()},this.pause=function(){a.stop()},this._onTimeup=function(){var e=a._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return(0,r.default)(e,[{key:"duration",get:function(){return this._duration}}]),e}();t.StatusV3CountdownController=h;var p=function(){function e(){var t=this;(0,o.default)(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,a){t._video!==e&&(t._video=e,null!=a&&(t._duration=a),t._videoController.setVideo(e))},this._onVideoStartHandler=function(){var e=t._video;if(null!=e){var a=t._onStart,n=e.duration||t._duration,i=Math.max(3*n*1e3,6e3);a&&a(i-1e3*n*t._playCounter-1e3*e.currentTime,i)}},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){var e=t._video;if(null!=e){t._playCounter++;var a=t._onEnded;3===t._playCounter&&(t._videoEnded=!0,t._timerEnded&&a&&a()),e.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout((function(){t._videoController.play()}),0)}},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new h(6e3),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return(0,r.default)(e,[{key:"addListeners",value:function(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}},{key:"duration",get:function(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,6e3)}}]),e}();t.StatusV3GifController=p},eabhbddaei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=i(a("bdjjabfecc")),b=i(a("bdehjcecig")),v=a("dcfieddiah"),j=i(a("ebddggeaib")),E=i(a("bdcchebfge")),C=i(a("bhgjeaceh")),S=i(a("dgaefbheia")),y=i(a("dceicchccd")),_=i(a("deffjjfcba")),k=i(a("dgdcjccfdi")),M=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,d.default)(t).call(this))).onMultiSelect=function(){var t=e.multiSelection.getSelected().length;e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){u.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,t.length,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.openModal(s.createElement(f.default,{title:g.default.t(397,{_plural:t.length}),okText:g.default.t(1528),cancelText:g.default.t(1392),onCancel:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.closeModal()},onOK:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.multiSelection=new y.default([],(function(e){return e.id})),e.state={selectedCount:0},e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,void 0,E.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;return e=this.state.selectedCount>0?s.createElement(C.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):s.createElement(m.default,{title:g.default.t(652),onBack:this.props.onClose,type:m.DRAWER_HEADER_TYPE.LARGE}),s.createElement(h.default,{theme:"settings"},e,s.createElement(p.default,null,s.createElement(S.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContext:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),s.createElement("div",{className:b.default.addLabelBtContainer},s.createElement(_.default,{large:!0,onClick:this.props.openAddLabel},s.createElement(k.default,{name:"plus-large"}))))}}]),t}(s.PureComponent),I=(0,j.default)(M);t.default=I},eaeceibcgf:function(e,t){e.exports={container:"_2WRXM",wallpaperColorCanvas:"_1t_q7",wallpaperColorEmpty:"_1hFiW",canvasActive:"_3BX0_",canvasHover:"y9QW2"}},eafahcacji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefCanvas=function(e){a.refCanvas=e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("canvas",{className:this.props.className,ref:this.setRefCanvas})}}]),t}(s.Component);t.default=u},eafijicig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cfadcbbiie")),p=i(a("hgigjbgie")),m=a("bgihjbde"),g=n(a("cajijabhgb")),b=i(a("bhbdiadfhj")),v=i(a("bdjjabfecc")),j=i(a("ebddggeaib")),E=i(a("eigdejjai")),C=i(a("dhccahhefj")),S=i(a("ecdebjcgfa")),y=i(a("hjigficga")),_=a("dieaaaeidb"),k=i(a("dgdcjccfdi"));function M(){var e=(0,o.default)(["error while loading all out status: ",""]);return M=function(){return e},e}var I=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,a=u.createElement(L,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus});return b.default.supportsFeature(b.default.F.STATUS_V3_UI_SENDING)&&(e=u.createElement("div",{className:y.default.updateWrapper},u.createElement("div",{className:y.default.updateTitle},v.default.t(1105)),u.createElement("div",{className:y.default.uploadButtons},u.createElement("div",{className:y.default.buttonContainer},u.createElement(k.default,{name:"status-v3-upload",className:y.default.buttonIcon}),v.default.t(1106)),u.createElement("div",{className:y.default.buttonContainer},u.createElement(k.default,{name:"status-v3-camera",className:y.default.buttonIcon}),v.default.t(1092)))),t=u.createElement("hr",null)),u.createElement("div",{className:y.default.outStatusPanel},e,t,a)}}]),t}(u.Component),T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).rerender=function(){a.forceUpdate()},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusV3,a=e.listeners;t&&(a.add(t,"change:msgsChanged",this.rerender),t.loadMore(t.totalCount).catch((function(e){LOG(4)(M(),String(e))})))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.listeners,n=t.statusV3,i=e.statusV3;i!==n&&(i&&a.remove(i,"change:msgsChanged",this.rerender),n&&a.add(n,"change:msgsChanged",this.rerender))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var a=t.msgs.map((function(a){return u.createElement(w,{key:a.id.toString(),msg:a,status:t,onOpenStatus:e.props.onOpenStatus})}));return u.createElement("div",{className:y.default.viewWrapper},u.createElement("div",{className:y.default.viewTitle},v.default.t(1107)),u.createElement("div",{className:y.default.viewUpdates},a))}return u.createElement("div",{className:y.default.viewWrapper},u.createElement("div",{className:y.default.placeholderIcon},u.createElement(k.default,{name:"status-v3-placeholder"})),u.createElement("div",{"data-a8n":f.default.key("status-placeholder"),className:y.default.placeholderText},v.default.t(1101)))}}]),t}(u.Component),L=(0,j.default)(T),P=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).state={},e}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(t){e.props.listeners.add(t.read,"add remove",(function(){e.setState({seenCount:t.read.length})})),e.setState({seenCount:t.read.length})})).catch(g.Unmount,(function(){})).catch(m.EphemeralDrop,(function(){}))}},{key:"render",value:function(){var e,t,a,n=this,i=this.props,o=i.msg,r=i.status,l=o.mediaData;if(l&&l.preview)e={backgroundImage:"url(".concat(l.preview.url(),")")};else if(o.type===p.default.MSG_TYPE.CHAT){e={backgroundColor:o.statusV3TextBg}}return o.type===p.default.MSG_TYPE.CHAT&&(t=u.createElement(_.StatusV3Text,{msg:o,theme:"status-panel"})),a=void 0!==this.state.seenCount?u.createElement(u.Fragment,null,u.createElement(k.default,{name:"status-v3-seen",className:y.default.iconSeen}),u.createElement("div",{className:y.default.seenCount},this.state.seenCount)):u.createElement(S.default,{stroke:3,size:12}),u.createElement("div",{className:y.default.outDetail},u.createElement("div",{className:y.default.statusImage,style:e,onClickCapture:function(e){n.props.onOpenStatus(r,o),e.preventDefault(),e.stopPropagation()}},t),u.createElement("div",{className:y.default.seen},a),u.createElement("div",{className:y.default.timestamp},h.default.relativeDateAndTimeStr(o.t)))}}]),t}(u.Component),w=(0,C.default)((0,j.default)(P)),A=I;t.default=A},eahdicfdjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhjihjcdah")),f=i(a("dcdbbhicce")),h=i(a("dgdcjccfdi")),p=i(a("dhhjhedjij")),m=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,a=e.isFrequentlyForwarded;if(t<=0||a)return null;var n=s.createElement(h.default,{name:"forwarded",display:"inline",className:u.default.icon}),i=l10n.t(500,{count:t,_plural:t});return s.createElement("div",{className:u.default.title},n,s.createElement(p.default,{theme:"title",className:u.default.text},i))}}]),t}(s.PureComponent);m.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]};var g=(0,f.default)(m,m.CONCERNS);t.default=g},eahjciebii:function(e,t){e.exports={mediaViewerImg:"_3svEr",cropOverlay:"_33eED"}},ebhaddigcf:function(e,t){e.exports={photoPickerWrapper:"_2PkS4",scale:"QDaP-",nameWrapper:"_2fM4q","well-animation":"_2gB43",wellAnimation:"_2gB43"}},ebhiccidcj:function(e,t){e.exports={animation:"_2mKzQ","play-ltr":"BX5_9",playLtr:"BX5_9","play-rtl":"_8Mz0e",playRtl:"_8Mz0e",versionInfo:"_1ILLr"}},ebjcghgjdh:function(e,t){e.exports={overlay:"_2H1bg",icon:"_1Zi9g",text:"_2r5kE"}},ecbbjjjhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("gfebgebbi")),h=i(a("bijffg")),p=n(a("eeebhdeed")),m=i(a("ebddggeaib")),g=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).updateLabels=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"label_updated_".concat(this.props.label),this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=h.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var a=s.createElement(p.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),n=s.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return s.createElement(u.default,{theme:"chat-checkbox",image:a,primary:n,secondary:l10n.t(649,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var i=(0,p.renderLabelSvg)(t.hexColor),o=s.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return s.createElement(u.default,{theme:"label-selection",image:i,primary:o})}}]),t}(s.PureComponent),b=(0,m.default)(g);t.default=b},ecbiejfbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductDetailsForDeepLink=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ejegihaeh")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=a("dhjcdeigfi"),g=i(a("hhibigida")),b=i(a("bahheegiac")),v=i(a("bdjjabfecc")),j=i(a("cahfddcdga")),E=i(a("bhfadhddje")),C=i(a("dhccahhefj")),S=a("dcbdjheea"),y=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).state={product:null,productFetchState:"NONE"};var n=a.props.productInfo,i=n.productId,r=n.businessOwnerJid,c=(0,b.default)({productId:i,businessOwnerJid:r});return a.state=c?{product:c,productFetchState:"NONE"}:{product:c,productFetchState:"PENDING"},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.state.product||this._fetchProduct()}},{key:"_fetchProduct",value:function(){var e=this,t=this.props.productInfo,a=t.productId,n=t.businessOwnerJid,i=(0,S.createWid)(n);u.default.findProduct({catalogWid:i,productId:a}).checkpoint(this.props.rejectOnUnmount()).then((function(){var t=u.default.get(i),n=(0,j.default)(t).productCollection.get(a);e.setState({product:n,productFetchState:"SUCCESS"})})).catch((function(t){(0,m.parseErrorState)(t,(function(t){return e.setState({productFetchState:t})}))}))}},{key:"render",value:function(){return this.state.product?s.createElement(E.default,{chat:this.props.chat,product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,sessionId:this.props.sessionId,onProductLinkClick:this.props.onProductLinkClick}):s.createElement(f.default,{onDrop:this.props.onBack,key:"product-details-drawer"},s.createElement(p.default,{a8n:"drawer-title-profile",title:v.default.t(943),onBack:this.props.onBack,type:p.DRAWER_HEADER_TYPE.SMALL}),s.createElement(h.default,null,s.createElement(g.default,{fetchState:this.state.productFetchState})))}}]),t}(s.PureComponent);t.ProductDetailsForDeepLink=y;var _=(0,C.default)(y);t.default=_},eccdcgiace:function(e,t){e.exports={imageGallery:"_2HQL6",imageGalleryList:"_2NvS_",imageGalleryItem:"a0ssR",imageGalleryItemSpacer:"_1Hl0y",imageGalleryItemImage:"_3-2X6",imageGalleryItemOverlay:"_33MY_",selected:"_1B_Ro",imageGalleryFooter:"_3pZ4j",focusAnimation:"_3IxUg",focusAnimationKeyframes:"_3ZhNH"}},ecgbjdgfdd:function(e,t){e.exports={inputContainer:"_3X9KY",label:"_1mQLv",input:"_3UjcX"}},ecgechdigh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("iidhbgeed")),f=n(a("ddhijeejag")),h=i(a("dababjcdei")),p=i(a("ecfgahegjj")),m=i(a("ccbgfecegc")),g=i(a("bbfjdcedab")),b=i(a("hgigjbgie")),v=i(a("dhigahgdjb")),j=i(a("dcjhajfghf")),E=i(a("dgebcfedgb")),C=i(a("bjbifafigc")),S=a("cgffhfegce"),y=i(a("hjieaedbd")),_=i(a("bhbdiadfhj")),k=i(a("jheedhagg")),M=i(a("dcfihjeedb")),I=i(a("bhbcdbjdeg")),T=n(a("baffhfhhda")),L=n(a("dgjfidhijd")),P=n(a("difhgjjfcb")),w=i(a("djgffgcaie")),A=i(a("cfcfdeifjb")),N=i(a("dcbcigbda")),O=i(a("dgdcjccfdi")),R=i(a("ddggdgafij")),D=i(a("cgjdibiahi")),x=i(a("dfciadajdf")),F=i(a("didfdhbecg"));function U(){var e=(0,o.default)(["PhotoPicker:onImageReceived failed to load image: ",""]);return U=function(){return e},e}var B=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={img:a.props.startImage,hover:!1,imageSize:null},a.setRefImageContainer=function(e){a.refImageContainer=e},a.setRefImageInput=function(e){a.refImageInput=e},a.onUpload=function(){var e=a.refImageInput;if(e)return e.click(),!0},a.removeImage=function(){a.props.onImageSet(),m.default.closeModal()},a.onRemove=function(){var e=a.props.type===A.default.GROUP?l10n.t(974):l10n.t(978);m.default.openModal(f.createElement(g.default,{onOK:a.removeImage,okText:l10n.t(973),onCancel:function(){return m.default.closeModal()},cancelText:l10n.t(1245)},e))},a.onView=function(){var e=a.refImageContainer,t=a.props,n=t.id,i=t.attachToChat;if(e&&n){var o=v.default.assertGet(n),r={transition:"profile-viewer"};i&&(r.uim=a.props.uim),m.default.openModalMedia(f.createElement(N.default,{contact:o,profilePicThumb:o.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(t){t(e)}}),r)}},a.onPaste=function(e){if(a.state.contextMenu){var t=new j.default(e.clipboardData),n=(0,u.default)(t.getFiles(),(function(e){return"image"===(0,S.typeFromMimetype)(e.type)}));if(n.length){e.preventDefault(),e.stopPropagation(),a.closeContextMenu();var i=n[0];a.onImagePick(i)}}},a.onImageSelected=function(e){a.closeContextMenu();var t=e.target.files[0];if(!t)return!1;a.onImagePick(t),e.target.value=""},a.onImageReceived=function(e,t){e?T.loadImage(e).then((function(){a.setState({img:e}),a.props.onImageSet(e,t)})).catch((function(e){LOG(4)(U(),String(e));var t=a.props.type===A.default.GROUP?l10n.t(93):l10n.t(163);m.default.openModal(f.createElement(g.default,{onOK:function(){return m.default.closeModal()}},t))})):a.setState({img:null,imageSize:null})},a.onSearch=function(){m.default.openModal(f.createElement(L.default,{type:L.BoxModalType},f.createElement(M.default,{onFinished:a.onImageReceived})))},a.onImagePick=function(e){var t=URL.createObjectURL(e);T.loadImage(t).then((function(t){t&&(t.width<b.default.MIN_PIC_SIDE||t.height<b.default.MIN_PIC_SIDE)?m.default.openModal(f.createElement(g.default,{onOK:function(){return m.default.closeModal()}},l10n.t(965,{size:b.default.MIN_PIC_SIDE,_plural:b.default.MIN_PIC_SIDE}))):m.default.openModal(f.createElement(L.default,{type:L.BoxModalType},f.createElement(C.default,{img:e,onFinished:a.onImageReceived,onRetake:a.onUpload})))})).catch((function(){var e=a.props.type===A.default.GROUP?l10n.t(93):l10n.t(163);m.default.openModal(f.createElement(g.default,{onOK:function(){return m.default.closeModal()}},e))})).finally((function(){URL.revokeObjectURL(t)}))},a.onImageClick=function(e){if(a.props.readOnly)a.state.img&&a.onView();else{e.stopPropagation(),e.preventDefault();var t=[];a.props.id&&a.state.img&&t.push(f.createElement(E.default,{a8n:"mi-view-photo",key:"view",action:a.onView},l10n.t(1187))),y.default&&t.push(f.createElement(R.default,{key:"take",onImageTake:a.onImageReceived})),t.push(f.createElement(E.default,{a8n:"mi-upload-photo",key:"upload",action:a.onUpload},l10n.t(1159))),_.default.supportsFeature(_.default.F.BING_IMAGE_SEARCH)&&a.props.type===A.default.GROUP&&t.push(f.createElement(E.default,{a8n:"mi-search-photo",key:"search",action:a.onSearch},l10n.t(1463))),a.state.img&&t.push(f.createElement(E.default,{a8n:"mi-remove-photo",key:"remove",action:a.onRemove},l10n.t(977))),e.persist(),a.setState({contextMenu:{menu:t,event:e}})}},a.closeContextMenu=function(){a.setState({contextMenu:null})},a.onMouseOver=function(){a.state.hover||a.setState({hover:!0})},a.onMouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.onMouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onLoad=function(e){var t=e.target.clientWidth,n=e.target.clientHeight;a.setState({imageSize:{width:t,height:n}})},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t;this.state.img&&(e=f.createElement(P.default,{type:P.FIT_TYPE.COVER,size:this.state.imageSize},f.createElement(I.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=f.createElement(p.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var n="";switch(this.props.type){case A.default.GROUP:n=this.state.img?l10n.t(299):l10n.t(191);break;case A.default.PROFILE:n=this.state.img?l10n.t(304):l10n.t(197)}a=f.createElement(h.default,{icon:f.createElement(O.default,{name:"camera"}),text:n})}var i,o,r=this.props.pending||!this.state.imageSize&&this.state.img?function(){}:this.onImageClick;if(this.state.contextMenu&&(i=f.createElement(D.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},f.createElement(x.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var l=this.props.type===A.default.PROFILE?"default-user":"default-group";o=f.createElement("div",{className:w.default.defaultIcon},f.createElement(O.default,{name:l}))}return f.createElement("div",{className:w.default.container},f.createElement("div",{className:w.default.body,onClick:r,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},f.createElement("div",{className:w.default.imageContainer},e,o),f.createElement(F.default,{transitionName:"fade"},t,a)),f.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),i)}}],[{key:"getDerivedStateFromProps",value:function(e){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}}]),t}(f.Component),V=(0,k.default)(B);t.default=V},egjijhafj:function(e,t){e.exports={disabled:"_27yrw",title:"_2Yi4e"}},fabfijbdh:function(e,t){e.exports={dimmed:"_31FKq"}},fbhdejhdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("dhhjhedjij")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onOk=function(){a.props.onOk&&a.props.onOk(),u.default.closeModal()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.createElement(f.default,{title:l10n.t(655),okText:l10n.t(1397),onOK:this.onOk},s.createElement(h.default,{block:!0},l10n.t(655)))}}]),t}(s.Component);t.default=p},fcdheigeg:function(e,t){e.exports={thumb:"_38JkY",active:"_1S5c-",body:"TZVqr",btnDelete:"_2FYaw",bodyDoc:"LYKOB"}},fgghedjgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("ccbgfecegc")),h=i(a("chhdaecjcj")),p=n(a("hhcjfgifh")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=i(a("cciafahdib")),v=n(a("bjjhgjdbhd")),j=i(a("gfebgebbi")),E=a("cdhbdacigj"),C=a("bgihjbde"),S=n(a("cajijabhgb")),y=a("bejbgaghc"),_=i(a("bbfcdhjiba")),k=i(a("bffajdjibj")),M=i(a("bdjjabfecc")),I=i(a("dhccahhefj")),T=a("cbhhehcjbb"),L=i(a("caifaihfad")),P=i(a("ddjgdbbihc")),w=i(a("dcdbbhicce")),A=i(a("dgdcjccfdi")),N=n(a("bjhgigfbec")),O=0,R=1,D=2,x=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={state:O},a.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return M.default.t(556);case 403:return M.default.t(557);case 404:return M.default.t(558);default:return M.default.t(559)}},a.handleLoadingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(s.createElement(N.default,{msg:t,id:(0,N.genId)()}))},a.handleRevokeGroupInvite=function(){f.default.openModal(s.createElement(k.default,{pushTransition:"none",popTransition:"none",chat:a.props.chat,onConfirm:a.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},a.handleRevokingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(s.createElement(N.default,{msg:t,id:(0,N.genId)()}))},a.handleConfirmRevokeGroupInvite=function(){a.setState({state:R});var e=(0,y.revokeGroupInvite)(a.props.groupMetadata);Promise.delay(500).then((function(){return e})).checkpoint(a.props.rejectOnUnmount()).then((function(){f.default.openToast(s.createElement(N.default,{msg:M.default.t(564),id:(0,N.genId)()})),a.setState({state:D})})).catch(C.ServerStatusCodeError,(function(e){a.handleRevokingErrorStatusCode(e.statusCode)})).catch(S.Unmount,(function(){}))},a.handleSendGroupInviteLink=function(){f.default.openModal(s.createElement(L.default,{chat:a.props.chat}),{transition:"modal-flow"})},a.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},a.renderDrawerBody=function(){var e,t=a.props.groupMetadata;if(a.state.state===O)e=s.createElement(E.LoadingWithText,{text:M.default.t(547)});else if(a.state.state===R)e=s.createElement(E.LoadingWithText,{text:M.default.t(563,{groupName:a.props.chat.contact.name})});else{var n=t.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=s.createElement(h.default,{elementId:"group-invite-link-anchor"}));var o=s.createElement(p.default,{id:a.props.chat.id,size:82,quality:p.DETAIL_IMAGE_QUALITY.HIGH}),r=s.createElement("span",{className:_.default.linkContainer},s.createElement(T.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));e=s.createElement(g.default,null,s.createElement(u.default,{image:o,primary:s.createElement(j.default,{text:a.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:r}),s.createElement("div",{className:_.default.descContainer},M.default.t(554)),s.createElement(P.default,{onClick:a.handleSendGroupInviteLink}),i,s.createElement(b.default,{a8nText:"li-revoke-link",icon:s.createElement(A.default,{name:"revoke",className:_.default.icon}),onClick:a.handleRevokeGroupInvite},M.default.t(551)))}return e},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,y.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then((function(){e.setState({state:D})})).catch(C.ServerStatusCodeError,(function(t){e.handleLoadingErrorStatusCode(t.statusCode)})).catch(S.Unmount,(function(){}))}},{key:"render",value:function(){return s.createElement(m.default,null,s.createElement(v.default,{title:M.default.t(553),onBack:this.props.onBack,type:v.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}(s.Component);x.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var F=(0,I.default)((0,w.default)(x,x.CONCERNS));t.default=F},fhajfeecb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("hbddjfeei")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("bebajedcaf")),f=i(a("ceffhbhahb")),h=a("biciedabid"),p=n(a("ddhijeejag")),m=n(a("dfhjacfbjg")),g=i(a("ccbgfecegc")),b=i(a("bbfjdcedab")),v=i(a("bjigbaghc")),j=i(a("hgigjbgie")),E=a("cfffidafid"),C=i(a("dhfbfehaef")),S=i(a("bdjjabfecc")),y=n(a("dbcedfihd")),_=i(a("bbjcfdhfhb")),k=i(a("dgdcjccfdi")),M=i(a("dbihaeaggd")),I=n(a("bjhgigfbec")),T=j.default.SEND_LOGS_MAX_EMAIL_LENGTH,L=j.default.SEND_LOGS_MAX_SUBJECT_LENGTH,P=j.default.SEND_LOGS_MIN_DESC_LENGTH,w=j.default.SEND_LOGS_MAX_DESC_LENGTH,A=j.default.SEND_LOGS_MAX_SCREENSHOTS,N=j.default.SEND_LOGS_MAX_SCREENSHOT_SIZE;function O(){return v.default.isSMB?S.default.t(1070):S.default.t(1071)}var R=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:O(),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,i=t.confirmEmail,o=t.subject,r=t.description,l=t.screenshots,d=n.trim(),c=i.trim();if(a.validateEmail(d)||(e.emailError=S.default.t(1057)),a.validateConfirmEmail(c)||(e.confirmEmailError=S.default.t(1058)),a.validateDescription(r)||(e.descriptionError=S.default.t(1069)),a.validateSubject(o)||(e.subjectError=S.default.t(1066)),(0,u.default)(e)){a.setState({email:d,confirmEmail:c,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),l.map((function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)}));var s=v.default.me?(0,h.formatPhone)(v.default.me.user):null,f=o.trim()||S.default.t(1054);m.uploadUserReport(s,d,f,r,l),a.props.onSend&&a.props.onSend({subject:f,description:r,numScreenshots:l.length}),g.default.closeModal(),g.default.openToast(p.createElement(I.default,{msg:S.default.t(1065),id:(0,I.genId)()}))}else e.email=d,e.confirmEmail=c,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),g.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e;a.validateSubject(a.state.subject)||(e=S.default.t(1066)),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=S.default.t(1069)),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=S.default.t(1057)),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),(0,u.default)(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=S.default.t(1058)),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),(0,u.default)(n)||a.setState(n)},a.validateEmail=function(e){return y.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>P},a.validateSubject=function(){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,E.getFiles)(e,"image/*").then((function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter((function(e){return e.size<=N}));t.length<e.length&&g.default.openToast(p.createElement(I.default,{msg:S.default.t(1060),id:(0,I.genId)()}));var n=a.state.screenshots.concat(t).slice(0,A);n.map((function(e){e.url||(e.url=URL.createObjectURL(e))})),a.setState({screenshots:n})}))},a.onDragChange=function(e){a.setState({isDragging:e})},a.handleAttachClick=function(){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map((function(e){var t=e.url;return t&&URL.revokeObjectURL(t)}))}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=A}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),a=t.splice(e,1),n=(0,o.default)(a,1)[0];n.url&&URL.revokeObjectURL(n.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map((function(t,a){if(!t.url)return null;var n="url(".concat(t.url,")"),i="screenshot-".concat(a);return p.createElement("div",{key:i,className:_.default.screenshotsImg,style:{backgroundImage:n}},p.createElement("button",{className:_.default.btnDelete,onClick:function(){e.deleteScreenshot(a)}},p.createElement(k.default,{name:"x-alt"})))}));return t.length?p.createElement("div",{className:_.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=A;return p.createElement("div",{className:(0,f.default)(_.default.action,_.default.disabled)},S.default.t(1068,{count:e,_plural:e}))}return this.state.isDragging?p.createElement("div",{className:_.default.action},S.default.t(1063)):p.createElement("div",{className:_.default.action,onClick:this.handleAttachClick},S.default.t(1064))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=p.createElement("div",{className:_.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),p.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return p.createElement(b.default,{title:S.default.t(1067),okText:S.default.t(1053),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},p.createElement(C.default,{handlers:e},p.createElement(M.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:T,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:S.default.t(1055)}),p.createElement(M.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:T,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:S.default.t(1056)}),p.createElement(M.default,{value:this.state.subject,error:this.state.subjectError,maxLength:L,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:S.default.t(1059)}),p.createElement(M.default,{value:this.state.description,error:this.state.descriptionError,maxLength:w,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:S.default.t(401),multiline:!0}),t))}}]),t}(p.Component);t.default=R},gafggdea:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=i(a("fhfbcdaib")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=a("dfdebdgdei"),m=i(a("hgfdbdadf")),g=i(a("bgfcjjddjf")),b=i(a("ccbgfecegc")),v=i(a("bbfjdcedab")),j=i(a("ieeidjijb")),E=i(a("dhigahgdjb")),C=i(a("bdacheahgj")),S=i(a("dahagdijgh")),y=i(a("bjheffjbgd")),_=i(a("cciafahdib")),k=n(a("bjjhgjdbhd")),M=a("cdhbdacigj"),I=i(a("bgheieccaj")),T=i(a("bfchfhibba")),L=i(a("dbfjeecgih")),P=i(a("ebddggeaib")),w=i(a("dgdcjccfdi")),A=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new L.default,a.onBlockConfirm=function(e){(0,p.blockContact)(e).catch((function(){})),b.default.closeModal()},a.onBlock=function(){b.default.openModal(f.createElement(C.default,{title:l10n.t(187),filter:function(e){return!!E.default.isFilteredContact(e)&&(!g.default.get(e.id)||l10n.t(921))},onCancel:function(){return b.default.closeModal()},onSelect:(0,u.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,p.unblockContact)(e).catch((function(){})),b.default.closeModal()},a.onUnblockCancel=function(){b.default.closeModal()},a.onUnblock=function(e,t){b.default.openModal(f.createElement(v.default,{okText:l10n.t(1129),onOK:a.onUnblockConfirm.bind((0,c.default)(a),t),cancelText:l10n.t(1245),onCancel:a.onUnblockCancel},l10n.t(1130,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return f.createElement(j.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(g.default,"add remove",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return g.default.map((function(e){return{itemKey:e.id.toString(),blocklist:e}}))}},{key:"render",value:function(){var e,t;return g.default.length>0?(e=f.createElement(T.default,{flatListControllers:[this.flatListController],className:m.default.list},f.createElement(I.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=f.createElement("div",{"data-a8n":h.default.key("blocked-description"),className:m.default.hint},l10n.t(184))):e=f.createElement(M.Blocked,null),f.createElement(S.default,null,f.createElement(k.default,{title:l10n.t(242),onBack:this.props.onClose,type:k.DRAWER_HEADER_TYPE.LARGE}),f.createElement("div",{className:m.default.button},f.createElement(_.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:f.createElement(w.default,{name:"add-user",directional:!0})},l10n.t(187))),f.createElement(y.default,null,e,t))}}]),t}(f.Component),N=(0,P.default)(A);t.default=N},gddidehjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("dhigahgdjb")),p=i(a("bjcgjiedih")),m=i(a("bdeebiagii")),g=i(a("hdhcfhidh")),b=i(a("cejfghgbfb")),v=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(e,t){u.default.find(t.id).then(f.default.openChatFromUnread.bind(f.default)),a.end()},a.onNewGroup=function(){a.push(s.createElement(b.default,{onBack:a.pop,onContinue:a.onSetGroupInfo}))},a.onSetGroupInfo=function(e){a.push(s.createElement(g.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){h.default.ensureSorted(),this.push(s.createElement(p.default,{title:l10n.t(881),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}(m.default);t.default=v},gfhdfcfge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Promise.resolve();(r.default.supportsFeature(r.default.F.SYNCD_RELEASE_1)||r.default.supportsFeature(r.default.F.MD_BACKEND))&&(t=Promise.reject(new Error("should never get here: MD_BACKEND || SYNCD_RELEASE_1 GK pass but pragma not defined.")));if(r.default.supportsFeature(r.default.F.MD_BACKEND))return t.then((function(){return{_duplicate:null}}));var a=l.default.setPushname(e);return Promise.all([t,a]).then((function(e){var t=(0,i.default)(e,2),a=(t[0],t[1]);if(a.status&&200!==a.status)throw new o.ServerStatusCodeError(a.status);return{_duplicate:a._duplicate}}))};var i=n(a("hbddjfeei")),o=a("bgihjbde"),r=n(a("bhbdiadfhj")),l=n(a("cfidecfjad"))},ghjbjjbch:function(e,t){e.exports={container:"_3PMNQ",preview:"_2clhP",caption:"VSuD-",img:"_1rASv"}},gjiifgfgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("gafggdea")),f=n(a("dfhjacfbjg")),h=i(a("ccbgfecegc")),p=i(a("bjigbaghc")),m=i(a("bdeebiagii")),g=i(a("djdjdgjjdc")),b=i(a("dcjahegieh")),v=i(a("daehjhdfgf")),j=i(a("dhefcajhhb")),E=i(a("cghhjgjffa")),C=i(a("gbbacfeci")),S=i(a("bhfeiiegef")),y=i(a("bjjegffjad")),_=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).showWallpaperDrawer=function(){a.push(s.createElement(y.default,{onClose:a._pop}))},a.showBlockedDrawer=function(){a.push(s.createElement(u.default,{onClose:a._pop}))},a.showProfileDrawer=function(){var e=C.default.assertGet(p.default.me),t=j.default.assertGet(p.default.me);a.push(s.createElement(v.default,{status:e,profilePicThumb:t,conn:p.default,onClose:a._pop}))},a.showNotifications=function(){a.push(s.createElement(b.default,{onClose:a._pop}))},a.showHelp=function(){f.upload({reason:"help-page-opened",isHighPri:!0}),a.push(s.createElement(g.default,{onClose:a._pop}))},a.showThemePopup=function(){h.default.openModal(s.createElement(S.default,null))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(E.default,{profileId:p.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onThemeSettings:this.showThemePopup,onClose:this._pop}))}}]),t}(m.default);t.default=_},hdhcfhidh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dffedeegcb"),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=a("dgjddffcfg"),v=i(a("bdjjabfecc")),j=i(a("cejgdbefcg")),E=i(a("hajhefagc")),C=i(a("cfcfdeifjb")),S=i(a("deffjjfcba")),y=i(a("dgdcjccfdi")),_=i(a("dbihaeaggd")),k=i(a("didfdhbecg")),M=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onImageSet=function(e,t){a.setState({thumb:e,full:t})},a.onContinue=function(){var e=(0,b.emojify)(a.state.text.trim());(0,h.createGroup)(e,a.state.thumb,a.state.full,a.props.participants),a.props.onContinue()},a.onSubjectChange=function(e){a.setState({text:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a.state={text:e.subject||"",thumb:e.thumb,full:e.full},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?u.createElement("div",{className:j.default.nextButton},u.createElement(S.default,{a8nText:"create-group-btn",onClick:(0,s.default)(this.onContinue)},u.createElement(y.default,{name:"checkmark-medium"}))):null;return u.createElement(p.default,null,u.createElement(g.default,{title:v.default.t(882),type:g.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(m.default,null,u.createElement("div",{className:j.default.section},u.createElement(E.default,{type:C.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),u.createElement("div",{"data-a8n":f.default.key("group-subject"),className:j.default.section},u.createElement(_.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:v.default.t(582),onEnter:e?(0,s.default)(this.onContinue):function(){},supportsEmoji:!0})),u.createElement(k.default,{transitionName:"btn"},t)))}}]),t}(u.Component);t.default=M},heaagdjji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetersBetweenLatLngs=function(e,t,a,i){var o=n(a-e),r=n(i-t),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n(e))*Math.cos(n(a))*Math.sin(r/2)*Math.sin(r/2),d=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return 6371e3*d},t.getMetersPerPixel=function(e,t){var a=Math.cos(e*Math.PI/180),n=1/Math.pow(2,t);return 156543.03392*a*n},t.getLatDiff=function(e){return i(e/6371e3)},t.getLngDiff=function(e,t){var a=6371e3*Math.cos(n(t));return i(e/a)};function n(e){return e*(Math.PI/180)}function i(e){return e*(180/Math.PI)}},hgfdbdadf:function(e,t){e.exports={list:"_8vEbr",hint:"_279Df",button:"NmSjS"}},icfeihfad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("bdeebiagii")),m=i(a("djaadchjch")),g=i(a("djgcaefhci")),b=i(a("cjfeddifcd")),v=i(a("gjbhafcjg")),j=n(a("bjhgigfbec")),E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;f.default.closeModal(),Promise.all(a.props.participantNeedInvite.map((function(n){var i=n.contact,o=n.invite_code,r=n.invite_code_exp;return u.default.find(i.id).then((function(n){var l=a.props.groupGid.toString(),d=m.default.assertGet(l);return n.sendGroupInviteMessage(l,a.props.subject,o||"",r,e,t).then((function(e){return"success"===e&&(d.pendingParticipants.add({id:i.id}),!0)}))}))}))).then((function(e){var t=e.filter(Boolean).length;f.default.openToast(s.createElement(j.default,{msg:l10n.t(1358,{num:t,_plural:t}),id:(0,j.genId)()}))}))},a.addInviteCommment=function(e){a.push(s.createElement(g.default,{participants:e,gid:a.props.groupGid,subject:a.props.subject,groupDesc:a.props.groupDesc,onClose:a._pop,onSend:a.onSendInvite}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map((function(e){return e.contact})),!0),a=l10n.t(587,{participant:t,_plural:e.length});this.push(s.createElement(h.default,{onOK:this.addInviteCommment.bind(this,e),okText:l10n.t(1357),onCancel:this._pop,cancelText:l10n.t(1245)},a))}},{key:"getFormattedName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.formattedUser:s.createElement(v.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,a);var n=e.map((function(e){return t.getFormattedName(e,a)}));return(0,b.default)(n,a)}}]),t}(p.default);t.default=E,E.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},iieiegjjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("biheibdage"),f=i(a("cababhbggf")),h=i(a("bghfehcaaj")),p=i(a("cdbfcccegj")),m=i(a("bfajgaeghd")),g=i(a("cggjjcbdia")),b=i(a("bihjdjceid")),v=i(a("bjddhceafh")),j=i(a("fhgchaefa")),E=i(a("ccbgfecegc")),C=i(a("bbfjdcedab")),S=i(a("hgigjbgie")),y=i(a("dcjhajfghf")),_=i(a("dahagdijgh")),k=i(a("bjheffjbgd")),M=n(a("bjjhgjdbhd")),I=a("cfffidafid"),T=n(a("cajijabhgb")),L=a("cgffhfegce"),P=i(a("ddajbaceej")),w=i(a("dhfbfehaef")),A=i(a("ebddggeaib")),N=i(a("chjejfcdd")),O=i(a("bdcchebfge")),R=a("cedhgehjef"),D=i(a("dhccahhefj")),x=i(a("deffjjfcba")),F=i(a("ecdebjcgfa")),U=i(a("dgdcjccfdi")),B=n(a("bjhgigfbec")),V=i(a("didfdhbecg")),G=S.default.MSG_TYPE,H=G.IMAGE,W=G.VIDEO,Y=G.DOCUMENT,z=G.AUDIO,K=u.ATTACH_MEDIA_STATE.PROCESSING,q=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,r.default)(this,(0,l.default)(t).call(this,e))).attachMediaRefMap=new Map,a.setRefContainer=function(e){a.refContainer=e},a.setRefInput=function(e){a.refInput=e},a.setAttachMediaRef=function(e,t){a.attachMediaRefMap.set(e,t)},a.onMediaProcessUpdate=function(){var e=a.props.mediaCollection;if(e.canSend()){var t=e.uiProcessMsgs().errorMsgs,n=e.getPreviewableMedias();t&&n.length>0&&E.default.openToast(s.createElement(B.default,{msg:t,id:(0,B.genId)()})),a.forceUpdate()}},a.onFilesNotSupported=function(){var e=a.props.mediaCollection.filter((function(e){return e.exception}));e.length>0&&a.props.onFailedMedias(e)},a.showIgnoredToast=function(e){if(e>0){var t=l10n.t(1123,{number:e,_plural:e});E.default.openToast(s.createElement(B.default,{msg:t,id:(0,B.genId)()}))}},a.onDrop=function(e){a.onFilePick(e)},a.onDragLeave=function(){a.props.mediaCollection.length||a.props.onBack()},a.onDragChange=function(e,t){a.setState({isDragging:e}),e||t||a.props.mediaCollection.length||a.props.onBack()},a.onEnter=function(e){a.state.activeMedia&&(e.repeat||e.shiftKey||a.onSend())},a.onArrowLeft=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtStart())&&a.onPrev()}},a.onArrowRight=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtEnd())&&a.onNext()}},a.onNext=function(){a.props.mediaCollection.setNextAsActive()&&(a.refSendButton&&P.default.focus(a.refSendButton),a._scrollIntoView())},a.onPrev=function(){a.props.mediaCollection.setPrevAsActive()&&(a.refSendButton&&P.default.focus(a.refSendButton),a._scrollIntoView())},a._scrollIntoView=function(){var e=a.props.mediaCollection.getActive();if(e){var t=a.attachMediaRefMap.get(e.id);t&&t.scrollIntoView()}},a.onSelectThumb=function(e){a.props.mediaCollection.setActive(e)},a.onSend=function(e){e&&e.preventDefault(),e&&e.shiftKey||a.props.mediaCollection.canSend()&&Promise.all([]).then((function(){var e=a.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map((function(e){var t=e.caption,n=[],i=a.refCaptionInput&&a.refCaptionInput.refInput;if(t&&i){var o=i.serialize(t),r=[o[0].trim(),o[1]],l=r[0],d=r[1];l.length&&(t=l,n=d.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:n}}));a.props.onSendMedia(t,a.state.isInitCaptionUsed)}}))},a.onAddFileClick=function(){a.refInput&&a.refInput.click()},a.onFilePick=function(e){(0,I.getFiles)(e).then((function(e){return a.props.mediaCollection.processAttachments(e.map((function(e){return{file:e}})),O.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)})).checkpoint(a.props.rejectOnUnmount()).catch(T.Unmount,(function(){})).catch(T.MediaDragDropError,(function(e){a.props.mediaCollection.length||a.props.onDropText(e.src)})),e.target&&e.target.value&&(e.target.value="")},a.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),a.props.mediaCollection.remove(e),0===a.props.mediaCollection.getValidMedias().length?a.delayedClose=setTimeout((function(){a.props.onBack()}),200):a.refSendButton&&P.default.focus(a.refSendButton)},a.onCaptionChange=function(e){var t=a.state,n=t.activeMedia,i=t.isInitCaptionUsed;if(n){var o=a.props.mediaCollection.indexOf(n);n.caption=e,0===o&&""===e&&i?a.setState({isInitCaptionUsed:!1}):a.forceUpdate()}},a.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new y.default(e.clipboardData);t.hasFiles()&&a.onFiles(t)},a.onFiles=function(e){var t=e.getFiles().filter((function(e){var t=(0,L.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((function(e){return{file:e}}));a.props.mediaCollection.processAttachments(t,O.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},a.setRefCaptionInput=function(e){a.state.activeMedia&&!e||(a.refCaptionInput=e)},a.getMedia=function(e){var t,n,i;switch(e.type){case H:case W:t||(t=s.createElement(b.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===K,preview:e.preview})),n=s.createElement("div",{className:f.default.captionInput,"data-animate-media-caption":!0},s.createElement(N.default,{ref:a.setRefCaptionInput,value:e.caption,placeholder:l10n.t(182),maxLength:S.default.MAX_CAPTION_LENGTH,onEnter:a.onSend,onChange:a.onCaptionChange,onFiles:a.onFiles,chat:a.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}));break;case z:t=s.createElement(p.default,{mimeType:e.mimetype,url:e.fullPreview});break;case Y:switch((0,R.previewType)(e.mimetype)){case"pdf":t=s.createElement(v.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pageCount:e.documentPageCount,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=s.createElement(m.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=s.createElement(g.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(i=s.createElement("div",{className:f.default.mediaWarning,"data-animate-attach-media":!0},l10n.t(717)," ",s.createElement(j.default,{onClick:a.onWarningCtaClick},l10n.t(654)))),s.createElement("div",{className:f.default.mediaBody,key:e.id},t,i,n)},a.onWarningCtaClick=function(e){e.preventDefault(),E.default.openModal(s.createElement(C.default,{onOK:function(){return E.default.closeModal()}},l10n.t(515)))},a.getThumbs=function(e){return e.map((function(e){return s.createElement(h.default,{id:e.id,key:"media-"+e.id,active:e===a.state.activeMedia,attachMedia:e,onClick:a.onSelectThumb,onClose:a.onRemoveThumb,onRef:a.setAttachMediaRef})}))},a.setRefSendButton=function(e){a.refSendButton=e},a.state={activeMedia:null,prevActiveMedia:null,isInitCaptionUsed:!1,isDragging:!1},a}return(0,c.default)(t,e),(0,d.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.mediaCollection.getActive(),n=e.initCaption&&e.initCaption.text,i=t.isInitCaptionUsed;return i||t.activeMedia||!n||!a||a.type!==H&&a.type!==W||(a.caption=n,i=!0),{prevActiveMedia:t.activeMedia,activeMedia:a,isInitCaptionUsed:i}}}]),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.mediaCollection,n=t.listeners;n.add(a,"add remove reset",(function(){e.forceUpdate()})),n.add(a,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(a,"files_not_supported",this.onFilesNotSupported),n.add(a,"max_upload_limit",this.showIgnoredToast),a.mediaPickerStatsLogger.resumeTimer()}},{key:"componentDidUpdate",value:function(e,t){var a=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle((function(){a.refCaptionInput&&a.refCaptionInput.restoreFocus()})):this.refSendButton&&this.refContainer&&!this.refContainer.contains(document.activeElement)&&P.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e,t,a,n=this.props.mediaCollection,i=this.state,o=i.activeMedia,r=i.prevActiveMedia,l=0,d=!0,c=n.getPreviewableMedias();c.length>S.default.MAX_FILES&&(c=c.slice(0,S.default.MAX_FILES)),n.canSend()?o?e=this.getMedia(o):0===c.length&&n.errorMsgs&&(e=s.createElement("div",{className:f.default.invalidContainer,key:"pending"},s.createElement("div",{className:f.default.invalidMedia},n.errorMsgs))):(d=!1,e=s.createElement(F.default,{key:"processing",color:"highlight"})),c.length>0&&(t=this.getThumbs(c),l=1===c.length?400:400+(150+15*c.length),a=d?s.createElement("div",{className:f.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},s.createElement(x.default,{large:!0,onClick:this.onSend},s.createElement(U.default,{name:"send",directional:!0}))):null);var u=this.state.isDragging?s.createElement("div",{key:"container",className:f.default.dropOverlay},s.createElement("div",{className:f.default.dropOverlayOutline},l10n.t(432))):null,h=c.length<S.default.MAX_FILES?s.createElement("div",{className:f.default.btnAdd,key:"media-more",onClick:this.onAddFileClick,role:"button"},s.createElement(U.default,{name:"add-alt"}),s.createElement("div",{className:f.default.btnAddText},l10n.t(189))):null,p={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},m="*"===R.DOC_MIMES?"*":[S.default.IMAGE_MIMES,S.default.VIDEO_MIMES,R.DOC_MIMES].join(),g="media-scale";return o&&r&&o!==r&&(g=n.indexOf(o)>n.indexOf(r)?"media-slide-forward":"media-slide-back"),s.createElement(w.default,{handlers:p,onRef:this.setRefContainer},s.createElement(_.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},s.createElement(M.default,{title:l10n.t(1450),type:M.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),s.createElement(k.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},u,s.createElement("div",{className:f.default.body},s.createElement(V.default,{transitionName:g},e)),s.createElement("div",{className:f.default.thumbs},s.createElement(V.default,{transitionAppear:!0,transitionName:"thumb-scale",className:f.default.thumbsContainer},t),h),s.createElement(V.default,{transitionAppear:!0,transitionName:"btn",delay:l},a),s.createElement("input",{ref:this.setRefInput,type:"file",accept:m,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}(s.Component),X=(0,D.default)((0,A.default)(q));t.default=X},jajhhaah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("hgigjbgie")),p=a("cbhhehcjbb"),m=i(a("bgcdjjjjad")),g=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=h.default.VERSION_STR;return u.createElement(p.SelectableDiv,{"data-a8n":f.default.key("version"),className:(0,s.default)(m.default.versionInfo,this.props.className),selectable:!0},l10n.t(1181,{version:""}),u.createElement("span",{dir:"LTR"},e),null)}}]),t}(u.PureComponent);t.default=g},jbeeghga:function(e,t){e.exports={title:"_3ooFS"}},jdibabjeb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),o=n(a("ffceefejc")),r=n(a("cjedcdbdii")),l=n(a("dbjagcfebh")),d=n(a("cfgafiffdb")),c=n(a("dfdhhbaich")),s=n(a("dbbhijehii")),u=n(a("ecddiajibj")),f=n(a("igieaiddf")),h=n(a("ifdgihhgf")),p=n(a("cecdefhddc")),m=n(a("dajheaeehj")),g=new u.default,b=new d.default,v=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,r.default)(t).apply(this,arguments))}return(0,l.default)(t,e),t}((0,f.default)([c.default,b,g,h.default]));t.default=v,v.MentionSuggestions=(0,m.default)(p.default,{plugin:g}),v.EmojiSuggestions=(0,m.default)(s.default,{plugin:b})},jgabafafc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cidchbceif")),f=i(a("hhcjfgifh")),h=i(a("bgheieccaj")),p=i(a("bfchfhibba")),m=i(a("dbfjeecgih")),g=i(a("gjbhafcjg")),b=i(a("dgdcjccfdi")),v=i(a("dggddfhei")),j=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new m.default,a.renderListItem=function(e){var t=e.participant,n=t.isMe?s.createElement("div",{className:u.default.time},s.createElement(v.default,{participant:t})):null;return s.createElement("div",{className:u.default.item,onClick:function(){return a.props.onParticipantSelected(t.contact.id.toString())}},s.createElement("div",{className:u.default.left},s.createElement(f.default,{id:t.contact.id,size:28})),s.createElement("div",{className:u.default.right},s.createElement("div",{className:u.default.name},s.createElement(g.default,{contact:t.contact,titlify:!0,ellipsify:!0,you:!0})),n))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){return s.createElement("div",{className:u.default.container},s.createElement("div",{className:u.default.header},s.createElement("div",{className:u.default.left},s.createElement("span",{className:u.default.close,onClick:this.props.onClearSelected},s.createElement(b.default,{name:"x"}))),s.createElement("div",{className:u.default.right},l10n.t(662,{count:this.props.participants.length,_plural:this.props.participants.length}))),s.createElement(p.default,{className:u.default.list,flatListControllers:[this.flatListController]},s.createElement(h.default,{data:this.getListData(),flatListController:this.flatListController,direction:"vertical",defaultItemHeight:48,renderItem:this.renderListItem})))}}]),t}(s.Component);t.default=j},jgjccejgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("eaaagccfda")),u=i(a("iidhbgeed")),f=i(a("dbafiicfja")),h=n(a("ddhijeejag")),p=n(a("dighcbdehd")),m=a("cdhbdacigj"),g=a("dgjddffcfg"),b=i(a("bciccdecig")),v=i(a("dcaibchbg")),j=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onSelect=function(e,t){if(t instanceof p.Mode){var n=t.props.chat;!0===a.props.filter(n)&&a.props.onGroup(t.props.chat)}},a.onSearch=(0,s.default)((function(e){a.setState({searchText:e})}),100),a.renderItem=function(e){var t,n,i=a.props,o=i.onGroup,r=(0,i.filter)(e.chat),l="boolean"!=typeof r;return l&&(t=r,n="group-modal"),h.createElement(p.default,{chat:e.chat,contact:e.chat.contact,mode:p.Mode.INFO,active:a.selection,secondary:t,noContext:!0,theme:n,onClick:l?void 0:o.bind(null,e.chat)})},a.selection=new v.default,a.state={loading:!0,searchText:void 0},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then((function(){return Promise.all((0,f.default)((0,u.default)(t,(function(e){return e.groupMetadata.stale})),(function(e){return a("djaadchjch").default.update(e.groupMetadata.id).catch((function(){}))})))})).then((function(){return e.setState({loading:!1})}))}},{key:"getData",value:function(){var e=this.props,t=e.chats,a=e.filter,n=this.state,i=n.loading,o=n.searchText;if(i)return[];var r=l10n.accentFold(o),l=(0,g.numberSearch)(r),d=t.filter((function(e){return a(e)&&(!r||r&&e.contact.searchMatch(r,l))}));return this.selection.init(d.filter((function(e){return!0===a(e)})).map((function(e){return e.id}))),d.map((function(e){return{chat:e,itemKey:e.id.toString()}}))}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?h.createElement(m.Loading,null):h.createElement(m.SearchGroups,null);return h.createElement(b.default,{title:l10n.t(1360),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(1031),onSelect:this.onSelect,onCancel:e})}}]),t}(h.Component);t.default=j,j.defaultProps={filter:function(){return!0}}},jjhjbgbd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("gfebgebbi")),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){f.default.closeModal()},a.onUnstar=function(){var e=a.props.chat,t=a.props.msgs;e&&e.pendingAction++,u.default.unstarAllMessages(t,e).finally((function(){e&&e.pendingAction--})),f.default.closeModal()},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.createElement(h.default,{onOK:this.onUnstar,okText:l10n.t(1138),onCancel:this.onCancel},s.createElement("div",null,s.createElement(p.default,{text:l10n.t(1139)})))}}]),t}(s.Component);t.default=m}}]);